{"version":3,"sources":["dist/js/bundle/node_modules/browser-pack/_prelude.js","dist/js/bundle/src/collection/token-map.ts","dist/js/bundle/src/main.test.ts","dist/js/bundle/src/task/flow/task-flow-when.ts","dist/js/bundle/src/task/flow/task-part-begin-constraint.ts","dist/js/bundle/src/task/flow/task-part-constraint.ts","dist/js/bundle/src/task/flow/task-part-end-constraint.ts","dist/js/bundle/src/task/flow/task-part-group-constraint.ts","dist/js/bundle/src/task/flow/task-part-time-constraint.ts","dist/js/bundle/src/task/operation/operation-manager.ts","dist/js/bundle/src/task/task-engine.ts","dist/js/bundle/src/task/task-part-when-events.ts","dist/js/bundle/src/task/task-part-when-operator.ts","dist/js/bundle/src/test/collection/token-map.test.ts","dist/js/bundle/src/test/logic/flow/log-message-task-flow-part.ts","dist/js/bundle/src/test/logic/log-task-engine.ts","dist/js/bundle/src/test/logic/sample-log.ts","dist/js/bundle/src/test/task/log-task-engine.test.ts","dist/js/bundle/src/test/task/operation/operation-manager.test.ts","dist/js/bundle/node_modules/@babel/runtime/helpers/assertThisInitialized.js","dist/js/bundle/node_modules/@babel/runtime/helpers/classCallCheck.js","dist/js/bundle/node_modules/@babel/runtime/helpers/createClass.js","dist/js/bundle/node_modules/@babel/runtime/helpers/getPrototypeOf.js","dist/js/bundle/node_modules/@babel/runtime/helpers/inherits.js","dist/js/bundle/node_modules/@babel/runtime/helpers/interopRequireDefault.js","dist/js/bundle/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","dist/js/bundle/node_modules/@babel/runtime/helpers/setPrototypeOf.js","dist/js/bundle/node_modules/@babel/runtime/helpers/typeof.js","dist/js/bundle/node_modules/events/events.js"],"names":[],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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BAAJ,EAArB;AACA,YAAM,gBAAgB,GAAG,IAAI,kCAAJ,CACrB,8BADqB,EAErB,YAFqB,CAAzB;AAIA,QAAA,MAAM,CAAC,gBAAD,CAAN,CAAyB,GAAzB,CAA6B,QAA7B;AACH,OAPC,CAAF;AAQH;;;uEAEuD;AACpD,MAAA,EAAE,CAAC,gDAAD,EAAmD,YAAK;AACtD,YAAM,YAAY,GAAG,IAAI,oBAAJ,EAArB;AACA,YAAM,gBAAgB,GAAG,IAAI,kCAAJ,CACrB,8BADqB,EAErB,YAFqB,CAAzB;AAIA,QAAA,MAAM,CAAC,gBAAgB,CAAC,WAAjB,CAA6B,kBAA7B,EAAiD,CAAjD,CAAD,CAAN,CAA4D,IAA5D,CAAiE,KAAjE;AACH,OAPC,CAAF;AAQH;;;;;;;;AC3HL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.test.js","sourceRoot":"../../..","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export class TokenMap<T> {\r\n    //#region Properties\r\n\r\n    /**\r\n     * Inner map.\r\n     */\r\n    protected innerMap: Map<number, T>;\r\n\r\n    /**\r\n     * List of unused indexed bellow the maximun used index.\r\n     */\r\n    protected unusedIndexes: number[];\r\n\r\n    //#endregion\r\n\r\n    public constructor() {\r\n        this.innerMap = new Map<number, T>();\r\n        this.unusedIndexes = new Array();\r\n    }\r\n\r\n    /**\r\n     * Adds an element to the array collection.\r\n     * @param elem Element to be added to the array.\r\n     * @returns index in which the element is located.\r\n     */\r\n    public add(elem: T): number {\r\n        if (0 === this.unusedIndexes.length) {\r\n            const lastIndex: number = this.innerMap.size;\r\n            this.innerMap.set(lastIndex, elem);\r\n            return lastIndex;\r\n        } else {\r\n            const lastIndex: number = this.unusedIndexes[this.unusedIndexes.length - 1];\r\n            --this.unusedIndexes.length;\r\n            this.innerMap.set(lastIndex, elem);\r\n            return lastIndex;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtains the amount of elements inside the array.\r\n     * @returns Amount of elements inside the array.\r\n     */\r\n    public count(): number {\r\n        return this.innerMap.size;\r\n    }\r\n\r\n    /**\r\n     * Iterates over the array and applies a function.\r\n     * @param consumer Function to apply to any pair of index-element found (undefined values are discarted).\r\n     */\r\n    public foreach(consumer: (value: T, key: number) => void): void {\r\n        this.innerMap.forEach(function(value: T, key: number) {\r\n            consumer(value, key);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Obtains an element at the specified index.\r\n     * @param index Index of the element to obtaint.\r\n     * @returns Element obtianed at the specified index.\r\n     */\r\n    public get(index: number): T {\r\n        return this.innerMap.get(index);\r\n    }\r\n\r\n    /**\r\n     * Removes an element at the position specified.\r\n     * @param index Index of the element to be removed.\r\n     * @returns Result of the operation.\r\n     */\r\n    public remove(index: number): boolean {\r\n        if (this.innerMap.has(index)) {\r\n            this.innerMap.delete(index);\r\n            this.unusedIndexes[this.unusedIndexes.length] = index;\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import { TokenMapTests } from './test/collection/token-map.test';\nimport { LogTaskEngineTests } from './test/task/log-task-engine.test';\nimport { OperationManagerTests } from './test/task/operation/operation-manager.test';\n\n(function() {\n    new LogTaskEngineTests().performTests();\n    new OperationManagerTests().performTests();\n    new TokenMapTests().performTests();\n}());\n","/**\r\n * Constraint that determines the start of the task part.\r\n */\r\nexport interface ITaskPartWhenConstraint {\r\n    /**\r\n     * When entity to check once this constraint is ensured.\r\n     */\r\n    after: ITaskPartWhenConstraint;\r\n    /**\r\n     * Type of this constraint.\r\n     */\r\n    constraintType: string;\r\n}\r\n\r\n/**\r\n * Constraint that determines the start of the task part.\r\n */\r\nexport abstract class TaskPartWhenConstraint implements ITaskPartWhenConstraint {\r\n    /**\r\n     * When entity to check once this constraint is ensured.\r\n     */\r\n    public after: ITaskPartWhenConstraint;\r\n    /**\r\n     * Type of this constraint.\r\n     */\r\n    public constraintType: string;\r\n\r\n    /**\r\n     * Creates a new task part constraint.\r\n     * @param after Constraint to apply after this constraint is checked.\r\n     * @param constraintType Constraint type.\r\n     */\r\n    public constructor(after: ITaskPartWhenConstraint, constraintType: string) {\r\n        this.after = after;\r\n        this.constraintType = constraintType;\r\n    }\r\n}\r\n","import { ITaskPartWhenConstraint } from './task-flow-when';\r\nimport {\r\n    TASK_CONSTRAINT_TYPES,\r\n    TaskPartConstraint,\r\n} from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once a task part starts.\r\n */\r\nexport class TaskPartBeginConstraint extends TaskPartConstraint {\r\n    public constructor(after: ITaskPartWhenConstraint, alias: string) {\r\n        super(after, alias, TASK_CONSTRAINT_TYPES.START);\r\n    }\r\n}\r\n","import {\r\n    ITaskPartWhenConstraint,\r\n    TaskPartWhenConstraint,\r\n} from './task-flow-when';\r\n\r\n/**\r\n * Task constraint types\r\n */\r\nexport const TASK_CONSTRAINT_TYPES = {\r\n    /**\r\n     * Requires the end of a task part.\r\n     */\r\n    END: 'anim.end',\r\n    /**\r\n     * Requires a group of constraints.\r\n     */\r\n    GROUP: 'group',\r\n    /**\r\n     * Requires the start of a task part.\r\n     */\r\n    START : 'anim.start',\r\n    /**\r\n     * Requires an amount of time.\r\n     */\r\n    WAIT_FOR: 'wait',\r\n};\r\n\r\nexport abstract class TaskPartConstraint extends TaskPartWhenConstraint {\r\n    /**\r\n     * Alias of the part affected by this constraint.\r\n     */\r\n    public alias: string;\r\n\r\n    /**\r\n     * Creates a new task part constraint.\r\n     * @param after Constraint to apply after this constraint is checked.\r\n     * @param alias Aliases of the parts affected by this constraint.\r\n     * @param constraintType Constraint type.\r\n     */\r\n    public constructor(after: ITaskPartWhenConstraint, alias: string, constraintType: string) {\r\n        super(after, constraintType);\r\n\r\n        this.alias = alias;\r\n    }\r\n}\r\n","import { ITaskPartWhenConstraint } from './task-flow-when';\r\nimport {\r\n    TASK_CONSTRAINT_TYPES,\r\n    TaskPartConstraint,\r\n} from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once a task part ends.\r\n */\r\nexport class TaskPartEndConstraint extends TaskPartConstraint {\r\n    public constructor(after: ITaskPartWhenConstraint, alias: string) {\r\n        super(after, alias, TASK_CONSTRAINT_TYPES.END);\r\n    }\r\n}\r\n","import { TaskPartWhenOperator } from '../task-part-when-operator';\r\nimport {\r\n    ITaskPartWhenConstraint,\r\n    TaskPartWhenConstraint,\r\n} from './task-flow-when';\r\nimport { TASK_CONSTRAINT_TYPES } from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once a group of constraints are checked.\r\n */\r\nexport class TaskGroupConstraint extends TaskPartWhenConstraint {\r\n    /**\r\n     * Constraints to ensure\r\n     */\r\n    public constraints: ITaskPartWhenConstraint[];\r\n    /**\r\n     * Logical operator\r\n     */\r\n    public operator: TaskPartWhenOperator;\r\n\r\n    /**\r\n     * Creates a new instance.\r\n     *\r\n     * @param after Constraint to check after all the constraitns of the group have successfully checked.\r\n     * @param constraints Group of constraints to check.\r\n     * @param operator Logical operator to apply.\r\n     */\r\n    public constructor(\r\n        after: ITaskPartWhenConstraint,\r\n        constraints: ITaskPartWhenConstraint[],\r\n        operator: TaskPartWhenOperator,\r\n    ) {\r\n        super(after, TASK_CONSTRAINT_TYPES.GROUP);\r\n\r\n        this.constraints = constraints;\r\n        this.operator = operator;\r\n    }\r\n}\r\n","import {\r\n    ITaskPartWhenConstraint,\r\n    TaskPartWhenConstraint,\r\n} from './task-flow-when';\r\nimport { TASK_CONSTRAINT_TYPES } from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once an amount of time passes.\r\n */\r\nexport class TaskTimeConstraint extends TaskPartWhenConstraint {\r\n    /**\r\n     * Milliseconds to wait.\r\n     */\r\n    public millis: number;\r\n\r\n    public constructor(after: ITaskPartWhenConstraint, millis: number) {\r\n        super(after, TASK_CONSTRAINT_TYPES.WAIT_FOR);\r\n        this.millis = millis;\r\n    }\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport { TokenMap } from '../../collection/token-map';\r\nimport { IOperationManagerAccess } from './operation-manager-access';\r\n\r\n/**\r\n * Operation arguments\r\n */\r\nexport interface IOperationArgs {\r\n    aliases: string[];\r\n}\r\n\r\n/**\r\n * Represents an operation manager. The operation is propagated using an event.\r\n * All the subscribers\r\n */\r\nexport class OperationManager<Args extends IOperationArgs> implements IOperationManagerAccess<Args> {\r\n\r\n    //#region Attributes\r\n\r\n    /**\r\n     * Function to be called to handle the event.\r\n     */\r\n    protected callFunction: (eventArgs: Args) => void;\r\n\r\n    /**\r\n     * Alias of the event.\r\n     */\r\n    protected eventAlias: string;\r\n\r\n    /**\r\n     * Event emmitter of the event.\r\n     */\r\n    protected eventEmitter: EventEmitter;\r\n\r\n    /**\r\n     * Object to storage all the functions subscribed.\r\n     */\r\n    protected subscriptionStorage: { [alias: string]: TokenMap<(eventArgs: Args) => void> };\r\n\r\n    //#endregion\r\n\r\n    /**\r\n     * Creates a new operation manager\r\n     * @param eventAlias Event alias.\r\n     * @param eventEmitter Event emitter.\r\n     */\r\n    public constructor(eventAlias: string, eventEmitter: EventEmitter) {\r\n        const that = this;\r\n        this.callFunction = function(eventArgs: Args): void {\r\n            if (eventArgs.aliases == null) {\r\n                for (const alias in that.subscriptionStorage) {\r\n                    if (that.subscriptionStorage.hasOwnProperty(alias)) {\r\n                        const subscribers = that.subscriptionStorage[alias];\r\n                        if (subscribers != null) {\r\n                            subscribers.foreach(function(value: (eventArgs: Args) => void) {\r\n                                value(eventArgs);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                for (const alias of eventArgs.aliases) {\r\n                    const subscribers = that.subscriptionStorage[alias];\r\n                    if (subscribers != null) {\r\n                        subscribers.foreach(function(value: (eventArgs: Args) => void) {\r\n                            value(eventArgs);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        this.eventAlias = eventAlias;\r\n        this.eventEmitter = eventEmitter;\r\n        this.subscriptionStorage = {};\r\n\r\n        this.eventEmitter.addListener(this.eventAlias, this.callFunction);\r\n    }\r\n\r\n    /**\r\n     * Disposes the instance.\r\n     */\r\n    public dispose(): void {\r\n        this.eventEmitter.removeListener(this.eventAlias, this.callFunction);\r\n    }\r\n\r\n    /**\r\n     * Substribes a handler under an alias.\r\n     * @param alias Alias of the handler.\r\n     * @param handler Handler to be subscribed.\r\n     */\r\n    public subscribe(alias: string, handler: (eventArgs: Args) => void): number {\r\n        if (null == this.subscriptionStorage[alias]) {\r\n            this.subscriptionStorage[alias] = new TokenMap();\r\n        }\r\n        return this.subscriptionStorage[alias].add(handler);\r\n    }\r\n\r\n    /**\r\n     * Unsubscribes a handler under an alias.\r\n     * @param alias Alias of the handler.\r\n     * @param index Index of the handler.\r\n     */\r\n    public unsubscribe(alias: string, index: number): boolean {\r\n        if (null == this.subscriptionStorage[alias]) {\r\n            return false;\r\n        } else {\r\n            return this.subscriptionStorage[alias].remove(index);\r\n        }\r\n    }\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport { ITaskFlow } from './flow/task-flow';\r\nimport { ITaskFlowPart } from './flow/task-flow-part';\r\nimport {\r\n    ITaskFlowPartEndArgs,\r\n    ITaskFlowPartStartArgs,\r\n} from './flow/task-flow-part-event-args';\r\nimport { ITaskPartWhenConstraint } from './flow/task-flow-when';\r\nimport { TaskPartBeginConstraint } from './flow/task-part-begin-constraint';\r\nimport { TASK_CONSTRAINT_TYPES } from './flow/task-part-constraint';\r\nimport { TaskPartEndConstraint } from './flow/task-part-end-constraint';\r\nimport { TaskGroupConstraint } from './flow/task-part-group-constraint';\r\nimport { TaskTimeConstraint } from './flow/task-part-time-constraint';\r\nimport { OperationManager } from './operation/operation-manager';\r\nimport { IOperationManagerAccess } from './operation/operation-manager-access';\r\nimport { TASK_PART_WHEN_EVENTS } from './task-part-when-events';\r\nimport { TaskPartWhenOperator } from './task-part-when-operator';\r\n\r\n/**\r\n * Represents a task engine.\r\n */\r\nexport abstract class TaskEngine<TPart extends ITaskFlowPart> {\r\n    //#region Attributes\r\n\r\n    /**\r\n     * Task currently managed.\r\n     */\r\n    protected currentTask: ITaskFlow<TPart>;\r\n\r\n    /**\r\n     * Event emitter to use\r\n     */\r\n    protected eventEmitter: EventEmitter;\r\n\r\n    //#region Operations\r\n\r\n    /**\r\n     * Manager that handles the part end event.\r\n     */\r\n    protected partEndManager: OperationManager<ITaskFlowPartEndArgs<TPart>>;\r\n\r\n    /**\r\n     * Manager that handles the part start event.\r\n     */\r\n    protected partStartManager: OperationManager<ITaskFlowPartStartArgs<TPart>>;\r\n\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region Public\r\n\r\n    /**\r\n     * Creates a new instance.\r\n     */\r\n    public constructor() {\r\n        this.eventEmitter = new EventEmitter();\r\n\r\n        this.partEndManager = new OperationManager<ITaskFlowPartEndArgs<TPart>>(\r\n            TASK_PART_WHEN_EVENTS.END,\r\n            this.eventEmitter,\r\n        );\r\n        this.partStartManager = new OperationManager<ITaskFlowPartStartArgs<TPart>>(\r\n            TASK_PART_WHEN_EVENTS.START,\r\n            this.eventEmitter,\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Obtains the access of the part end event.\r\n     * @returns Access of the part end event.\r\n     */\r\n    public getPartEndListenerAccess(): IOperationManagerAccess<ITaskFlowPartEndArgs<TPart>> {\r\n        const that = this;\r\n        return {\r\n            subscribe: function(\r\n                alias: string,\r\n                handler: (eventArgs: ITaskFlowPartEndArgs<TPart>) => void,\r\n            ): number {\r\n                return that.partEndManager.subscribe(alias, handler);\r\n            },\r\n            unsubscribe: function(alias: string, index: number): boolean {\r\n                return that.partEndManager.unsubscribe(alias, index);\r\n            },\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Obtains the access of the part start event.\r\n     * @returns Access of the part start event.\r\n     */\r\n    public getPartStartListenerAccess(): IOperationManagerAccess<ITaskFlowPartStartArgs<TPart>> {\r\n        const that = this;\r\n        return {\r\n            subscribe: function(\r\n                alias: string,\r\n                handler: (eventArgs: ITaskFlowPartStartArgs<TPart>) => void,\r\n            ): number {\r\n                return that.partStartManager.subscribe(alias, handler);\r\n            },\r\n            unsubscribe: function(alias: string, index: number): boolean {\r\n                return that.partStartManager.unsubscribe(alias, index);\r\n            },\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Handles a task flow.\r\n     * @param taskFlow Task flow to be managed.\r\n     * @returns Task part promises.\r\n     */\r\n    public handle(taskFlow: ITaskFlow<TPart>): Array<Promise<void>> {\r\n        if (taskFlow == null) {\r\n            throw new Error('It\\'s required a task flow.');\r\n        }\r\n        if (taskFlow.parts == null) {\r\n            throw new Error('It\\'s required a task flow with parts.');\r\n        }\r\n\r\n        this.currentTask = taskFlow;\r\n        const partPromises: Array<Promise<void>> = new Array(taskFlow.parts.length);\r\n\r\n        for (var i = 0; i < taskFlow.parts.length; ++i) {\r\n            partPromises[i] = this.handleTaskPart(taskFlow.parts[i]);\r\n        }\r\n\r\n        return partPromises;\r\n    }\r\n\r\n    //#endregion\r\n\r\n    /**\r\n     * Handles a task part.\r\n     *\r\n     * @param part Task part to handle.\r\n     *\r\n     * @returns Promise resolved once the part of the task is finished.\r\n     */\r\n    protected handleTaskPart(part: TPart): Promise<void> {\r\n        const that = this;\r\n\r\n        return new Promise<void>(function(resolve, reject) {\r\n            that.handleTaskPartWhen(part.when).then(function() {\r\n                // 1. Emit the start of task part.\r\n                that.eventEmitter.emit(\r\n                    TASK_PART_WHEN_EVENTS.START,\r\n                    {\r\n                        aliases: [part.alias],\r\n                        part: part,\r\n                    } as ITaskFlowPartStartArgs<TPart>,\r\n                );\r\n\r\n                const promise: PromiseLike<{} | void> = that.performTask(part);\r\n\r\n                promise.then(function() {\r\n                    // 3. Emit the end of the task part and resolve the promise.\r\n                    that.eventEmitter.emit(\r\n                        TASK_PART_WHEN_EVENTS.END,\r\n                        {\r\n                            aliases: [part.alias],\r\n                            part: part,\r\n                        } as ITaskFlowPartEndArgs<TPart>,\r\n                    );\r\n                    resolve();\r\n                });\r\n            }).catch(function(err: any) {\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Performs a task part.\r\n     * @param part Task part to be performed.\r\n     * @returns Promise resolved once the part task is performed.\r\n     */\r\n    protected abstract performTask(part: TPart): PromiseLike<{} | void>;\r\n\r\n    //#region TaskPartWhenconstraint\r\n\r\n    /**\r\n     * Handles the when entity of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     *\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhen(whenEntity: ITaskPartWhenConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            if (null == whenEntity) {\r\n                resolve();\r\n            } else {\r\n                switch (whenEntity.constraintType) {\r\n                    case TASK_CONSTRAINT_TYPES.START:\r\n                        that.handleTaskPartWhenPartBegins(whenEntity as TaskPartBeginConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    case TASK_CONSTRAINT_TYPES.END:\r\n                        that.handleTaskPartWhenPartEnds(whenEntity as TaskPartEndConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    case TASK_CONSTRAINT_TYPES.GROUP:\r\n                        that.handleTaskPartWhenPartGroup(whenEntity as TaskGroupConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    case TASK_CONSTRAINT_TYPES.WAIT_FOR:\r\n                        that.handleTaskPartWhenWaitFor(whenEntity as TaskTimeConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    default:\r\n                        reject(new Error('Unexpected when entity type.'));\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskPartBeginConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenPartBegins(whenEntity: TaskPartBeginConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            const eventHandler = function() {\r\n                that.partStartManager.unsubscribe(whenEntity.alias, token);\r\n                if (null == whenEntity.after) {\r\n                    resolve();\r\n                } else {\r\n                    that.handleTaskPartWhen(whenEntity.after)\r\n                        .then(resolve);\r\n                }\r\n            };\r\n            const token: number = that.partStartManager.subscribe(whenEntity.alias, eventHandler);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskPartEndConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenPartEnds(whenEntity: TaskPartEndConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            const eventHandler = function() {\r\n                that.partEndManager.unsubscribe(whenEntity.alias, token);\r\n                if (null == whenEntity.after) {\r\n                    resolve();\r\n                } else {\r\n                    that.handleTaskPartWhen(whenEntity.after)\r\n                        .then(resolve);\r\n                }\r\n            };\r\n            const token: number = that.partEndManager.subscribe(whenEntity.alias, eventHandler);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskGroupConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     *\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenPartGroup(whenEntity: TaskGroupConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            const childPromises: Array<Promise<void>> = new Array(whenEntity.constraints.length);\r\n\r\n            for (var i = 0; i < whenEntity.constraints.length; ++i) {\r\n                childPromises[i] = new Promise<void>(function(resolve, reject) {\r\n                    that.handleTaskPartWhen(whenEntity.constraints[i])\r\n                        .then(resolve);\r\n                });\r\n            }\r\n\r\n            if (TaskPartWhenOperator.AND === whenEntity.operator) {\r\n                Promise.all(childPromises)\r\n                    .then(function() {\r\n                        resolve();\r\n                    });\r\n            } else if (TaskPartWhenOperator.OR === whenEntity.operator) {\r\n                Promise.race(childPromises)\r\n                .then(function() {\r\n                    resolve();\r\n                });\r\n            } else {\r\n                reject('Unexpected operator.');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskTimeConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     *\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenWaitFor(whenEntity: TaskTimeConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            setTimeout(function() {\r\n                if (whenEntity.after == null) {\r\n                    resolve();\r\n                } else {\r\n                    that.handleTaskPartWhen(whenEntity.after)\r\n                        .then(resolve);\r\n                }\r\n            }, whenEntity.millis);\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n}\r\n","/**\r\n * Prefixes used to ganerate alias for events over task parts.\r\n */\r\nexport const TASK_PART_WHEN_EVENTS = {\r\n    /**\r\n     * Prefix for any event raised once a task part is ended.\r\n     */\r\n    END: 'part.end',\r\n    /**\r\n     * Prefix for any event raised once a task part is started.\r\n     */\r\n    START: 'part.start',\r\n};\r\n","/**\r\n * Logical operator to apply.\r\n */\r\nexport enum TaskPartWhenOperator {\r\n    /**\r\n     * And operator.\r\n     */\r\n    AND,\r\n    /**\r\n     * Or operator.\r\n     */\r\n    OR,\r\n}\r\n","import { TokenMap } from '../../collection/token-map';\r\nimport { ITest } from '../ITest';\r\n\r\nexport class TokenMapTests implements ITest {\r\n\r\n    public performTests(): void {\r\n        describe('Token Map Tests', () => {\r\n            this.itMustBeInitializable();\r\n            this.itMustBeAbleToAddElements();\r\n            this.itMustBeAbleToAddAndRemoveElements();\r\n            this.itMustBeAbleToIterateOverElements();\r\n            this.itMustBeAbleToReuseUnusedIndexes();\r\n            this.itMustNotBeAbleToRemoveUnusedIndexes();\r\n        });\r\n    }\r\n\r\n    private itMustBeInitializable(): void {\r\n        it('mustBeInitializable', () => {\r\n            const map = new TokenMap();\r\n            expect(map).not.toBe(null);\r\n            expect(map.count()).toBe(0);\r\n        });\r\n    }\r\n\r\n    private itMustBeAbleToAddElements(): void {\r\n        it('mustBeAbleToAddElements', () => {\r\n            const map = new TokenMap<{}>();\r\n            const elementsToAdd = 64;\r\n\r\n            for (var i = 0; i < elementsToAdd; ++i) {\r\n                expect(map.add(i)).toBe(i);\r\n            }\r\n\r\n            for (var i = 0; i < elementsToAdd; ++i) {\r\n                expect(map.get(i)).toBe(i);\r\n            }\r\n\r\n            expect(map.count()).toBe(elementsToAdd);\r\n        });\r\n    }\r\n\r\n    private itMustBeAbleToAddAndRemoveElements(): void {\r\n        it('mustBeAbleToAddAndRemoveElements', () => {\r\n            const map = new TokenMap<{}>();\r\n            const elementsToAdd = 64;\r\n            const elementsToRemove = 32;\r\n            for (var i = 0; i < elementsToAdd; ++i) {\r\n                expect(map.add(i)).toBe(i);\r\n            }\r\n\r\n            for (var i = 0; i < elementsToAdd; ++i) {\r\n                expect(map.get(i)).toBe(i);\r\n            }\r\n\r\n            for (var i = 0; i < elementsToRemove; ++i) {\r\n                expect(map.remove(i)).toBe(true);\r\n            }\r\n\r\n            expect(map.count()).toBe(elementsToAdd - elementsToRemove);\r\n        });\r\n    }\r\n\r\n    private itMustBeAbleToIterateOverElements() {\r\n        it('mustBeAbleToIterateOverElements', () => {\r\n            const map = new TokenMap<number>();\r\n            const elementsToAdd = 8;\r\n            for (var i = 0; i < elementsToAdd; ++i) {\r\n                const power = Math.pow(2, i);\r\n                map.add(power);\r\n            }\r\n\r\n            let sum = 0;\r\n            map.foreach((value, key) => {\r\n                sum = sum + value;\r\n            });\r\n\r\n            const expectedValue = Math.pow(2, elementsToAdd) - 1;\r\n            expect(sum).toBe(expectedValue);\r\n        });\r\n    }\r\n\r\n    private itMustBeAbleToReuseUnusedIndexes(): void {\r\n        it('mustBeAbleToReuseUnusedIndexes', () => {\r\n            const map = new TokenMap<{}>();\r\n            const elementsToAdd = 64;\r\n            const elementsToRemove = 32;\r\n            for (var i = 0; i < elementsToAdd; ++i) {\r\n                expect(map.add(i)).toBe(i);\r\n            }\r\n\r\n            for (var i = 0; i < elementsToAdd; ++i) {\r\n                expect(map.get(i)).toBe(i);\r\n            }\r\n\r\n            for (var i = 0; i < elementsToRemove; ++i) {\r\n                expect(map.remove(i)).toBe(true);\r\n            }\r\n\r\n            for (var i = 0; i < elementsToRemove; ++i) {\r\n                expect(map.add(i)).toBeLessThan(elementsToRemove);\r\n            }\r\n\r\n            expect(map.count()).toBe(elementsToAdd);\r\n        });\r\n    }\r\n\r\n    private itMustNotBeAbleToRemoveUnusedIndexes(): void {\r\n        it('mustNotBeAbleToRemoveUnusedIndexes', () => {\r\n            const map = new TokenMap<{}>();\r\n            expect(map.remove(0)).toBe(false);\r\n        });\r\n    }\r\n}\r\n","import { ITaskFlowPart } from '../../../task/flow/task-flow-part';\nimport { ITaskPartWhenConstraint } from '../../../task/flow/task-flow-when';\n\nexport class LogMessageTaskFlowPart implements ITaskFlowPart {\n    /**\n     * Alias of the part\n     */\n    public alias: string;\n    /**\n     * Message to log.\n     */\n    public message: string;\n    /**\n     * The message won't be log until the promise is fullfilled.\n     */\n    public waitForPromise: PromiseLike<{} | void>;\n    /**\n     * Constraints to ensure before applying the styles.\n     */\n    public when: ITaskPartWhenConstraint;\n\n    /**\n     * Creates a new instance of this class.\n     *\n     * @param alias alias of the part.\n     * @param message message to log.\n     * @param waitForPromise Promise that must be fullfilled before loging the message.\n     * @param when When constraint of the task.\n     */\n    public constructor(\n        alias: string,\n        message: string,\n        waitForPromise: PromiseLike<{} | void> = null,\n        when: ITaskPartWhenConstraint = null,\n    ) {\n        this.alias = alias;\n        this.message = message;\n        this.waitForPromise = waitForPromise;\n        this.when = when;\n    }\n}\n","import { TaskEngine } from '../../task/task-engine';\nimport { LogMessageTaskFlowPart } from './flow/log-message-task-flow-part';\nimport { SampleLog } from './sample-log';\n\nexport class LogTaskEngine extends TaskEngine<LogMessageTaskFlowPart> {\n\n    /**\n     * Engine's log used to store messages.\n     */\n    protected log: SampleLog;\n\n    /**\n     * Creates a new engine.\n     * @param log Engine's log. If null is passed, the engine will create a new log.\n     */\n    public constructor(log: SampleLog = null) {\n        super();\n\n        if (null == log) {\n            log = new SampleLog();\n        }\n\n        this.log = log;\n    }\n\n    /**\n     * Obtains the engine's log.\n     */\n    public getLog(): SampleLog {\n        return this.log;\n    }\n\n    /**\n     * Performs a task flow part.\n     * @param part Task flow part.\n     */\n    protected performTask(\n        part: LogMessageTaskFlowPart,\n    ): PromiseLike<{} | void> {\n        const that = this;\n        return new Promise((resolve, reject) => {\n            const logAction = () => {\n                that.log.logMessage(part.message);\n                resolve();\n            };\n            if (null == part.waitForPromise) {\n                logAction();\n            } else {\n                part.waitForPromise.then(logAction);\n            }\n        });\n    }\n}\n","export class SampleLog {\n\n    /**\n     * Log counter. The log has as many entries as the value of this counter.\n     */\n    protected logCounter: number;\n\n    /**\n     * Messages array\n     */\n    protected messageArray: string[];\n\n    /**\n     * Messages indexes.\n     */\n    protected messageIndexes: {[key: string]: number};\n\n    /**\n     * Creates a new sample log.\n     */\n    public constructor() {\n        this.logCounter = 0;\n        this.messageArray = new Array();\n        this.messageIndexes = {};\n    }\n\n    /**\n     * Logs a message.\n     * @param message Message to be logged.\n     */\n    public logMessage(message: string) {\n        this.messageArray.push(message);\n        this.messageIndexes[message] = this.logCounter;\n        ++this.logCounter;\n    }\n\n    /**\n     * Returns the message at the specified index.\n     * @param index index of the message.\n     */\n    public getMessage(index: number): string {\n        return this.messageArray[index];\n    }\n\n    /**\n     * Returns the index of a message.\n     * @param message Message whose index is searched.\n     */\n    public getMessageIndex(message: string): number {\n        return this.messageIndexes[message];\n    }\n\n    /**\n     * Returns a copy of the messages in the log.\n     * @returns Log array.\n     */\n    public getMessages(): string[] {\n        const messagesCopy = new Array();\n        for (const message of this.messageArray) {\n            messagesCopy.push(message);\n        }\n        return messagesCopy;\n    }\n}\n","import { ITaskFlow } from '../../task/flow/task-flow';\nimport { TaskPartBeginConstraint } from '../../task/flow/task-part-begin-constraint';\nimport { TaskPartEndConstraint } from '../../task/flow/task-part-end-constraint';\nimport { TaskGroupConstraint } from '../../task/flow/task-part-group-constraint';\nimport { TaskTimeConstraint } from '../../task/flow/task-part-time-constraint';\nimport { TaskPartWhenOperator } from '../../task/task-part-when-operator';\nimport { ITest } from '../ITest';\nimport {\n    LogMessageTaskFlowPart,\n} from '../logic/flow/log-message-task-flow-part';\nimport { LogTaskEngine } from '../logic/log-task-engine';\nimport { SampleLog } from '../logic/sample-log';\n\nconst LogMessageTaskFlowPartAliasPrefix: string = 'jovellanos/test/LogMessageTaskFlowPart/';\n\nexport class LogTaskEngineTests implements ITest {\n\n    public performTests(): void {\n        describe('Log Task Engine Tests', () => {\n            this.itMustBeAbleToPerformASimpleTask();\n            this.itMustBeAbleToPerformATaskAfterACertainAmountOfTime();\n            this.itMustBeAbleToPerformATaskAfterTheEndOfAllTasksOfATaskGroup();\n            this.itMustBeAbleToPerformATaskAfterTheEndOfAnotherOne();\n            this.itMustBeAbleToPerformATaskAfterTheStartOfAnotherOne();\n            this.itMustBeAbleToPerformATaskAfterTheStartOfAnyTaskOfATaskGroup();\n            this.itMustBeAbleToSubscribeAPartEndEventListener();\n            this.itMustBeAbleToSubscribeAPartStartEventListener();\n            this.itMustBeAbleToUnsubscribeAPartEndEventListener();\n            this.itMustBeAbleToUnsubscribeAPartStartEventListener();\n            this.itMustBeInitializable();\n            this.itMustNotAllowToHandleANullInstance();\n            this.itMustNotAllowToHandleAnInstanceWithNoParts();\n            this.itMustNotBeAbleToHandleAnInvalidTask();\n            this.itMustStartWithALog();\n            this.itMustStartWithNoMessages();\n        });\n    }\n\n    private itMustBeAbleToPerformASimpleTask(): void {\n        it('mustBeAbleToPerformASimpleTask', () => {\n            const engine = new LogTaskEngine();\n            const simpleTaskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(\n                        LogMessageTaskFlowPartAliasPrefix + 'sample',\n                        'test',\n                    ),\n                ],\n            };\n            Promise.all(engine.handle(simpleTaskFlow)).then(() => {\n                expect(engine.getLog().getMessages()).toEqual(['test']);\n            });\n        });\n    }\n\n    private itMustBeAbleToPerformATaskAfterACertainAmountOfTime() {\n        it('mustBeAbleToPerformATaskAfterACertainAmountOfTime', () => {\n            const partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';\n            const partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';\n            const partAlias3 = LogMessageTaskFlowPartAliasPrefix + 'sample-3';\n\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n\n            const taskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(\n                        partAlias1,\n                        'test-1',\n                        new Promise((resolve) => setTimeout(resolve, 200)),\n                    ),\n                    new LogMessageTaskFlowPart(\n                        partAlias2,\n                        'test-2',\n                        null,\n                        new TaskTimeConstraint(null, 250),\n                    ),\n                    new LogMessageTaskFlowPart(\n                        partAlias3,\n                        'test-3',\n                        new Promise((resolve) => setTimeout(resolve, 300)),\n                    ),\n                ],\n            };\n\n            Promise.all(engine.handle(taskFlow)).then(() => {\n                expect(engine.getLog().getMessages()).toEqual(['test-1', 'test-2', 'test-3']);\n            });\n        });\n    }\n\n    private itMustBeAbleToPerformATaskAfterTheEndOfAllTasksOfATaskGroup() {\n        it('mustBeAbleToPerformATaskAfterTheEndOfAllTasksOfATaskGroup', () => {\n            const partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';\n            const partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';\n            const partAlias3 = LogMessageTaskFlowPartAliasPrefix + 'sample-3';\n\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n\n            const taskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(\n                        partAlias1,\n                        'test-1',\n                        null,\n                        new TaskGroupConstraint(\n                            null,\n                            [\n                                new TaskPartEndConstraint(\n                                    null,\n                                    partAlias2,\n                                ),\n                                new TaskPartEndConstraint(\n                                    null,\n                                    partAlias3,\n                                ),\n                            ],\n                            TaskPartWhenOperator.AND,\n                        ),\n                    ),\n                    new LogMessageTaskFlowPart(\n                        partAlias2,\n                        'test-2',\n                        null,\n                    ),\n                    new LogMessageTaskFlowPart(\n                        partAlias3,\n                        'test-3',\n                        null,\n                    ),\n                ],\n            };\n\n            Promise.all(engine.handle(taskFlow)).then(() => {\n                const logMessages = engine.getLog().getMessages();\n                const firstOnes = ['test-2', 'test-3'];\n                expect(firstOnes).toContain(logMessages[0]);\n                expect(firstOnes).toContain(logMessages[1]);\n                expect(logMessages[0]).not.toBe(logMessages[1]);\n                expect(logMessages[2]).toBe('test-1');\n            });\n        });\n    }\n\n    private itMustBeAbleToPerformATaskAfterTheEndOfAnotherOne(): void {\n        it('mustBeAbleToPerformATaskAfterTheEndOfAnotherOne', () => {\n            const partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';\n            const partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n            const taskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(\n                        partAlias1,\n                        'test1',\n                        null,\n                        new TaskPartEndConstraint(null, partAlias2),\n                    ),\n                    new LogMessageTaskFlowPart(partAlias2, 'test2'),\n                ],\n            };\n            Promise.all(engine.handle(taskFlow)).then(() => {\n                expect(engine.getLog().getMessages()).toEqual(['test2', 'test1']);\n            });\n        });\n    }\n\n    private itMustBeAbleToPerformATaskAfterTheStartOfAnotherOne(): void {\n        it('mustBeAbleToPerformATaskAfterTheStartOfAnotherOne', () => {\n            const partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';\n            const partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n\n            const part1SubscriberIsRegistered = new Promise<{\n                donePromise: Promise<number>,\n            }>(\n                (resolve) => {\n                    const part1IsDone = new Promise<number>((resolveCh) => {\n                        const token = engine.getPartEndListenerAccess().subscribe(partAlias1, () => {\n                            resolveCh(token);\n                        });\n                    });\n                    resolve({\n                        donePromise: part1IsDone,\n                    });\n                },\n            );\n            part1SubscriberIsRegistered.then((promiseResult) => {\n                const taskFlow = {\n                    parts: [\n                        new LogMessageTaskFlowPart(\n                            partAlias1,\n                            'test1',\n                            null,\n                            new TaskPartBeginConstraint(null, partAlias2),\n                        ),\n                        new LogMessageTaskFlowPart(\n                            partAlias2,\n                            'test2',\n                            promiseResult.donePromise,\n                        ),\n                    ],\n                };\n                Promise.all(engine.handle(taskFlow)).then(() => {\n                    expect(engine.getLog().getMessages()).toEqual(['test1', 'test2']);\n                });\n            });\n        });\n    }\n\n    private itMustBeAbleToPerformATaskAfterTheStartOfAnyTaskOfATaskGroup() {\n        it('mustBeAbleToPerformATaskAfterTheStartOfAnyTaskOfATaskGroup', () => {\n            const partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';\n            const partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';\n            const partAlias3 = LogMessageTaskFlowPartAliasPrefix + 'sample-3';\n\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n\n            const part1SubscriberIsRegistered = new Promise<{\n                donePromise: Promise<number>,\n            }>(\n                (resolve) => {\n                    const part1IsDone = new Promise<number>((resolveCh) => {\n                        const token = engine.getPartEndListenerAccess().subscribe(partAlias1, () => {\n                            resolveCh(token);\n                        });\n                    });\n                    resolve({\n                        donePromise: part1IsDone,\n                    });\n                },\n            );\n\n            part1SubscriberIsRegistered.then((promiseResult) => {\n                const taskFlow = {\n                    parts: [\n                        new LogMessageTaskFlowPart(\n                            partAlias1,\n                            'test-1',\n                            null,\n                            new TaskGroupConstraint(\n                                null,\n                                [\n                                    new TaskPartBeginConstraint(null, partAlias2),\n                                    new TaskPartBeginConstraint(null, partAlias3),\n                                ],\n                                TaskPartWhenOperator.OR,\n                            ),\n                        ),\n                        new LogMessageTaskFlowPart(partAlias2, 'test-2', promiseResult.donePromise),\n                        new LogMessageTaskFlowPart(partAlias3, 'test-3', promiseResult.donePromise),\n                    ],\n                };\n\n                Promise.all(engine.handle(taskFlow)).then(() => {\n                    const logMessages = engine.getLog().getMessages();\n                    const lastOnes = ['test-2', 'test-3'];\n                    expect(lastOnes).toContain(logMessages[1]);\n                    expect(lastOnes).toContain(logMessages[2]);\n                    expect(logMessages[1]).not.toBe(logMessages[2]);\n                    expect(logMessages[0]).toBe('test-1');\n                });\n            });\n        });\n    }\n\n    private itMustBeAbleToSubscribeAPartEndEventListener(): void {\n        it('mustBeAbleToSubscribeAPartEndEventListener', () => {\n            const partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n            engine.getPartEndListenerAccess().subscribe(\n                partAlias,\n                (eventArgs) => {\n                    log.logMessage('end.' + eventArgs.part.message);\n                },\n            );\n            const simpleTaskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(partAlias, 'test'),\n                ],\n            };\n            Promise.all(engine.handle(simpleTaskFlow)).then(() => {\n                expect(engine.getLog().getMessages()).toEqual([\n                    'test',\n                    'end.test',\n                ]);\n            });\n        });\n    }\n\n    private itMustBeAbleToSubscribeAPartStartEventListener(): void {\n        it('mustBeAbleToSubscribeAPartStartEventListener', () => {\n            const partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n            engine.getPartStartListenerAccess().subscribe(\n                partAlias,\n                (eventArgs) => {\n                    log.logMessage('start.' + eventArgs.part.message);\n                },\n            );\n            const simpleTaskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(partAlias, 'test'),\n                ],\n            };\n            Promise.all(engine.handle(simpleTaskFlow)).then(() => {\n                expect(engine.getLog().getMessages()).toEqual([\n                    'start.test',\n                    'test',\n                ]);\n            });\n        });\n    }\n\n    private itMustBeAbleToUnsubscribeAPartEndEventListener(): void {\n        it('mustBeAbleToUnsubscribeAPartEndEventListener', () => {\n            const partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n            const token = engine.getPartEndListenerAccess().subscribe(\n                partAlias,\n                (eventArgs) => {\n                    log.logMessage('end.' + eventArgs.part.message);\n                },\n            );\n            const result = engine.getPartEndListenerAccess().unsubscribe(partAlias, token);\n            const simpleTaskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(partAlias, 'test'),\n                ],\n            };\n            expect(result).toBe(true);\n            Promise.all(engine.handle(simpleTaskFlow)).then(() => {\n                expect(engine.getLog().getMessages()).toEqual([\n                    'test',\n                ]);\n            });\n        });\n    }\n\n    private itMustBeAbleToUnsubscribeAPartStartEventListener(): void {\n        it('mustBeAbleToUnsubscribeAPartStartEventListener', () => {\n            const partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';\n            const log = new SampleLog();\n            const engine = new LogTaskEngine(log);\n            const token = engine.getPartStartListenerAccess().subscribe(\n                partAlias,\n                (eventArgs) => {\n                    log.logMessage('end.' + eventArgs.part.message);\n                },\n            );\n            const result = engine.getPartStartListenerAccess().unsubscribe(partAlias, token);\n            const simpleTaskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(partAlias, 'test'),\n                ],\n            };\n            expect(result).toBe(true);\n            Promise.all(engine.handle(simpleTaskFlow)).then(() => {\n                expect(engine.getLog().getMessages()).toEqual([\n                    'test',\n                ]);\n            });\n        });\n    }\n\n    private itMustBeInitializable(): void {\n        it('mustBeInitializable', () => {\n            const engine = new LogTaskEngine();\n            expect(engine).not.toBeNull();\n        });\n    }\n\n    private itMustNotAllowToHandleANullInstance(): void {\n        it('mustNotAllowToHandleANullInstance', () => {\n            const engine = new LogTaskEngine();\n            expect(() => {engine.handle(null); }).toThrowError();\n        });\n    }\n\n    private itMustNotAllowToHandleAnInstanceWithNoParts(): void {\n        it('mustNotAllowToHandleAnInstanceWithNoParts', () => {\n            const engine = new LogTaskEngine();\n            expect(() => {\n                engine.handle({} as ITaskFlow<LogMessageTaskFlowPart>);\n            }).toThrowError();\n            expect(() => {\n                engine.handle({\n                    parts: null,\n                });\n            }).toThrowError();\n        });\n    }\n\n    private itMustNotBeAbleToHandleAnInvalidTask() {\n        it('mustNotBeAbleToHandleAnInvalidTask', () => {\n            const engine = new LogTaskEngine();\n            const simpleTaskFlow = {\n                parts: [\n                    new LogMessageTaskFlowPart(\n                        LogMessageTaskFlowPartAliasPrefix + 'sample',\n                        'test',\n                        null,\n                        {\n                            after: null,\n                            constraintType: 'invalidType',\n                        },\n                    ),\n                ],\n            };\n            Promise.all(engine.handle(simpleTaskFlow))\n                .then(fail)\n                .catch((err) => expect(err instanceof Error).toBe(true));\n        });\n    }\n\n    private itMustStartWithALog(): void {\n        it('mustStartWithALog', () => {\n            const engine = new LogTaskEngine();\n            expect(engine.getLog()).not.toBeNull();\n        });\n    }\n\n    private itMustStartWithNoMessages(): void {\n        it('mustStartWithNoMessages', () => {\n            const engine = new LogTaskEngine();\n            expect(engine.getLog().getMessages().length).toBe(0);\n        });\n    }\n}\n","import { EventEmitter } from 'events';\nimport { ITaskFlowPartEndArgs } from '../../../task/flow/task-flow-part-event-args';\nimport { OperationManager } from '../../../task/operation/operation-manager';\nimport { ITest } from '../../ITest';\nimport { LogMessageTaskFlowPart } from '../../logic/flow/log-message-task-flow-part';\nimport { SampleLog } from '../../logic/sample-log';\n\nconst operationManagerTestEventAlias = 'test-alias';\n\nexport class OperationManagerTests implements ITest {\n    public performTests(): void {\n        describe('Operation Manager Tests', () => {\n            this.itMustBeToBeAbleToBeDisposed();\n            this.itMustBeInitializable();\n            this.itMustBeAbleToRaiseAnEventListeners();\n            this.itMustBeAbleToRaiseMultipleEventListeners();\n            this.itMustNotBeAbleToUnsuscribeByAnUnregisteredAlias();\n        });\n    }\n\n    private itMustBeToBeAbleToBeDisposed(): void {\n        it('mustBeToBeAbleToBeDisposed', () => {\n            const eventEmitter = new EventEmitter();\n            const operationManager = new OperationManager<ITaskFlowPartEndArgs<LogMessageTaskFlowPart>>(\n                operationManagerTestEventAlias,\n                eventEmitter,\n            );\n            const log = new SampleLog();\n            operationManager.subscribe(\n                'sample-alias',\n                (eventArgs) => log.logMessage(eventArgs.part.message),\n            );\n            operationManager.dispose();\n            eventEmitter.emit(\n                operationManagerTestEventAlias,\n                {\n                    aliases: ['sample-alias'],\n                    part: new LogMessageTaskFlowPart(\n                        'sample-task-alias',\n                        'sample-message-text',\n                    ),\n                } as ITaskFlowPartEndArgs<LogMessageTaskFlowPart>,\n            );\n            expect(log.getMessages()).toEqual([]);\n        });\n    }\n\n    private itMustBeAbleToRaiseAnEventListeners(): void {\n        it('mustBeAbleToRaiseAnEventListeners', () => {\n            const eventEmitter = new EventEmitter();\n            const operationManager = new OperationManager<ITaskFlowPartEndArgs<LogMessageTaskFlowPart>>(\n                operationManagerTestEventAlias,\n                eventEmitter,\n            );\n            const log = new SampleLog();\n            operationManager.subscribe(\n                'sample-alias',\n                (eventArgs) => log.logMessage(eventArgs.part.message),\n            );\n            eventEmitter.emit(\n                operationManagerTestEventAlias,\n                {\n                    aliases: ['sample-alias'],\n                    part: new LogMessageTaskFlowPart(\n                        'sample-task-alias',\n                        'sample-message-text',\n                    ),\n                } as ITaskFlowPartEndArgs<LogMessageTaskFlowPart>,\n            );\n            expect(log.getMessages()).toEqual(['sample-message-text']);\n        });\n    }\n\n    private itMustBeAbleToRaiseMultipleEventListeners(): void {\n        it('mustBeAbleToRaiseMultipleEventListeners', () => {\n            const eventEmitter = new EventEmitter();\n            const operationManager = new OperationManager<ITaskFlowPartEndArgs<LogMessageTaskFlowPart>>(\n                operationManagerTestEventAlias,\n                eventEmitter,\n            );\n            const log = new SampleLog();\n            operationManager.subscribe(\n                'sample-alias',\n                (eventArgs) => log.logMessage(eventArgs.part.message),\n            );\n            operationManager.subscribe(\n                'sample-alias-2',\n                (eventArgs) => log.logMessage(eventArgs.part.message),\n            );\n            eventEmitter.emit(\n                operationManagerTestEventAlias,\n                {\n                    aliases: null,\n                    part: new LogMessageTaskFlowPart(\n                        'sample-task-alias',\n                        'sample-message-text',\n                    ),\n                } as ITaskFlowPartEndArgs<LogMessageTaskFlowPart>,\n            );\n            expect(log.getMessages()).toEqual(['sample-message-text', 'sample-message-text']);\n        });\n    }\n\n    private itMustBeInitializable(): void {\n        it('mustBeInitializable', () => {\n            const eventEmitter = new EventEmitter();\n            const operationManager = new OperationManager<ITaskFlowPartEndArgs<LogMessageTaskFlowPart>>(\n                operationManagerTestEventAlias,\n                eventEmitter,\n            );\n            expect(operationManager).not.toBeNull();\n        });\n    }\n\n    private itMustNotBeAbleToUnsuscribeByAnUnregisteredAlias() {\n        it('mustNotBeAbleToUnsuscribeByAnUnregisteredAlias', () => {\n            const eventEmitter = new EventEmitter();\n            const operationManager = new OperationManager<ITaskFlowPartEndArgs<LogMessageTaskFlowPart>>(\n                operationManagerTestEventAlias,\n                eventEmitter,\n            );\n            expect(operationManager.unsubscribe('unexisting-alias', 0)).toBe(false);\n        });\n    }\n}\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29sbGVjdGlvbi90b2tlbi1tYXAudHMiLCJzcmMvbWFpbi50ZXN0LnRzIiwic3JjL3Rhc2svZmxvdy90YXNrLWZsb3ctd2hlbi50cyIsInNyYy90YXNrL2Zsb3cvdGFzay1wYXJ0LWJlZ2luLWNvbnN0cmFpbnQudHMiLCJzcmMvdGFzay9mbG93L3Rhc2stcGFydC1jb25zdHJhaW50LnRzIiwic3JjL3Rhc2svZmxvdy90YXNrLXBhcnQtZW5kLWNvbnN0cmFpbnQudHMiLCJzcmMvdGFzay9mbG93L3Rhc2stcGFydC1ncm91cC1jb25zdHJhaW50LnRzIiwic3JjL3Rhc2svZmxvdy90YXNrLXBhcnQtdGltZS1jb25zdHJhaW50LnRzIiwic3JjL3Rhc2svb3BlcmF0aW9uL29wZXJhdGlvbi1tYW5hZ2VyLnRzIiwic3JjL3Rhc2svdGFzay1lbmdpbmUudHMiLCJzcmMvdGFzay90YXNrLXBhcnQtd2hlbi1ldmVudHMudHMiLCJzcmMvdGFzay90YXNrLXBhcnQtd2hlbi1vcGVyYXRvci50cyIsInNyYy90ZXN0L2NvbGxlY3Rpb24vdG9rZW4tbWFwLnRlc3QudHMiLCJzcmMvdGVzdC9sb2dpYy9mbG93L2xvZy1tZXNzYWdlLXRhc2stZmxvdy1wYXJ0LnRzIiwic3JjL3Rlc3QvbG9naWMvbG9nLXRhc2stZW5naW5lLnRzIiwic3JjL3Rlc3QvbG9naWMvc2FtcGxlLWxvZy50cyIsInNyYy90ZXN0L3Rhc2svbG9nLXRhc2stZW5naW5lLnRlc3QudHMiLCJzcmMvdGVzdC90YXNrL29wZXJhdGlvbi9vcGVyYXRpb24tbWFuYWdlci50ZXN0LnRzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2V0UHJvdG90eXBlT2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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TCxDQUF5QixLQUF6QixFQUFnQyxNQUFoQyxDQUF1QyxLQUF2QyxDQUFQO0FBQ0g7QUFDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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Q1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0IGNsYXNzIFRva2VuTWFwPFQ+IHtcclxuICAgIC8vI3JlZ2lvbiBQcm9wZXJ0aWVzXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbm5lciBtYXAuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBpbm5lck1hcDogTWFwPG51bWJlciwgVD47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0IG9mIHVudXNlZCBpbmRleGVkIGJlbGxvdyB0aGUgbWF4aW11biB1c2VkIGluZGV4LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgdW51c2VkSW5kZXhlczogbnVtYmVyW107XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5uZXJNYXAgPSBuZXcgTWFwPG51bWJlciwgVD4oKTtcclxuICAgICAgICB0aGlzLnVudXNlZEluZGV4ZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gZWxlbWVudCB0byB0aGUgYXJyYXkgY29sbGVjdGlvbi5cclxuICAgICAqIEBwYXJhbSBlbGVtIEVsZW1lbnQgdG8gYmUgYWRkZWQgdG8gdGhlIGFycmF5LlxyXG4gICAgICogQHJldHVybnMgaW5kZXggaW4gd2hpY2ggdGhlIGVsZW1lbnQgaXMgbG9jYXRlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZChlbGVtOiBUKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAoMCA9PT0gdGhpcy51bnVzZWRJbmRleGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0SW5kZXg6IG51bWJlciA9IHRoaXMuaW5uZXJNYXAuc2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5pbm5lck1hcC5zZXQobGFzdEluZGV4LCBlbGVtKTtcclxuICAgICAgICAgICAgcmV0dXJuIGxhc3RJbmRleDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0SW5kZXg6IG51bWJlciA9IHRoaXMudW51c2VkSW5kZXhlc1t0aGlzLnVudXNlZEluZGV4ZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIC0tdGhpcy51bnVzZWRJbmRleGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5pbm5lck1hcC5zZXQobGFzdEluZGV4LCBlbGVtKTtcclxuICAgICAgICAgICAgcmV0dXJuIGxhc3RJbmRleDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPYnRhaW5zIHRoZSBhbW91bnQgb2YgZWxlbWVudHMgaW5zaWRlIHRoZSBhcnJheS5cclxuICAgICAqIEByZXR1cm5zIEFtb3VudCBvZiBlbGVtZW50cyBpbnNpZGUgdGhlIGFycmF5LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY291bnQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbm5lck1hcC5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSXRlcmF0ZXMgb3ZlciB0aGUgYXJyYXkgYW5kIGFwcGxpZXMgYSBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSBjb25zdW1lciBGdW5jdGlvbiB0byBhcHBseSB0byBhbnkgcGFpciBvZiBpbmRleC1lbGVtZW50IGZvdW5kICh1bmRlZmluZWQgdmFsdWVzIGFyZSBkaXNjYXJ0ZWQpLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZm9yZWFjaChjb25zdW1lcjogKHZhbHVlOiBULCBrZXk6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW5uZXJNYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZTogVCwga2V5OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgY29uc3VtZXIodmFsdWUsIGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPYnRhaW5zIGFuIGVsZW1lbnQgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCB0byBvYnRhaW50LlxyXG4gICAgICogQHJldHVybnMgRWxlbWVudCBvYnRpYW5lZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0KGluZGV4OiBudW1iZXIpOiBUIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbm5lck1hcC5nZXQoaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbiBlbGVtZW50IGF0IHRoZSBwb3NpdGlvbiBzcGVjaWZpZWQuXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gYmUgcmVtb3ZlZC5cclxuICAgICAqIEByZXR1cm5zIFJlc3VsdCBvZiB0aGUgb3BlcmF0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVtb3ZlKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcy5pbm5lck1hcC5oYXMoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5uZXJNYXAuZGVsZXRlKGluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy51bnVzZWRJbmRleGVzW3RoaXMudW51c2VkSW5kZXhlcy5sZW5ndGhdID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVG9rZW5NYXBUZXN0cyB9IGZyb20gJy4vdGVzdC9jb2xsZWN0aW9uL3Rva2VuLW1hcC50ZXN0JztcbmltcG9ydCB7IExvZ1Rhc2tFbmdpbmVUZXN0cyB9IGZyb20gJy4vdGVzdC90YXNrL2xvZy10YXNrLWVuZ2luZS50ZXN0JztcbmltcG9ydCB7IE9wZXJhdGlvbk1hbmFnZXJUZXN0cyB9IGZyb20gJy4vdGVzdC90YXNrL29wZXJhdGlvbi9vcGVyYXRpb24tbWFuYWdlci50ZXN0JztcblxuKGZ1bmN0aW9uKCkge1xuICAgIG5ldyBMb2dUYXNrRW5naW5lVGVzdHMoKS5wZXJmb3JtVGVzdHMoKTtcbiAgICBuZXcgT3BlcmF0aW9uTWFuYWdlclRlc3RzKCkucGVyZm9ybVRlc3RzKCk7XG4gICAgbmV3IFRva2VuTWFwVGVzdHMoKS5wZXJmb3JtVGVzdHMoKTtcbn0oKSk7XG4iLCIvKipcclxuICogQ29uc3RyYWludCB0aGF0IGRldGVybWluZXMgdGhlIHN0YXJ0IG9mIHRoZSB0YXNrIHBhcnQuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElUYXNrUGFydFdoZW5Db25zdHJhaW50IHtcclxuICAgIC8qKlxyXG4gICAgICogV2hlbiBlbnRpdHkgdG8gY2hlY2sgb25jZSB0aGlzIGNvbnN0cmFpbnQgaXMgZW5zdXJlZC5cclxuICAgICAqL1xyXG4gICAgYWZ0ZXI6IElUYXNrUGFydFdoZW5Db25zdHJhaW50O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUeXBlIG9mIHRoaXMgY29uc3RyYWludC5cclxuICAgICAqL1xyXG4gICAgY29uc3RyYWludFR5cGU6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0cmFpbnQgdGhhdCBkZXRlcm1pbmVzIHRoZSBzdGFydCBvZiB0aGUgdGFzayBwYXJ0LlxyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQgaW1wbGVtZW50cyBJVGFza1BhcnRXaGVuQ29uc3RyYWludCB7XHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gZW50aXR5IHRvIGNoZWNrIG9uY2UgdGhpcyBjb25zdHJhaW50IGlzIGVuc3VyZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhZnRlcjogSVRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQ7XHJcbiAgICAvKipcclxuICAgICAqIFR5cGUgb2YgdGhpcyBjb25zdHJhaW50LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RyYWludFR5cGU6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGFzayBwYXJ0IGNvbnN0cmFpbnQuXHJcbiAgICAgKiBAcGFyYW0gYWZ0ZXIgQ29uc3RyYWludCB0byBhcHBseSBhZnRlciB0aGlzIGNvbnN0cmFpbnQgaXMgY2hlY2tlZC5cclxuICAgICAqIEBwYXJhbSBjb25zdHJhaW50VHlwZSBDb25zdHJhaW50IHR5cGUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihhZnRlcjogSVRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQsIGNvbnN0cmFpbnRUeXBlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmFmdGVyID0gYWZ0ZXI7XHJcbiAgICAgICAgdGhpcy5jb25zdHJhaW50VHlwZSA9IGNvbnN0cmFpbnRUeXBlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IElUYXNrUGFydFdoZW5Db25zdHJhaW50IH0gZnJvbSAnLi90YXNrLWZsb3ctd2hlbic7XHJcbmltcG9ydCB7XHJcbiAgICBUQVNLX0NPTlNUUkFJTlRfVFlQRVMsXHJcbiAgICBUYXNrUGFydENvbnN0cmFpbnQsXHJcbn0gZnJvbSAnLi90YXNrLXBhcnQtY29uc3RyYWludCc7XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHdoZW4gY29uc3RyYWludCB0aGF0IGlzIGNoZWNrZWQgb25jZSBhIHRhc2sgcGFydCBzdGFydHMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGFza1BhcnRCZWdpbkNvbnN0cmFpbnQgZXh0ZW5kcyBUYXNrUGFydENvbnN0cmFpbnQge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFmdGVyOiBJVGFza1BhcnRXaGVuQ29uc3RyYWludCwgYWxpYXM6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGFmdGVyLCBhbGlhcywgVEFTS19DT05TVFJBSU5UX1RZUEVTLlNUQVJUKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgSVRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQsXHJcbiAgICBUYXNrUGFydFdoZW5Db25zdHJhaW50LFxyXG59IGZyb20gJy4vdGFzay1mbG93LXdoZW4nO1xyXG5cclxuLyoqXHJcbiAqIFRhc2sgY29uc3RyYWludCB0eXBlc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFRBU0tfQ09OU1RSQUlOVF9UWVBFUyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogUmVxdWlyZXMgdGhlIGVuZCBvZiBhIHRhc2sgcGFydC5cclxuICAgICAqL1xyXG4gICAgRU5EOiAnYW5pbS5lbmQnLFxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1aXJlcyBhIGdyb3VwIG9mIGNvbnN0cmFpbnRzLlxyXG4gICAgICovXHJcbiAgICBHUk9VUDogJ2dyb3VwJyxcclxuICAgIC8qKlxyXG4gICAgICogUmVxdWlyZXMgdGhlIHN0YXJ0IG9mIGEgdGFzayBwYXJ0LlxyXG4gICAgICovXHJcbiAgICBTVEFSVCA6ICdhbmltLnN0YXJ0JyxcclxuICAgIC8qKlxyXG4gICAgICogUmVxdWlyZXMgYW4gYW1vdW50IG9mIHRpbWUuXHJcbiAgICAgKi9cclxuICAgIFdBSVRfRk9SOiAnd2FpdCcsXHJcbn07XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVGFza1BhcnRDb25zdHJhaW50IGV4dGVuZHMgVGFza1BhcnRXaGVuQ29uc3RyYWludCB7XHJcbiAgICAvKipcclxuICAgICAqIEFsaWFzIG9mIHRoZSBwYXJ0IGFmZmVjdGVkIGJ5IHRoaXMgY29uc3RyYWludC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFsaWFzOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRhc2sgcGFydCBjb25zdHJhaW50LlxyXG4gICAgICogQHBhcmFtIGFmdGVyIENvbnN0cmFpbnQgdG8gYXBwbHkgYWZ0ZXIgdGhpcyBjb25zdHJhaW50IGlzIGNoZWNrZWQuXHJcbiAgICAgKiBAcGFyYW0gYWxpYXMgQWxpYXNlcyBvZiB0aGUgcGFydHMgYWZmZWN0ZWQgYnkgdGhpcyBjb25zdHJhaW50LlxyXG4gICAgICogQHBhcmFtIGNvbnN0cmFpbnRUeXBlIENvbnN0cmFpbnQgdHlwZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFmdGVyOiBJVGFza1BhcnRXaGVuQ29uc3RyYWludCwgYWxpYXM6IHN0cmluZywgY29uc3RyYWludFR5cGU6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGFmdGVyLCBjb25zdHJhaW50VHlwZSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWxpYXMgPSBhbGlhcztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJVGFza1BhcnRXaGVuQ29uc3RyYWludCB9IGZyb20gJy4vdGFzay1mbG93LXdoZW4nO1xyXG5pbXBvcnQge1xyXG4gICAgVEFTS19DT05TVFJBSU5UX1RZUEVTLFxyXG4gICAgVGFza1BhcnRDb25zdHJhaW50LFxyXG59IGZyb20gJy4vdGFzay1wYXJ0LWNvbnN0cmFpbnQnO1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSB3aGVuIGNvbnN0cmFpbnQgdGhhdCBpcyBjaGVja2VkIG9uY2UgYSB0YXNrIHBhcnQgZW5kcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUYXNrUGFydEVuZENvbnN0cmFpbnQgZXh0ZW5kcyBUYXNrUGFydENvbnN0cmFpbnQge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFmdGVyOiBJVGFza1BhcnRXaGVuQ29uc3RyYWludCwgYWxpYXM6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGFmdGVyLCBhbGlhcywgVEFTS19DT05TVFJBSU5UX1RZUEVTLkVORCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFza1BhcnRXaGVuT3BlcmF0b3IgfSBmcm9tICcuLi90YXNrLXBhcnQtd2hlbi1vcGVyYXRvcic7XHJcbmltcG9ydCB7XHJcbiAgICBJVGFza1BhcnRXaGVuQ29uc3RyYWludCxcclxuICAgIFRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQsXHJcbn0gZnJvbSAnLi90YXNrLWZsb3ctd2hlbic7XHJcbmltcG9ydCB7IFRBU0tfQ09OU1RSQUlOVF9UWVBFUyB9IGZyb20gJy4vdGFzay1wYXJ0LWNvbnN0cmFpbnQnO1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSB3aGVuIGNvbnN0cmFpbnQgdGhhdCBpcyBjaGVja2VkIG9uY2UgYSBncm91cCBvZiBjb25zdHJhaW50cyBhcmUgY2hlY2tlZC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUYXNrR3JvdXBDb25zdHJhaW50IGV4dGVuZHMgVGFza1BhcnRXaGVuQ29uc3RyYWludCB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cmFpbnRzIHRvIGVuc3VyZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RyYWludHM6IElUYXNrUGFydFdoZW5Db25zdHJhaW50W107XHJcbiAgICAvKipcclxuICAgICAqIExvZ2ljYWwgb3BlcmF0b3JcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9wZXJhdG9yOiBUYXNrUGFydFdoZW5PcGVyYXRvcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFmdGVyIENvbnN0cmFpbnQgdG8gY2hlY2sgYWZ0ZXIgYWxsIHRoZSBjb25zdHJhaXRucyBvZiB0aGUgZ3JvdXAgaGF2ZSBzdWNjZXNzZnVsbHkgY2hlY2tlZC5cclxuICAgICAqIEBwYXJhbSBjb25zdHJhaW50cyBHcm91cCBvZiBjb25zdHJhaW50cyB0byBjaGVjay5cclxuICAgICAqIEBwYXJhbSBvcGVyYXRvciBMb2dpY2FsIG9wZXJhdG9yIHRvIGFwcGx5LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXHJcbiAgICAgICAgYWZ0ZXI6IElUYXNrUGFydFdoZW5Db25zdHJhaW50LFxyXG4gICAgICAgIGNvbnN0cmFpbnRzOiBJVGFza1BhcnRXaGVuQ29uc3RyYWludFtdLFxyXG4gICAgICAgIG9wZXJhdG9yOiBUYXNrUGFydFdoZW5PcGVyYXRvcixcclxuICAgICkge1xyXG4gICAgICAgIHN1cGVyKGFmdGVyLCBUQVNLX0NPTlNUUkFJTlRfVFlQRVMuR1JPVVApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gY29uc3RyYWludHM7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBJVGFza1BhcnRXaGVuQ29uc3RyYWludCxcclxuICAgIFRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQsXHJcbn0gZnJvbSAnLi90YXNrLWZsb3ctd2hlbic7XHJcbmltcG9ydCB7IFRBU0tfQ09OU1RSQUlOVF9UWVBFUyB9IGZyb20gJy4vdGFzay1wYXJ0LWNvbnN0cmFpbnQnO1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSB3aGVuIGNvbnN0cmFpbnQgdGhhdCBpcyBjaGVja2VkIG9uY2UgYW4gYW1vdW50IG9mIHRpbWUgcGFzc2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRhc2tUaW1lQ29uc3RyYWludCBleHRlbmRzIFRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBNaWxsaXNlY29uZHMgdG8gd2FpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1pbGxpczogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihhZnRlcjogSVRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQsIG1pbGxpczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoYWZ0ZXIsIFRBU0tfQ09OU1RSQUlOVF9UWVBFUy5XQUlUX0ZPUik7XHJcbiAgICAgICAgdGhpcy5taWxsaXMgPSBtaWxsaXM7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcclxuaW1wb3J0IHsgVG9rZW5NYXAgfSBmcm9tICcuLi8uLi9jb2xsZWN0aW9uL3Rva2VuLW1hcCc7XHJcbmltcG9ydCB7IElPcGVyYXRpb25NYW5hZ2VyQWNjZXNzIH0gZnJvbSAnLi9vcGVyYXRpb24tbWFuYWdlci1hY2Nlc3MnO1xyXG5cclxuLyoqXHJcbiAqIE9wZXJhdGlvbiBhcmd1bWVudHNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU9wZXJhdGlvbkFyZ3Mge1xyXG4gICAgYWxpYXNlczogc3RyaW5nW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGFuIG9wZXJhdGlvbiBtYW5hZ2VyLiBUaGUgb3BlcmF0aW9uIGlzIHByb3BhZ2F0ZWQgdXNpbmcgYW4gZXZlbnQuXHJcbiAqIEFsbCB0aGUgc3Vic2NyaWJlcnNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBPcGVyYXRpb25NYW5hZ2VyPEFyZ3MgZXh0ZW5kcyBJT3BlcmF0aW9uQXJncz4gaW1wbGVtZW50cyBJT3BlcmF0aW9uTWFuYWdlckFjY2VzczxBcmdzPiB7XHJcblxyXG4gICAgLy8jcmVnaW9uIEF0dHJpYnV0ZXNcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB0byBoYW5kbGUgdGhlIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgY2FsbEZ1bmN0aW9uOiAoZXZlbnRBcmdzOiBBcmdzKSA9PiB2b2lkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxpYXMgb2YgdGhlIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZXZlbnRBbGlhczogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgZW1taXR0ZXIgb2YgdGhlIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgZXZlbnRFbWl0dGVyOiBFdmVudEVtaXR0ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPYmplY3QgdG8gc3RvcmFnZSBhbGwgdGhlIGZ1bmN0aW9ucyBzdWJzY3JpYmVkLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgc3Vic2NyaXB0aW9uU3RvcmFnZTogeyBbYWxpYXM6IHN0cmluZ106IFRva2VuTWFwPChldmVudEFyZ3M6IEFyZ3MpID0+IHZvaWQ+IH07XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG9wZXJhdGlvbiBtYW5hZ2VyXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRBbGlhcyBFdmVudCBhbGlhcy5cclxuICAgICAqIEBwYXJhbSBldmVudEVtaXR0ZXIgRXZlbnQgZW1pdHRlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGV2ZW50QWxpYXM6IHN0cmluZywgZXZlbnRFbWl0dGVyOiBFdmVudEVtaXR0ZXIpIHtcclxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgICAgICB0aGlzLmNhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uKGV2ZW50QXJnczogQXJncyk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRBcmdzLmFsaWFzZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBpbiB0aGF0LnN1YnNjcmlwdGlvblN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5zdWJzY3JpcHRpb25TdG9yYWdlLmhhc093blByb3BlcnR5KGFsaWFzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJzY3JpYmVycyA9IHRoYXQuc3Vic2NyaXB0aW9uU3RvcmFnZVthbGlhc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVycyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVycy5mb3JlYWNoKGZ1bmN0aW9uKHZhbHVlOiAoZXZlbnRBcmdzOiBBcmdzKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUoZXZlbnRBcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBldmVudEFyZ3MuYWxpYXNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YnNjcmliZXJzID0gdGhhdC5zdWJzY3JpcHRpb25TdG9yYWdlW2FsaWFzXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlcnMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVycy5mb3JlYWNoKGZ1bmN0aW9uKHZhbHVlOiAoZXZlbnRBcmdzOiBBcmdzKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZShldmVudEFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50QWxpYXMgPSBldmVudEFsaWFzO1xyXG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gZXZlbnRFbWl0dGVyO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uU3RvcmFnZSA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5hZGRMaXN0ZW5lcih0aGlzLmV2ZW50QWxpYXMsIHRoaXMuY2FsbEZ1bmN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3Bvc2VzIHRoZSBpbnN0YW5jZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5ldmVudEFsaWFzLCB0aGlzLmNhbGxGdW5jdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzdHJpYmVzIGEgaGFuZGxlciB1bmRlciBhbiBhbGlhcy5cclxuICAgICAqIEBwYXJhbSBhbGlhcyBBbGlhcyBvZiB0aGUgaGFuZGxlci5cclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIEhhbmRsZXIgdG8gYmUgc3Vic2NyaWJlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN1YnNjcmliZShhbGlhczogc3RyaW5nLCBoYW5kbGVyOiAoZXZlbnRBcmdzOiBBcmdzKSA9PiB2b2lkKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAobnVsbCA9PSB0aGlzLnN1YnNjcmlwdGlvblN0b3JhZ2VbYWxpYXNdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uU3RvcmFnZVthbGlhc10gPSBuZXcgVG9rZW5NYXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uU3RvcmFnZVthbGlhc10uYWRkKGhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5zdWJzY3JpYmVzIGEgaGFuZGxlciB1bmRlciBhbiBhbGlhcy5cclxuICAgICAqIEBwYXJhbSBhbGlhcyBBbGlhcyBvZiB0aGUgaGFuZGxlci5cclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgaGFuZGxlci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVuc3Vic2NyaWJlKGFsaWFzOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAobnVsbCA9PSB0aGlzLnN1YnNjcmlwdGlvblN0b3JhZ2VbYWxpYXNdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25TdG9yYWdlW2FsaWFzXS5yZW1vdmUoaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xyXG5pbXBvcnQgeyBJVGFza0Zsb3cgfSBmcm9tICcuL2Zsb3cvdGFzay1mbG93JztcclxuaW1wb3J0IHsgSVRhc2tGbG93UGFydCB9IGZyb20gJy4vZmxvdy90YXNrLWZsb3ctcGFydCc7XHJcbmltcG9ydCB7XHJcbiAgICBJVGFza0Zsb3dQYXJ0RW5kQXJncyxcclxuICAgIElUYXNrRmxvd1BhcnRTdGFydEFyZ3MsXHJcbn0gZnJvbSAnLi9mbG93L3Rhc2stZmxvdy1wYXJ0LWV2ZW50LWFyZ3MnO1xyXG5pbXBvcnQgeyBJVGFza1BhcnRXaGVuQ29uc3RyYWludCB9IGZyb20gJy4vZmxvdy90YXNrLWZsb3ctd2hlbic7XHJcbmltcG9ydCB7IFRhc2tQYXJ0QmVnaW5Db25zdHJhaW50IH0gZnJvbSAnLi9mbG93L3Rhc2stcGFydC1iZWdpbi1jb25zdHJhaW50JztcclxuaW1wb3J0IHsgVEFTS19DT05TVFJBSU5UX1RZUEVTIH0gZnJvbSAnLi9mbG93L3Rhc2stcGFydC1jb25zdHJhaW50JztcclxuaW1wb3J0IHsgVGFza1BhcnRFbmRDb25zdHJhaW50IH0gZnJvbSAnLi9mbG93L3Rhc2stcGFydC1lbmQtY29uc3RyYWludCc7XHJcbmltcG9ydCB7IFRhc2tHcm91cENvbnN0cmFpbnQgfSBmcm9tICcuL2Zsb3cvdGFzay1wYXJ0LWdyb3VwLWNvbnN0cmFpbnQnO1xyXG5pbXBvcnQgeyBUYXNrVGltZUNvbnN0cmFpbnQgfSBmcm9tICcuL2Zsb3cvdGFzay1wYXJ0LXRpbWUtY29uc3RyYWludCc7XHJcbmltcG9ydCB7IE9wZXJhdGlvbk1hbmFnZXIgfSBmcm9tICcuL29wZXJhdGlvbi9vcGVyYXRpb24tbWFuYWdlcic7XHJcbmltcG9ydCB7IElPcGVyYXRpb25NYW5hZ2VyQWNjZXNzIH0gZnJvbSAnLi9vcGVyYXRpb24vb3BlcmF0aW9uLW1hbmFnZXItYWNjZXNzJztcclxuaW1wb3J0IHsgVEFTS19QQVJUX1dIRU5fRVZFTlRTIH0gZnJvbSAnLi90YXNrLXBhcnQtd2hlbi1ldmVudHMnO1xyXG5pbXBvcnQgeyBUYXNrUGFydFdoZW5PcGVyYXRvciB9IGZyb20gJy4vdGFzay1wYXJ0LXdoZW4tb3BlcmF0b3InO1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSB0YXNrIGVuZ2luZS5cclxuICovXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUYXNrRW5naW5lPFRQYXJ0IGV4dGVuZHMgSVRhc2tGbG93UGFydD4ge1xyXG4gICAgLy8jcmVnaW9uIEF0dHJpYnV0ZXNcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRhc2sgY3VycmVudGx5IG1hbmFnZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBjdXJyZW50VGFzazogSVRhc2tGbG93PFRQYXJ0PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50IGVtaXR0ZXIgdG8gdXNlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcclxuXHJcbiAgICAvLyNyZWdpb24gT3BlcmF0aW9uc1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuYWdlciB0aGF0IGhhbmRsZXMgdGhlIHBhcnQgZW5kIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgcGFydEVuZE1hbmFnZXI6IE9wZXJhdGlvbk1hbmFnZXI8SVRhc2tGbG93UGFydEVuZEFyZ3M8VFBhcnQ+PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmFnZXIgdGhhdCBoYW5kbGVzIHRoZSBwYXJ0IHN0YXJ0IGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgcGFydFN0YXJ0TWFuYWdlcjogT3BlcmF0aW9uTWFuYWdlcjxJVGFza0Zsb3dQYXJ0U3RhcnRBcmdzPFRQYXJ0Pj47XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgLy8jcmVnaW9uIFB1YmxpY1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnBhcnRFbmRNYW5hZ2VyID0gbmV3IE9wZXJhdGlvbk1hbmFnZXI8SVRhc2tGbG93UGFydEVuZEFyZ3M8VFBhcnQ+PihcclxuICAgICAgICAgICAgVEFTS19QQVJUX1dIRU5fRVZFTlRTLkVORCxcclxuICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIsXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnBhcnRTdGFydE1hbmFnZXIgPSBuZXcgT3BlcmF0aW9uTWFuYWdlcjxJVGFza0Zsb3dQYXJ0U3RhcnRBcmdzPFRQYXJ0Pj4oXHJcbiAgICAgICAgICAgIFRBU0tfUEFSVF9XSEVOX0VWRU5UUy5TVEFSVCxcclxuICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIsXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9idGFpbnMgdGhlIGFjY2VzcyBvZiB0aGUgcGFydCBlbmQgZXZlbnQuXHJcbiAgICAgKiBAcmV0dXJucyBBY2Nlc3Mgb2YgdGhlIHBhcnQgZW5kIGV2ZW50LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0UGFydEVuZExpc3RlbmVyQWNjZXNzKCk6IElPcGVyYXRpb25NYW5hZ2VyQWNjZXNzPElUYXNrRmxvd1BhcnRFbmRBcmdzPFRQYXJ0Pj4ge1xyXG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24oXHJcbiAgICAgICAgICAgICAgICBhbGlhczogc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKGV2ZW50QXJnczogSVRhc2tGbG93UGFydEVuZEFyZ3M8VFBhcnQ+KSA9PiB2b2lkLFxyXG4gICAgICAgICAgICApOiBudW1iZXIge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucGFydEVuZE1hbmFnZXIuc3Vic2NyaWJlKGFsaWFzLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uKGFsaWFzOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnBhcnRFbmRNYW5hZ2VyLnVuc3Vic2NyaWJlKGFsaWFzLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9idGFpbnMgdGhlIGFjY2VzcyBvZiB0aGUgcGFydCBzdGFydCBldmVudC5cclxuICAgICAqIEByZXR1cm5zIEFjY2VzcyBvZiB0aGUgcGFydCBzdGFydCBldmVudC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFBhcnRTdGFydExpc3RlbmVyQWNjZXNzKCk6IElPcGVyYXRpb25NYW5hZ2VyQWNjZXNzPElUYXNrRmxvd1BhcnRTdGFydEFyZ3M8VFBhcnQ+PiB7XHJcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbihcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoZXZlbnRBcmdzOiBJVGFza0Zsb3dQYXJ0U3RhcnRBcmdzPFRQYXJ0PikgPT4gdm9pZCxcclxuICAgICAgICAgICAgKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnBhcnRTdGFydE1hbmFnZXIuc3Vic2NyaWJlKGFsaWFzLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uKGFsaWFzOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0LnBhcnRTdGFydE1hbmFnZXIudW5zdWJzY3JpYmUoYWxpYXMsIGluZGV4KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBhIHRhc2sgZmxvdy5cclxuICAgICAqIEBwYXJhbSB0YXNrRmxvdyBUYXNrIGZsb3cgdG8gYmUgbWFuYWdlZC5cclxuICAgICAqIEByZXR1cm5zIFRhc2sgcGFydCBwcm9taXNlcy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGhhbmRsZSh0YXNrRmxvdzogSVRhc2tGbG93PFRQYXJ0Pik6IEFycmF5PFByb21pc2U8dm9pZD4+IHtcclxuICAgICAgICBpZiAodGFza0Zsb3cgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0XFwncyByZXF1aXJlZCBhIHRhc2sgZmxvdy4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhc2tGbG93LnBhcnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdFxcJ3MgcmVxdWlyZWQgYSB0YXNrIGZsb3cgd2l0aCBwYXJ0cy4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFRhc2sgPSB0YXNrRmxvdztcclxuICAgICAgICBjb25zdCBwYXJ0UHJvbWlzZXM6IEFycmF5PFByb21pc2U8dm9pZD4+ID0gbmV3IEFycmF5KHRhc2tGbG93LnBhcnRzLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFza0Zsb3cucGFydHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgcGFydFByb21pc2VzW2ldID0gdGhpcy5oYW5kbGVUYXNrUGFydCh0YXNrRmxvdy5wYXJ0c1tpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGFydFByb21pc2VzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBhIHRhc2sgcGFydC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGFydCBUYXNrIHBhcnQgdG8gaGFuZGxlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2ZWQgb25jZSB0aGUgcGFydCBvZiB0aGUgdGFzayBpcyBmaW5pc2hlZC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGhhbmRsZVRhc2tQYXJ0KHBhcnQ6IFRQYXJ0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdGhhdC5oYW5kbGVUYXNrUGFydFdoZW4ocGFydC53aGVuKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gMS4gRW1pdCB0aGUgc3RhcnQgb2YgdGFzayBwYXJ0LlxyXG4gICAgICAgICAgICAgICAgdGhhdC5ldmVudEVtaXR0ZXIuZW1pdChcclxuICAgICAgICAgICAgICAgICAgICBUQVNLX1BBUlRfV0hFTl9FVkVOVFMuU1RBUlQsXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlhc2VzOiBbcGFydC5hbGlhc10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQ6IHBhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSBhcyBJVGFza0Zsb3dQYXJ0U3RhcnRBcmdzPFRQYXJ0PixcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZTogUHJvbWlzZUxpa2U8e30gfCB2b2lkPiA9IHRoYXQucGVyZm9ybVRhc2socGFydCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIDMuIEVtaXQgdGhlIGVuZCBvZiB0aGUgdGFzayBwYXJ0IGFuZCByZXNvbHZlIHRoZSBwcm9taXNlLlxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZXZlbnRFbWl0dGVyLmVtaXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRBU0tfUEFSVF9XSEVOX0VWRU5UUy5FTkQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzZXM6IFtwYXJ0LmFsaWFzXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQ6IHBhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgSVRhc2tGbG93UGFydEVuZEFyZ3M8VFBhcnQ+LFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycjogYW55KSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBhIHRhc2sgcGFydC5cclxuICAgICAqIEBwYXJhbSBwYXJ0IFRhc2sgcGFydCB0byBiZSBwZXJmb3JtZWQuXHJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmVkIG9uY2UgdGhlIHBhcnQgdGFzayBpcyBwZXJmb3JtZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBwZXJmb3JtVGFzayhwYXJ0OiBUUGFydCk6IFByb21pc2VMaWtlPHt9IHwgdm9pZD47XHJcblxyXG4gICAgLy8jcmVnaW9uIFRhc2tQYXJ0V2hlbmNvbnN0cmFpbnRcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIHdoZW4gZW50aXR5IG9mIGEgdGFzayBwYXJ0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB3aGVuRW50aXR5IFdoZW4gZW50aXR5IHRvIGhhbmRsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmVkIG9uY2UgdGhlIHdoZW4gZW50aXR5IGlzIGNoZWNrZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBoYW5kbGVUYXNrUGFydFdoZW4od2hlbkVudGl0eTogSVRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09IHdoZW5FbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAod2hlbkVudGl0eS5jb25zdHJhaW50VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVEFTS19DT05TVFJBSU5UX1RZUEVTLlNUQVJUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZVRhc2tQYXJ0V2hlblBhcnRCZWdpbnMod2hlbkVudGl0eSBhcyBUYXNrUGFydEJlZ2luQ29uc3RyYWludClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRBU0tfQ09OU1RSQUlOVF9UWVBFUy5FTkQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlVGFza1BhcnRXaGVuUGFydEVuZHMod2hlbkVudGl0eSBhcyBUYXNrUGFydEVuZENvbnN0cmFpbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUQVNLX0NPTlNUUkFJTlRfVFlQRVMuR1JPVVA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlVGFza1BhcnRXaGVuUGFydEdyb3VwKHdoZW5FbnRpdHkgYXMgVGFza0dyb3VwQ29uc3RyYWludClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRBU0tfQ09OU1RSQUlOVF9UWVBFUy5XQUlUX0ZPUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5oYW5kbGVUYXNrUGFydFdoZW5XYWl0Rm9yKHdoZW5FbnRpdHkgYXMgVGFza1RpbWVDb25zdHJhaW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgd2hlbiBlbnRpdHkgdHlwZS4nKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIHdoZW4gZW50aXR5IChUYXNrUGFydEJlZ2luQ29uc3RyYWludCkgb2YgYSB0YXNrIHBhcnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHdoZW5FbnRpdHkgV2hlbiBlbnRpdHkgdG8gaGFuZGxlLlxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZlZCBvbmNlIHRoZSB3aGVuIGVudGl0eSBpcyBjaGVja2VkLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgaGFuZGxlVGFza1BhcnRXaGVuUGFydEJlZ2lucyh3aGVuRW50aXR5OiBUYXNrUGFydEJlZ2luQ29uc3RyYWludCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnBhcnRTdGFydE1hbmFnZXIudW5zdWJzY3JpYmUod2hlbkVudGl0eS5hbGlhcywgdG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gd2hlbkVudGl0eS5hZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYW5kbGVUYXNrUGFydFdoZW4od2hlbkVudGl0eS5hZnRlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuOiBudW1iZXIgPSB0aGF0LnBhcnRTdGFydE1hbmFnZXIuc3Vic2NyaWJlKHdoZW5FbnRpdHkuYWxpYXMsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSB3aGVuIGVudGl0eSAoVGFza1BhcnRFbmRDb25zdHJhaW50KSBvZiBhIHRhc2sgcGFydC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gd2hlbkVudGl0eSBXaGVuIGVudGl0eSB0byBoYW5kbGUuXHJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmVkIG9uY2UgdGhlIHdoZW4gZW50aXR5IGlzIGNoZWNrZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBoYW5kbGVUYXNrUGFydFdoZW5QYXJ0RW5kcyh3aGVuRW50aXR5OiBUYXNrUGFydEVuZENvbnN0cmFpbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5wYXJ0RW5kTWFuYWdlci51bnN1YnNjcmliZSh3aGVuRW50aXR5LmFsaWFzLCB0b2tlbik7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSB3aGVuRW50aXR5LmFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZVRhc2tQYXJ0V2hlbih3aGVuRW50aXR5LmFmdGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgdG9rZW46IG51bWJlciA9IHRoYXQucGFydEVuZE1hbmFnZXIuc3Vic2NyaWJlKHdoZW5FbnRpdHkuYWxpYXMsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSB3aGVuIGVudGl0eSAoVGFza0dyb3VwQ29uc3RyYWludCkgb2YgYSB0YXNrIHBhcnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHdoZW5FbnRpdHkgV2hlbiBlbnRpdHkgdG8gaGFuZGxlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2ZWQgb25jZSB0aGUgd2hlbiBlbnRpdHkgaXMgY2hlY2tlZC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGhhbmRsZVRhc2tQYXJ0V2hlblBhcnRHcm91cCh3aGVuRW50aXR5OiBUYXNrR3JvdXBDb25zdHJhaW50KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZFByb21pc2VzOiBBcnJheTxQcm9taXNlPHZvaWQ+PiA9IG5ldyBBcnJheSh3aGVuRW50aXR5LmNvbnN0cmFpbnRzLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdoZW5FbnRpdHkuY29uc3RyYWludHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkUHJvbWlzZXNbaV0gPSBuZXcgUHJvbWlzZTx2b2lkPihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZVRhc2tQYXJ0V2hlbih3aGVuRW50aXR5LmNvbnN0cmFpbnRzW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoVGFza1BhcnRXaGVuT3BlcmF0b3IuQU5EID09PSB3aGVuRW50aXR5Lm9wZXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChjaGlsZFByb21pc2VzKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoVGFza1BhcnRXaGVuT3BlcmF0b3IuT1IgPT09IHdoZW5FbnRpdHkub3BlcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgIFByb21pc2UucmFjZShjaGlsZFByb21pc2VzKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoJ1VuZXhwZWN0ZWQgb3BlcmF0b3IuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZXMgdGhlIHdoZW4gZW50aXR5IChUYXNrVGltZUNvbnN0cmFpbnQpIG9mIGEgdGFzayBwYXJ0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB3aGVuRW50aXR5IFdoZW4gZW50aXR5IHRvIGhhbmRsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmVkIG9uY2UgdGhlIHdoZW4gZW50aXR5IGlzIGNoZWNrZWQuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBoYW5kbGVUYXNrUGFydFdoZW5XYWl0Rm9yKHdoZW5FbnRpdHk6IFRhc2tUaW1lQ29uc3RyYWludCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3aGVuRW50aXR5LmFmdGVyID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlVGFza1BhcnRXaGVuKHdoZW5FbnRpdHkuYWZ0ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB3aGVuRW50aXR5Lm1pbGxpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uXHJcbn1cclxuIiwiLyoqXHJcbiAqIFByZWZpeGVzIHVzZWQgdG8gZ2FuZXJhdGUgYWxpYXMgZm9yIGV2ZW50cyBvdmVyIHRhc2sgcGFydHMuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgVEFTS19QQVJUX1dIRU5fRVZFTlRTID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVmaXggZm9yIGFueSBldmVudCByYWlzZWQgb25jZSBhIHRhc2sgcGFydCBpcyBlbmRlZC5cclxuICAgICAqL1xyXG4gICAgRU5EOiAncGFydC5lbmQnLFxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVmaXggZm9yIGFueSBldmVudCByYWlzZWQgb25jZSBhIHRhc2sgcGFydCBpcyBzdGFydGVkLlxyXG4gICAgICovXHJcbiAgICBTVEFSVDogJ3BhcnQuc3RhcnQnLFxyXG59O1xyXG4iLCIvKipcclxuICogTG9naWNhbCBvcGVyYXRvciB0byBhcHBseS5cclxuICovXHJcbmV4cG9ydCBlbnVtIFRhc2tQYXJ0V2hlbk9wZXJhdG9yIHtcclxuICAgIC8qKlxyXG4gICAgICogQW5kIG9wZXJhdG9yLlxyXG4gICAgICovXHJcbiAgICBBTkQsXHJcbiAgICAvKipcclxuICAgICAqIE9yIG9wZXJhdG9yLlxyXG4gICAgICovXHJcbiAgICBPUixcclxufVxyXG4iLCJpbXBvcnQgeyBUb2tlbk1hcCB9IGZyb20gJy4uLy4uL2NvbGxlY3Rpb24vdG9rZW4tbWFwJztcclxuaW1wb3J0IHsgSVRlc3QgfSBmcm9tICcuLi9JVGVzdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVG9rZW5NYXBUZXN0cyBpbXBsZW1lbnRzIElUZXN0IHtcclxuXHJcbiAgICBwdWJsaWMgcGVyZm9ybVRlc3RzKCk6IHZvaWQge1xyXG4gICAgICAgIGRlc2NyaWJlKCdUb2tlbiBNYXAgVGVzdHMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVJbml0aWFsaXphYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9BZGRFbGVtZW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvQWRkQW5kUmVtb3ZlRWxlbWVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb0l0ZXJhdGVPdmVyRWxlbWVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1JldXNlVW51c2VkSW5kZXhlcygpO1xyXG4gICAgICAgICAgICB0aGlzLml0TXVzdE5vdEJlQWJsZVRvUmVtb3ZlVW51c2VkSW5kZXhlcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXRNdXN0QmVJbml0aWFsaXphYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGl0KCdtdXN0QmVJbml0aWFsaXphYmxlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYXAgPSBuZXcgVG9rZW5NYXAoKTtcclxuICAgICAgICAgICAgZXhwZWN0KG1hcCkubm90LnRvQmUobnVsbCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChtYXAuY291bnQoKSkudG9CZSgwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvQWRkRWxlbWVudHMoKTogdm9pZCB7XHJcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb0FkZEVsZW1lbnRzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYXAgPSBuZXcgVG9rZW5NYXA8e30+KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzVG9BZGQgPSA2NDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNUb0FkZDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QobWFwLmFkZChpKSkudG9CZShpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50c1RvQWRkOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChtYXAuZ2V0KGkpKS50b0JlKGkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBleHBlY3QobWFwLmNvdW50KCkpLnRvQmUoZWxlbWVudHNUb0FkZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpdE11c3RCZUFibGVUb0FkZEFuZFJlbW92ZUVsZW1lbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9BZGRBbmRSZW1vdmVFbGVtZW50cycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWFwID0gbmV3IFRva2VuTWFwPHt9PigpO1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50c1RvQWRkID0gNjQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzVG9SZW1vdmUgPSAzMjtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50c1RvQWRkOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChtYXAuYWRkKGkpKS50b0JlKGkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzVG9BZGQ7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KG1hcC5nZXQoaSkpLnRvQmUoaSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNUb1JlbW92ZTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QobWFwLnJlbW92ZShpKSkudG9CZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXhwZWN0KG1hcC5jb3VudCgpKS50b0JlKGVsZW1lbnRzVG9BZGQgLSBlbGVtZW50c1RvUmVtb3ZlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvSXRlcmF0ZU92ZXJFbGVtZW50cygpIHtcclxuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvSXRlcmF0ZU92ZXJFbGVtZW50cycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWFwID0gbmV3IFRva2VuTWFwPG51bWJlcj4oKTtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudHNUb0FkZCA9IDg7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNUb0FkZDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3dlciA9IE1hdGgucG93KDIsIGkpO1xyXG4gICAgICAgICAgICAgICAgbWFwLmFkZChwb3dlcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBzdW0gPSAwO1xyXG4gICAgICAgICAgICBtYXAuZm9yZWFjaCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3VtID0gc3VtICsgdmFsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZSA9IE1hdGgucG93KDIsIGVsZW1lbnRzVG9BZGQpIC0gMTtcclxuICAgICAgICAgICAgZXhwZWN0KHN1bSkudG9CZShleHBlY3RlZFZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvUmV1c2VVbnVzZWRJbmRleGVzKCk6IHZvaWQge1xyXG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9SZXVzZVVudXNlZEluZGV4ZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IG5ldyBUb2tlbk1hcDx7fT4oKTtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudHNUb0FkZCA9IDY0O1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50c1RvUmVtb3ZlID0gMzI7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNUb0FkZDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QobWFwLmFkZChpKSkudG9CZShpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50c1RvQWRkOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChtYXAuZ2V0KGkpKS50b0JlKGkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzVG9SZW1vdmU7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KG1hcC5yZW1vdmUoaSkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHNUb1JlbW92ZTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QobWFwLmFkZChpKSkudG9CZUxlc3NUaGFuKGVsZW1lbnRzVG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBleHBlY3QobWFwLmNvdW50KCkpLnRvQmUoZWxlbWVudHNUb0FkZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpdE11c3ROb3RCZUFibGVUb1JlbW92ZVVudXNlZEluZGV4ZXMoKTogdm9pZCB7XHJcbiAgICAgICAgaXQoJ211c3ROb3RCZUFibGVUb1JlbW92ZVVudXNlZEluZGV4ZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IG5ldyBUb2tlbk1hcDx7fT4oKTtcclxuICAgICAgICAgICAgZXhwZWN0KG1hcC5yZW1vdmUoMCkpLnRvQmUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IElUYXNrRmxvd1BhcnQgfSBmcm9tICcuLi8uLi8uLi90YXNrL2Zsb3cvdGFzay1mbG93LXBhcnQnO1xuaW1wb3J0IHsgSVRhc2tQYXJ0V2hlbkNvbnN0cmFpbnQgfSBmcm9tICcuLi8uLi8uLi90YXNrL2Zsb3cvdGFzay1mbG93LXdoZW4nO1xuXG5leHBvcnQgY2xhc3MgTG9nTWVzc2FnZVRhc2tGbG93UGFydCBpbXBsZW1lbnRzIElUYXNrRmxvd1BhcnQge1xuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIHRoZSBwYXJ0XG4gICAgICovXG4gICAgcHVibGljIGFsaWFzOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogTWVzc2FnZSB0byBsb2cuXG4gICAgICovXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgbWVzc2FnZSB3b24ndCBiZSBsb2cgdW50aWwgdGhlIHByb21pc2UgaXMgZnVsbGZpbGxlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgd2FpdEZvclByb21pc2U6IFByb21pc2VMaWtlPHt9IHwgdm9pZD47XG4gICAgLyoqXG4gICAgICogQ29uc3RyYWludHMgdG8gZW5zdXJlIGJlZm9yZSBhcHBseWluZyB0aGUgc3R5bGVzLlxuICAgICAqL1xuICAgIHB1YmxpYyB3aGVuOiBJVGFza1BhcnRXaGVuQ29uc3RyYWludDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbGlhcyBhbGlhcyBvZiB0aGUgcGFydC5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBtZXNzYWdlIHRvIGxvZy5cbiAgICAgKiBAcGFyYW0gd2FpdEZvclByb21pc2UgUHJvbWlzZSB0aGF0IG11c3QgYmUgZnVsbGZpbGxlZCBiZWZvcmUgbG9naW5nIHRoZSBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB3aGVuIFdoZW4gY29uc3RyYWludCBvZiB0aGUgdGFzay5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIGFsaWFzOiBzdHJpbmcsXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICAgICAgd2FpdEZvclByb21pc2U6IFByb21pc2VMaWtlPHt9IHwgdm9pZD4gPSBudWxsLFxuICAgICAgICB3aGVuOiBJVGFza1BhcnRXaGVuQ29uc3RyYWludCA9IG51bGwsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYWxpYXMgPSBhbGlhcztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy53YWl0Rm9yUHJvbWlzZSA9IHdhaXRGb3JQcm9taXNlO1xuICAgICAgICB0aGlzLndoZW4gPSB3aGVuO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRhc2tFbmdpbmUgfSBmcm9tICcuLi8uLi90YXNrL3Rhc2stZW5naW5lJztcbmltcG9ydCB7IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQgfSBmcm9tICcuL2Zsb3cvbG9nLW1lc3NhZ2UtdGFzay1mbG93LXBhcnQnO1xuaW1wb3J0IHsgU2FtcGxlTG9nIH0gZnJvbSAnLi9zYW1wbGUtbG9nJztcblxuZXhwb3J0IGNsYXNzIExvZ1Rhc2tFbmdpbmUgZXh0ZW5kcyBUYXNrRW5naW5lPExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQ+IHtcblxuICAgIC8qKlxuICAgICAqIEVuZ2luZSdzIGxvZyB1c2VkIHRvIHN0b3JlIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBsb2c6IFNhbXBsZUxvZztcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZW5naW5lLlxuICAgICAqIEBwYXJhbSBsb2cgRW5naW5lJ3MgbG9nLiBJZiBudWxsIGlzIHBhc3NlZCwgdGhlIGVuZ2luZSB3aWxsIGNyZWF0ZSBhIG5ldyBsb2cuXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGxvZzogU2FtcGxlTG9nID0gbnVsbCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGlmIChudWxsID09IGxvZykge1xuICAgICAgICAgICAgbG9nID0gbmV3IFNhbXBsZUxvZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2cgPSBsb2c7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2J0YWlucyB0aGUgZW5naW5lJ3MgbG9nLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRMb2coKTogU2FtcGxlTG9nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgdGFzayBmbG93IHBhcnQuXG4gICAgICogQHBhcmFtIHBhcnQgVGFzayBmbG93IHBhcnQuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHBlcmZvcm1UYXNrKFxuICAgICAgICBwYXJ0OiBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0LFxuICAgICk6IFByb21pc2VMaWtlPHt9IHwgdm9pZD4ge1xuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvZ0FjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LmxvZy5sb2dNZXNzYWdlKHBhcnQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChudWxsID09IHBhcnQud2FpdEZvclByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBsb2dBY3Rpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydC53YWl0Rm9yUHJvbWlzZS50aGVuKGxvZ0FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTYW1wbGVMb2cge1xuXG4gICAgLyoqXG4gICAgICogTG9nIGNvdW50ZXIuIFRoZSBsb2cgaGFzIGFzIG1hbnkgZW50cmllcyBhcyB0aGUgdmFsdWUgb2YgdGhpcyBjb3VudGVyLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBsb2dDb3VudGVyOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBNZXNzYWdlcyBhcnJheVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBtZXNzYWdlQXJyYXk6IHN0cmluZ1tdO1xuXG4gICAgLyoqXG4gICAgICogTWVzc2FnZXMgaW5kZXhlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgbWVzc2FnZUluZGV4ZXM6IHtba2V5OiBzdHJpbmddOiBudW1iZXJ9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzYW1wbGUgbG9nLlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5sb2dDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5tZXNzYWdlQXJyYXkgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlSW5kZXhlcyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZ3MgYSBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gYmUgbG9nZ2VkLlxuICAgICAqL1xuICAgIHB1YmxpYyBsb2dNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICB0aGlzLm1lc3NhZ2VBcnJheS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VJbmRleGVzW21lc3NhZ2VdID0gdGhpcy5sb2dDb3VudGVyO1xuICAgICAgICArK3RoaXMubG9nQ291bnRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtZXNzYWdlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICogQHBhcmFtIGluZGV4IGluZGV4IG9mIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNZXNzYWdlKGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlQXJyYXlbaW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIGEgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBNZXNzYWdlIHdob3NlIGluZGV4IGlzIHNlYXJjaGVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNZXNzYWdlSW5kZXgobWVzc2FnZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZUluZGV4ZXNbbWVzc2FnZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1lc3NhZ2VzIGluIHRoZSBsb2cuXG4gICAgICogQHJldHVybnMgTG9nIGFycmF5LlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNZXNzYWdlcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzQ29weSA9IG5ldyBBcnJheSgpO1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdGhpcy5tZXNzYWdlQXJyYXkpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzQ29weS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlc0NvcHk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSVRhc2tGbG93IH0gZnJvbSAnLi4vLi4vdGFzay9mbG93L3Rhc2stZmxvdyc7XG5pbXBvcnQgeyBUYXNrUGFydEJlZ2luQ29uc3RyYWludCB9IGZyb20gJy4uLy4uL3Rhc2svZmxvdy90YXNrLXBhcnQtYmVnaW4tY29uc3RyYWludCc7XG5pbXBvcnQgeyBUYXNrUGFydEVuZENvbnN0cmFpbnQgfSBmcm9tICcuLi8uLi90YXNrL2Zsb3cvdGFzay1wYXJ0LWVuZC1jb25zdHJhaW50JztcbmltcG9ydCB7IFRhc2tHcm91cENvbnN0cmFpbnQgfSBmcm9tICcuLi8uLi90YXNrL2Zsb3cvdGFzay1wYXJ0LWdyb3VwLWNvbnN0cmFpbnQnO1xuaW1wb3J0IHsgVGFza1RpbWVDb25zdHJhaW50IH0gZnJvbSAnLi4vLi4vdGFzay9mbG93L3Rhc2stcGFydC10aW1lLWNvbnN0cmFpbnQnO1xuaW1wb3J0IHsgVGFza1BhcnRXaGVuT3BlcmF0b3IgfSBmcm9tICcuLi8uLi90YXNrL3Rhc2stcGFydC13aGVuLW9wZXJhdG9yJztcbmltcG9ydCB7IElUZXN0IH0gZnJvbSAnLi4vSVRlc3QnO1xuaW1wb3J0IHtcbiAgICBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0LFxufSBmcm9tICcuLi9sb2dpYy9mbG93L2xvZy1tZXNzYWdlLXRhc2stZmxvdy1wYXJ0JztcbmltcG9ydCB7IExvZ1Rhc2tFbmdpbmUgfSBmcm9tICcuLi9sb2dpYy9sb2ctdGFzay1lbmdpbmUnO1xuaW1wb3J0IHsgU2FtcGxlTG9nIH0gZnJvbSAnLi4vbG9naWMvc2FtcGxlLWxvZyc7XG5cbmNvbnN0IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnRBbGlhc1ByZWZpeDogc3RyaW5nID0gJ2pvdmVsbGFub3MvdGVzdC9Mb2dNZXNzYWdlVGFza0Zsb3dQYXJ0Lyc7XG5cbmV4cG9ydCBjbGFzcyBMb2dUYXNrRW5naW5lVGVzdHMgaW1wbGVtZW50cyBJVGVzdCB7XG5cbiAgICBwdWJsaWMgcGVyZm9ybVRlc3RzKCk6IHZvaWQge1xuICAgICAgICBkZXNjcmliZSgnTG9nIFRhc2sgRW5naW5lIFRlc3RzJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1BlcmZvcm1BU2ltcGxlVGFzaygpO1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1BlcmZvcm1BVGFza0FmdGVyQUNlcnRhaW5BbW91bnRPZlRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9QZXJmb3JtQVRhc2tBZnRlclRoZUVuZE9mQWxsVGFza3NPZkFUYXNrR3JvdXAoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9QZXJmb3JtQVRhc2tBZnRlclRoZUVuZE9mQW5vdGhlck9uZSgpO1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1BlcmZvcm1BVGFza0FmdGVyVGhlU3RhcnRPZkFub3RoZXJPbmUoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9QZXJmb3JtQVRhc2tBZnRlclRoZVN0YXJ0T2ZBbnlUYXNrT2ZBVGFza0dyb3VwKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvU3Vic2NyaWJlQVBhcnRFbmRFdmVudExpc3RlbmVyKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlQWJsZVRvU3Vic2NyaWJlQVBhcnRTdGFydEV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVBYmxlVG9VbnN1YnNjcmliZUFQYXJ0RW5kRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1Vuc3Vic2NyaWJlQVBhcnRTdGFydEV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0QmVJbml0aWFsaXphYmxlKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdE5vdEFsbG93VG9IYW5kbGVBTnVsbEluc3RhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdE5vdEFsbG93VG9IYW5kbGVBbkluc3RhbmNlV2l0aE5vUGFydHMoKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0Tm90QmVBYmxlVG9IYW5kbGVBbkludmFsaWRUYXNrKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdFN0YXJ0V2l0aEFMb2coKTtcbiAgICAgICAgICAgIHRoaXMuaXRNdXN0U3RhcnRXaXRoTm9NZXNzYWdlcygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvUGVyZm9ybUFTaW1wbGVUYXNrKCk6IHZvaWQge1xuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvUGVyZm9ybUFTaW1wbGVUYXNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IExvZ1Rhc2tFbmdpbmUoKTtcbiAgICAgICAgICAgIGNvbnN0IHNpbXBsZVRhc2tGbG93ID0ge1xuICAgICAgICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nTWVzc2FnZVRhc2tGbG93UGFydEFsaWFzUHJlZml4ICsgJ3NhbXBsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndGVzdCcsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBQcm9taXNlLmFsbChlbmdpbmUuaGFuZGxlKHNpbXBsZVRhc2tGbG93KSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRMb2coKS5nZXRNZXNzYWdlcygpKS50b0VxdWFsKFsndGVzdCddKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvUGVyZm9ybUFUYXNrQWZ0ZXJBQ2VydGFpbkFtb3VudE9mVGltZSgpIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1BlcmZvcm1BVGFza0FmdGVyQUNlcnRhaW5BbW91bnRPZlRpbWUnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0QWxpYXMxID0gTG9nTWVzc2FnZVRhc2tGbG93UGFydEFsaWFzUHJlZml4ICsgJ3NhbXBsZS0xJztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRBbGlhczIgPSBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlLTInO1xuICAgICAgICAgICAgY29uc3QgcGFydEFsaWFzMyA9IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnRBbGlhc1ByZWZpeCArICdzYW1wbGUtMyc7XG5cbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IG5ldyBTYW1wbGVMb2coKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBMb2dUYXNrRW5naW5lKGxvZyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tGbG93ID0ge1xuICAgICAgICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEFsaWFzMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXN0LTEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKSksXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEFsaWFzMixcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXN0LTInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYXNrVGltZUNvbnN0cmFpbnQobnVsbCwgMjUwKSxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0QWxpYXMzLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Rlc3QtMycsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMDApKSxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgUHJvbWlzZS5hbGwoZW5naW5lLmhhbmRsZSh0YXNrRmxvdykpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuZ2V0TG9nKCkuZ2V0TWVzc2FnZXMoKSkudG9FcXVhbChbJ3Rlc3QtMScsICd0ZXN0LTInLCAndGVzdC0zJ10pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXRNdXN0QmVBYmxlVG9QZXJmb3JtQVRhc2tBZnRlclRoZUVuZE9mQWxsVGFza3NPZkFUYXNrR3JvdXAoKSB7XG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9QZXJmb3JtQVRhc2tBZnRlclRoZUVuZE9mQWxsVGFza3NPZkFUYXNrR3JvdXAnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0QWxpYXMxID0gTG9nTWVzc2FnZVRhc2tGbG93UGFydEFsaWFzUHJlZml4ICsgJ3NhbXBsZS0xJztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRBbGlhczIgPSBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlLTInO1xuICAgICAgICAgICAgY29uc3QgcGFydEFsaWFzMyA9IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnRBbGlhc1ByZWZpeCArICdzYW1wbGUtMyc7XG5cbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IG5ldyBTYW1wbGVMb2coKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBMb2dUYXNrRW5naW5lKGxvZyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhc2tGbG93ID0ge1xuICAgICAgICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEFsaWFzMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXN0LTEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYXNrR3JvdXBDb25zdHJhaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFza1BhcnRFbmRDb25zdHJhaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRBbGlhczIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYXNrUGFydEVuZENvbnN0cmFpbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydEFsaWFzMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tQYXJ0V2hlbk9wZXJhdG9yLkFORCxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEFsaWFzMixcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXN0LTInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0QWxpYXMzLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Rlc3QtMycsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBQcm9taXNlLmFsbChlbmdpbmUuaGFuZGxlKHRhc2tGbG93KSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9nTWVzc2FnZXMgPSBlbmdpbmUuZ2V0TG9nKCkuZ2V0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdE9uZXMgPSBbJ3Rlc3QtMicsICd0ZXN0LTMnXTtcbiAgICAgICAgICAgICAgICBleHBlY3QoZmlyc3RPbmVzKS50b0NvbnRhaW4obG9nTWVzc2FnZXNbMF0pO1xuICAgICAgICAgICAgICAgIGV4cGVjdChmaXJzdE9uZXMpLnRvQ29udGFpbihsb2dNZXNzYWdlc1sxXSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGxvZ01lc3NhZ2VzWzBdKS5ub3QudG9CZShsb2dNZXNzYWdlc1sxXSk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGxvZ01lc3NhZ2VzWzJdKS50b0JlKCd0ZXN0LTEnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvUGVyZm9ybUFUYXNrQWZ0ZXJUaGVFbmRPZkFub3RoZXJPbmUoKTogdm9pZCB7XG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9QZXJmb3JtQVRhc2tBZnRlclRoZUVuZE9mQW5vdGhlck9uZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRBbGlhczEgPSBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlLTEnO1xuICAgICAgICAgICAgY29uc3QgcGFydEFsaWFzMiA9IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnRBbGlhc1ByZWZpeCArICdzYW1wbGUtMic7XG4gICAgICAgICAgICBjb25zdCBsb2cgPSBuZXcgU2FtcGxlTG9nKCk7XG4gICAgICAgICAgICBjb25zdCBlbmdpbmUgPSBuZXcgTG9nVGFza0VuZ2luZShsb2cpO1xuICAgICAgICAgICAgY29uc3QgdGFza0Zsb3cgPSB7XG4gICAgICAgICAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0QWxpYXMxLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Rlc3QxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFza1BhcnRFbmRDb25zdHJhaW50KG51bGwsIHBhcnRBbGlhczIpLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBuZXcgTG9nTWVzc2FnZVRhc2tGbG93UGFydChwYXJ0QWxpYXMyLCAndGVzdDInKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFByb21pc2UuYWxsKGVuZ2luZS5oYW5kbGUodGFza0Zsb3cpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZW5naW5lLmdldExvZygpLmdldE1lc3NhZ2VzKCkpLnRvRXF1YWwoWyd0ZXN0MicsICd0ZXN0MSddKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvUGVyZm9ybUFUYXNrQWZ0ZXJUaGVTdGFydE9mQW5vdGhlck9uZSgpOiB2b2lkIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1BlcmZvcm1BVGFza0FmdGVyVGhlU3RhcnRPZkFub3RoZXJPbmUnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0QWxpYXMxID0gTG9nTWVzc2FnZVRhc2tGbG93UGFydEFsaWFzUHJlZml4ICsgJ3NhbXBsZS0xJztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRBbGlhczIgPSBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlLTInO1xuICAgICAgICAgICAgY29uc3QgbG9nID0gbmV3IFNhbXBsZUxvZygpO1xuICAgICAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IExvZ1Rhc2tFbmdpbmUobG9nKTtcblxuICAgICAgICAgICAgY29uc3QgcGFydDFTdWJzY3JpYmVySXNSZWdpc3RlcmVkID0gbmV3IFByb21pc2U8e1xuICAgICAgICAgICAgICAgIGRvbmVQcm9taXNlOiBQcm9taXNlPG51bWJlcj4sXG4gICAgICAgICAgICB9PihcbiAgICAgICAgICAgICAgICAocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0MUlzRG9uZSA9IG5ldyBQcm9taXNlPG51bWJlcj4oKHJlc29sdmVDaCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBlbmdpbmUuZ2V0UGFydEVuZExpc3RlbmVyQWNjZXNzKCkuc3Vic2NyaWJlKHBhcnRBbGlhczEsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlQ2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmVQcm9taXNlOiBwYXJ0MUlzRG9uZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwYXJ0MVN1YnNjcmliZXJJc1JlZ2lzdGVyZWQudGhlbigocHJvbWlzZVJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tGbG93ID0ge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0czogW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydEFsaWFzMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGVzdDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhc2tQYXJ0QmVnaW5Db25zdHJhaW50KG51bGwsIHBhcnRBbGlhczIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRBbGlhczIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Rlc3QyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlUmVzdWx0LmRvbmVQcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKGVuZ2luZS5oYW5kbGUodGFza0Zsb3cpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRMb2coKS5nZXRNZXNzYWdlcygpKS50b0VxdWFsKFsndGVzdDEnLCAndGVzdDInXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdE11c3RCZUFibGVUb1BlcmZvcm1BVGFza0FmdGVyVGhlU3RhcnRPZkFueVRhc2tPZkFUYXNrR3JvdXAoKSB7XG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9QZXJmb3JtQVRhc2tBZnRlclRoZVN0YXJ0T2ZBbnlUYXNrT2ZBVGFza0dyb3VwJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFydEFsaWFzMSA9IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnRBbGlhc1ByZWZpeCArICdzYW1wbGUtMSc7XG4gICAgICAgICAgICBjb25zdCBwYXJ0QWxpYXMyID0gTG9nTWVzc2FnZVRhc2tGbG93UGFydEFsaWFzUHJlZml4ICsgJ3NhbXBsZS0yJztcbiAgICAgICAgICAgIGNvbnN0IHBhcnRBbGlhczMgPSBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlLTMnO1xuXG4gICAgICAgICAgICBjb25zdCBsb2cgPSBuZXcgU2FtcGxlTG9nKCk7XG4gICAgICAgICAgICBjb25zdCBlbmdpbmUgPSBuZXcgTG9nVGFza0VuZ2luZShsb2cpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXJ0MVN1YnNjcmliZXJJc1JlZ2lzdGVyZWQgPSBuZXcgUHJvbWlzZTx7XG4gICAgICAgICAgICAgICAgZG9uZVByb21pc2U6IFByb21pc2U8bnVtYmVyPixcbiAgICAgICAgICAgIH0+KFxuICAgICAgICAgICAgICAgIChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQxSXNEb25lID0gbmV3IFByb21pc2U8bnVtYmVyPigocmVzb2x2ZUNoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGVuZ2luZS5nZXRQYXJ0RW5kTGlzdGVuZXJBY2Nlc3MoKS5zdWJzY3JpYmUocGFydEFsaWFzMSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVDaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZVByb21pc2U6IHBhcnQxSXNEb25lLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcGFydDFTdWJzY3JpYmVySXNSZWdpc3RlcmVkLnRoZW4oKHByb21pc2VSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrRmxvdyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRBbGlhczEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Rlc3QtMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFza0dyb3VwQ29uc3RyYWludChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhc2tQYXJ0QmVnaW5Db25zdHJhaW50KG51bGwsIHBhcnRBbGlhczIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhc2tQYXJ0QmVnaW5Db25zdHJhaW50KG51bGwsIHBhcnRBbGlhczMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrUGFydFdoZW5PcGVyYXRvci5PUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KHBhcnRBbGlhczIsICd0ZXN0LTInLCBwcm9taXNlUmVzdWx0LmRvbmVQcm9taXNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KHBhcnRBbGlhczMsICd0ZXN0LTMnLCBwcm9taXNlUmVzdWx0LmRvbmVQcm9taXNlKSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoZW5naW5lLmhhbmRsZSh0YXNrRmxvdykpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dNZXNzYWdlcyA9IGVuZ2luZS5nZXRMb2coKS5nZXRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0T25lcyA9IFsndGVzdC0yJywgJ3Rlc3QtMyddO1xuICAgICAgICAgICAgICAgICAgICBleHBlY3QobGFzdE9uZXMpLnRvQ29udGFpbihsb2dNZXNzYWdlc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChsYXN0T25lcykudG9Db250YWluKGxvZ01lc3NhZ2VzWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGxvZ01lc3NhZ2VzWzFdKS5ub3QudG9CZShsb2dNZXNzYWdlc1syXSk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdChsb2dNZXNzYWdlc1swXSkudG9CZSgndGVzdC0xJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdE11c3RCZUFibGVUb1N1YnNjcmliZUFQYXJ0RW5kRXZlbnRMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1N1YnNjcmliZUFQYXJ0RW5kRXZlbnRMaXN0ZW5lcicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRBbGlhcyA9IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnRBbGlhc1ByZWZpeCArICdzYW1wbGUnO1xuICAgICAgICAgICAgY29uc3QgbG9nID0gbmV3IFNhbXBsZUxvZygpO1xuICAgICAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IExvZ1Rhc2tFbmdpbmUobG9nKTtcbiAgICAgICAgICAgIGVuZ2luZS5nZXRQYXJ0RW5kTGlzdGVuZXJBY2Nlc3MoKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgcGFydEFsaWFzLFxuICAgICAgICAgICAgICAgIChldmVudEFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmxvZ01lc3NhZ2UoJ2VuZC4nICsgZXZlbnRBcmdzLnBhcnQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBzaW1wbGVUYXNrRmxvdyA9IHtcbiAgICAgICAgICAgICAgICBwYXJ0czogW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTG9nTWVzc2FnZVRhc2tGbG93UGFydChwYXJ0QWxpYXMsICd0ZXN0JyksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBQcm9taXNlLmFsbChlbmdpbmUuaGFuZGxlKHNpbXBsZVRhc2tGbG93KSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRMb2coKS5nZXRNZXNzYWdlcygpKS50b0VxdWFsKFtcbiAgICAgICAgICAgICAgICAgICAgJ3Rlc3QnLFxuICAgICAgICAgICAgICAgICAgICAnZW5kLnRlc3QnLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXRNdXN0QmVBYmxlVG9TdWJzY3JpYmVBUGFydFN0YXJ0RXZlbnRMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1N1YnNjcmliZUFQYXJ0U3RhcnRFdmVudExpc3RlbmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFydEFsaWFzID0gTG9nTWVzc2FnZVRhc2tGbG93UGFydEFsaWFzUHJlZml4ICsgJ3NhbXBsZSc7XG4gICAgICAgICAgICBjb25zdCBsb2cgPSBuZXcgU2FtcGxlTG9nKCk7XG4gICAgICAgICAgICBjb25zdCBlbmdpbmUgPSBuZXcgTG9nVGFza0VuZ2luZShsb2cpO1xuICAgICAgICAgICAgZW5naW5lLmdldFBhcnRTdGFydExpc3RlbmVyQWNjZXNzKCkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIHBhcnRBbGlhcyxcbiAgICAgICAgICAgICAgICAoZXZlbnRBcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5sb2dNZXNzYWdlKCdzdGFydC4nICsgZXZlbnRBcmdzLnBhcnQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBzaW1wbGVUYXNrRmxvdyA9IHtcbiAgICAgICAgICAgICAgICBwYXJ0czogW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTG9nTWVzc2FnZVRhc2tGbG93UGFydChwYXJ0QWxpYXMsICd0ZXN0JyksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBQcm9taXNlLmFsbChlbmdpbmUuaGFuZGxlKHNpbXBsZVRhc2tGbG93KSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRMb2coKS5nZXRNZXNzYWdlcygpKS50b0VxdWFsKFtcbiAgICAgICAgICAgICAgICAgICAgJ3N0YXJ0LnRlc3QnLFxuICAgICAgICAgICAgICAgICAgICAndGVzdCcsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdE11c3RCZUFibGVUb1Vuc3Vic2NyaWJlQVBhcnRFbmRFdmVudExpc3RlbmVyKCk6IHZvaWQge1xuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvVW5zdWJzY3JpYmVBUGFydEVuZEV2ZW50TGlzdGVuZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0QWxpYXMgPSBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlJztcbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IG5ldyBTYW1wbGVMb2coKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBMb2dUYXNrRW5naW5lKGxvZyk7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGVuZ2luZS5nZXRQYXJ0RW5kTGlzdGVuZXJBY2Nlc3MoKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgcGFydEFsaWFzLFxuICAgICAgICAgICAgICAgIChldmVudEFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmxvZ01lc3NhZ2UoJ2VuZC4nICsgZXZlbnRBcmdzLnBhcnQubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuZ2V0UGFydEVuZExpc3RlbmVyQWNjZXNzKCkudW5zdWJzY3JpYmUocGFydEFsaWFzLCB0b2tlbik7XG4gICAgICAgICAgICBjb25zdCBzaW1wbGVUYXNrRmxvdyA9IHtcbiAgICAgICAgICAgICAgICBwYXJ0czogW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTG9nTWVzc2FnZVRhc2tGbG93UGFydChwYXJ0QWxpYXMsICd0ZXN0JyksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwoZW5naW5lLmhhbmRsZShzaW1wbGVUYXNrRmxvdykpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuZ2V0TG9nKCkuZ2V0TWVzc2FnZXMoKSkudG9FcXVhbChbXG4gICAgICAgICAgICAgICAgICAgICd0ZXN0JyxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvVW5zdWJzY3JpYmVBUGFydFN0YXJ0RXZlbnRMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICAgICAgaXQoJ211c3RCZUFibGVUb1Vuc3Vic2NyaWJlQVBhcnRTdGFydEV2ZW50TGlzdGVuZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0QWxpYXMgPSBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlJztcbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IG5ldyBTYW1wbGVMb2coKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBMb2dUYXNrRW5naW5lKGxvZyk7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGVuZ2luZS5nZXRQYXJ0U3RhcnRMaXN0ZW5lckFjY2VzcygpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICBwYXJ0QWxpYXMsXG4gICAgICAgICAgICAgICAgKGV2ZW50QXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsb2cubG9nTWVzc2FnZSgnZW5kLicgKyBldmVudEFyZ3MucGFydC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5nZXRQYXJ0U3RhcnRMaXN0ZW5lckFjY2VzcygpLnVuc3Vic2NyaWJlKHBhcnRBbGlhcywgdG9rZW4pO1xuICAgICAgICAgICAgY29uc3Qgc2ltcGxlVGFza0Zsb3cgPSB7XG4gICAgICAgICAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQocGFydEFsaWFzLCAndGVzdCcpLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgIFByb21pc2UuYWxsKGVuZ2luZS5oYW5kbGUoc2ltcGxlVGFza0Zsb3cpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZW5naW5lLmdldExvZygpLmdldE1lc3NhZ2VzKCkpLnRvRXF1YWwoW1xuICAgICAgICAgICAgICAgICAgICAndGVzdCcsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdE11c3RCZUluaXRpYWxpemFibGUoKTogdm9pZCB7XG4gICAgICAgIGl0KCdtdXN0QmVJbml0aWFsaXphYmxlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IExvZ1Rhc2tFbmdpbmUoKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdE5vdEFsbG93VG9IYW5kbGVBTnVsbEluc3RhbmNlKCk6IHZvaWQge1xuICAgICAgICBpdCgnbXVzdE5vdEFsbG93VG9IYW5kbGVBTnVsbEluc3RhbmNlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IExvZ1Rhc2tFbmdpbmUoKTtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiB7ZW5naW5lLmhhbmRsZShudWxsKTsgfSkudG9UaHJvd0Vycm9yKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXRNdXN0Tm90QWxsb3dUb0hhbmRsZUFuSW5zdGFuY2VXaXRoTm9QYXJ0cygpOiB2b2lkIHtcbiAgICAgICAgaXQoJ211c3ROb3RBbGxvd1RvSGFuZGxlQW5JbnN0YW5jZVdpdGhOb1BhcnRzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IExvZ1Rhc2tFbmdpbmUoKTtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZW5naW5lLmhhbmRsZSh7fSBhcyBJVGFza0Zsb3c8TG9nTWVzc2FnZVRhc2tGbG93UGFydD4pO1xuICAgICAgICAgICAgfSkudG9UaHJvd0Vycm9yKCk7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVuZ2luZS5oYW5kbGUoe1xuICAgICAgICAgICAgICAgICAgICBwYXJ0czogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLnRvVGhyb3dFcnJvcigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdE5vdEJlQWJsZVRvSGFuZGxlQW5JbnZhbGlkVGFzaygpIHtcbiAgICAgICAgaXQoJ211c3ROb3RCZUFibGVUb0hhbmRsZUFuSW52YWxpZFRhc2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmdpbmUgPSBuZXcgTG9nVGFza0VuZ2luZSgpO1xuICAgICAgICAgICAgY29uc3Qgc2ltcGxlVGFza0Zsb3cgPSB7XG4gICAgICAgICAgICAgICAgcGFydHM6IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0QWxpYXNQcmVmaXggKyAnc2FtcGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludFR5cGU6ICdpbnZhbGlkVHlwZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwoZW5naW5lLmhhbmRsZShzaW1wbGVUYXNrRmxvdykpXG4gICAgICAgICAgICAgICAgLnRoZW4oZmFpbClcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gZXhwZWN0KGVyciBpbnN0YW5jZW9mIEVycm9yKS50b0JlKHRydWUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdE11c3RTdGFydFdpdGhBTG9nKCk6IHZvaWQge1xuICAgICAgICBpdCgnbXVzdFN0YXJ0V2l0aEFMb2cnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmdpbmUgPSBuZXcgTG9nVGFza0VuZ2luZSgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRMb2coKSkubm90LnRvQmVOdWxsKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXRNdXN0U3RhcnRXaXRoTm9NZXNzYWdlcygpOiB2b2lkIHtcbiAgICAgICAgaXQoJ211c3RTdGFydFdpdGhOb01lc3NhZ2VzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IExvZ1Rhc2tFbmdpbmUoKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuZ2V0TG9nKCkuZ2V0TWVzc2FnZXMoKS5sZW5ndGgpLnRvQmUoMCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgeyBJVGFza0Zsb3dQYXJ0RW5kQXJncyB9IGZyb20gJy4uLy4uLy4uL3Rhc2svZmxvdy90YXNrLWZsb3ctcGFydC1ldmVudC1hcmdzJztcbmltcG9ydCB7IE9wZXJhdGlvbk1hbmFnZXIgfSBmcm9tICcuLi8uLi8uLi90YXNrL29wZXJhdGlvbi9vcGVyYXRpb24tbWFuYWdlcic7XG5pbXBvcnQgeyBJVGVzdCB9IGZyb20gJy4uLy4uL0lUZXN0JztcbmltcG9ydCB7IExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQgfSBmcm9tICcuLi8uLi9sb2dpYy9mbG93L2xvZy1tZXNzYWdlLXRhc2stZmxvdy1wYXJ0JztcbmltcG9ydCB7IFNhbXBsZUxvZyB9IGZyb20gJy4uLy4uL2xvZ2ljL3NhbXBsZS1sb2cnO1xuXG5jb25zdCBvcGVyYXRpb25NYW5hZ2VyVGVzdEV2ZW50QWxpYXMgPSAndGVzdC1hbGlhcyc7XG5cbmV4cG9ydCBjbGFzcyBPcGVyYXRpb25NYW5hZ2VyVGVzdHMgaW1wbGVtZW50cyBJVGVzdCB7XG4gICAgcHVibGljIHBlcmZvcm1UZXN0cygpOiB2b2lkIHtcbiAgICAgICAgZGVzY3JpYmUoJ09wZXJhdGlvbiBNYW5hZ2VyIFRlc3RzJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZVRvQmVBYmxlVG9CZURpc3Bvc2VkKCk7XG4gICAgICAgICAgICB0aGlzLml0TXVzdEJlSW5pdGlhbGl6YWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1JhaXNlQW5FdmVudExpc3RlbmVycygpO1xuICAgICAgICAgICAgdGhpcy5pdE11c3RCZUFibGVUb1JhaXNlTXVsdGlwbGVFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgICAgdGhpcy5pdE11c3ROb3RCZUFibGVUb1Vuc3VzY3JpYmVCeUFuVW5yZWdpc3RlcmVkQWxpYXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdE11c3RCZVRvQmVBYmxlVG9CZURpc3Bvc2VkKCk6IHZvaWQge1xuICAgICAgICBpdCgnbXVzdEJlVG9CZUFibGVUb0JlRGlzcG9zZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgICAgICBjb25zdCBvcGVyYXRpb25NYW5hZ2VyID0gbmV3IE9wZXJhdGlvbk1hbmFnZXI8SVRhc2tGbG93UGFydEVuZEFyZ3M8TG9nTWVzc2FnZVRhc2tGbG93UGFydD4+KFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbk1hbmFnZXJUZXN0RXZlbnRBbGlhcyxcbiAgICAgICAgICAgICAgICBldmVudEVtaXR0ZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgbG9nID0gbmV3IFNhbXBsZUxvZygpO1xuICAgICAgICAgICAgb3BlcmF0aW9uTWFuYWdlci5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgJ3NhbXBsZS1hbGlhcycsXG4gICAgICAgICAgICAgICAgKGV2ZW50QXJncykgPT4gbG9nLmxvZ01lc3NhZ2UoZXZlbnRBcmdzLnBhcnQubWVzc2FnZSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3BlcmF0aW9uTWFuYWdlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICBldmVudEVtaXR0ZXIuZW1pdChcbiAgICAgICAgICAgICAgICBvcGVyYXRpb25NYW5hZ2VyVGVzdEV2ZW50QWxpYXMsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGlhc2VzOiBbJ3NhbXBsZS1hbGlhcyddLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0OiBuZXcgTG9nTWVzc2FnZVRhc2tGbG93UGFydChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzYW1wbGUtdGFzay1hbGlhcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2FtcGxlLW1lc3NhZ2UtdGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfSBhcyBJVGFza0Zsb3dQYXJ0RW5kQXJnczxMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0PixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3QobG9nLmdldE1lc3NhZ2VzKCkpLnRvRXF1YWwoW10pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGl0TXVzdEJlQWJsZVRvUmFpc2VBbkV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgICAgICBpdCgnbXVzdEJlQWJsZVRvUmFpc2VBbkV2ZW50TGlzdGVuZXJzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uTWFuYWdlciA9IG5ldyBPcGVyYXRpb25NYW5hZ2VyPElUYXNrRmxvd1BhcnRFbmRBcmdzPExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQ+PihcbiAgICAgICAgICAgICAgICBvcGVyYXRpb25NYW5hZ2VyVGVzdEV2ZW50QWxpYXMsXG4gICAgICAgICAgICAgICAgZXZlbnRFbWl0dGVyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IG5ldyBTYW1wbGVMb2coKTtcbiAgICAgICAgICAgIG9wZXJhdGlvbk1hbmFnZXIuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICdzYW1wbGUtYWxpYXMnLFxuICAgICAgICAgICAgICAgIChldmVudEFyZ3MpID0+IGxvZy5sb2dNZXNzYWdlKGV2ZW50QXJncy5wYXJ0Lm1lc3NhZ2UpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV2ZW50RW1pdHRlci5lbWl0KFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbk1hbmFnZXJUZXN0RXZlbnRBbGlhcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsaWFzZXM6IFsnc2FtcGxlLWFsaWFzJ10sXG4gICAgICAgICAgICAgICAgICAgIHBhcnQ6IG5ldyBMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NhbXBsZS10YXNrLWFsaWFzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzYW1wbGUtbWVzc2FnZS10ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB9IGFzIElUYXNrRmxvd1BhcnRFbmRBcmdzPExvZ01lc3NhZ2VUYXNrRmxvd1BhcnQ+LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGV4cGVjdChsb2cuZ2V0TWVzc2FnZXMoKSkudG9FcXVhbChbJ3NhbXBsZS1tZXNzYWdlLXRleHQnXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXRNdXN0QmVBYmxlVG9SYWlzZU11bHRpcGxlRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgICAgIGl0KCdtdXN0QmVBYmxlVG9SYWlzZU11bHRpcGxlRXZlbnRMaXN0ZW5lcnMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgICAgICBjb25zdCBvcGVyYXRpb25NYW5hZ2VyID0gbmV3IE9wZXJhdGlvbk1hbmFnZXI8SVRhc2tGbG93UGFydEVuZEFyZ3M8TG9nTWVzc2FnZVRhc2tGbG93UGFydD4+KFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbk1hbmFnZXJUZXN0RXZlbnRBbGlhcyxcbiAgICAgICAgICAgICAgICBldmVudEVtaXR0ZXIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgbG9nID0gbmV3IFNhbXBsZUxvZygpO1xuICAgICAgICAgICAgb3BlcmF0aW9uTWFuYWdlci5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgJ3NhbXBsZS1hbGlhcycsXG4gICAgICAgICAgICAgICAgKGV2ZW50QXJncykgPT4gbG9nLmxvZ01lc3NhZ2UoZXZlbnRBcmdzLnBhcnQubWVzc2FnZSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3BlcmF0aW9uTWFuYWdlci5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgJ3NhbXBsZS1hbGlhcy0yJyxcbiAgICAgICAgICAgICAgICAoZXZlbnRBcmdzKSA9PiBsb2cubG9nTWVzc2FnZShldmVudEFyZ3MucGFydC5tZXNzYWdlKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBldmVudEVtaXR0ZXIuZW1pdChcbiAgICAgICAgICAgICAgICBvcGVyYXRpb25NYW5hZ2VyVGVzdEV2ZW50QWxpYXMsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGlhc2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0OiBuZXcgTG9nTWVzc2FnZVRhc2tGbG93UGFydChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzYW1wbGUtdGFzay1hbGlhcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2FtcGxlLW1lc3NhZ2UtdGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfSBhcyBJVGFza0Zsb3dQYXJ0RW5kQXJnczxMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0PixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3QobG9nLmdldE1lc3NhZ2VzKCkpLnRvRXF1YWwoWydzYW1wbGUtbWVzc2FnZS10ZXh0JywgJ3NhbXBsZS1tZXNzYWdlLXRleHQnXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXRNdXN0QmVJbml0aWFsaXphYmxlKCk6IHZvaWQge1xuICAgICAgICBpdCgnbXVzdEJlSW5pdGlhbGl6YWJsZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbk1hbmFnZXIgPSBuZXcgT3BlcmF0aW9uTWFuYWdlcjxJVGFza0Zsb3dQYXJ0RW5kQXJnczxMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0Pj4oXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uTWFuYWdlclRlc3RFdmVudEFsaWFzLFxuICAgICAgICAgICAgICAgIGV2ZW50RW1pdHRlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qob3BlcmF0aW9uTWFuYWdlcikubm90LnRvQmVOdWxsKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXRNdXN0Tm90QmVBYmxlVG9VbnN1c2NyaWJlQnlBblVucmVnaXN0ZXJlZEFsaWFzKCkge1xuICAgICAgICBpdCgnbXVzdE5vdEJlQWJsZVRvVW5zdXNjcmliZUJ5QW5VbnJlZ2lzdGVyZWRBbGlhcycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbk1hbmFnZXIgPSBuZXcgT3BlcmF0aW9uTWFuYWdlcjxJVGFza0Zsb3dQYXJ0RW5kQXJnczxMb2dNZXNzYWdlVGFza0Zsb3dQYXJ0Pj4oXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uTWFuYWdlclRlc3RFdmVudEFsaWFzLFxuICAgICAgICAgICAgICAgIGV2ZW50RW1pdHRlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3Qob3BlcmF0aW9uTWFuYWdlci51bnN1YnNjcmliZSgndW5leGlzdGluZy1hbGlhcycsIDApKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mOyIsInZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL3NldFByb3RvdHlwZU9mXCIpO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzOyIsImZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgZGVmYXVsdDogb2JqXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdDsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIGFzc2VydFRoaXNJbml0aWFsaXplZCA9IHJlcXVpcmUoXCIuL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjsiLCJmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZjsiLCJmdW5jdGlvbiBfdHlwZW9mMihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZjIob2JqKTsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUgfHwgb2JqZWN0Q3JlYXRlUG9seWZpbGxcbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgb2JqZWN0S2V5c1BvbHlmaWxsXG52YXIgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGZ1bmN0aW9uQmluZFBvbHlmaWxsXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCAnX2V2ZW50cycpKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbnZhciBoYXNEZWZpbmVQcm9wZXJ0eTtcbnRyeSB7XG4gIHZhciBvID0ge307XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCAneCcsIHsgdmFsdWU6IDAgfSk7XG4gIGhhc0RlZmluZVByb3BlcnR5ID0gby54ID09PSAwO1xufSBjYXRjaCAoZXJyKSB7IGhhc0RlZmluZVByb3BlcnR5ID0gZmFsc2UgfVxuaWYgKGhhc0RlZmluZVByb3BlcnR5KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhlIGlucHV0IGlzIGEgcG9zaXRpdmUgbnVtYmVyICh3aG9zZSB2YWx1ZSBpcyB6ZXJvIG9yXG4gICAgICAvLyBncmVhdGVyIGFuZCBub3QgYSBOYU4pLlxuICAgICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgYXJnICE9PSBhcmcpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZGVmYXVsdE1heExpc3RlbmVyc1wiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gICAgfVxuICB9KTtcbn0gZWxzZSB7XG4gIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gZGVmYXVsdE1heExpc3RlbmVycztcbn1cblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm5cIiBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gJGdldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gJGdldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbi8vIFRoZXNlIHN0YW5kYWxvbmUgZW1pdCogZnVuY3Rpb25zIGFyZSB1c2VkIHRvIG9wdGltaXplIGNhbGxpbmcgb2YgZXZlbnRcbi8vIGhhbmRsZXJzIGZvciBmYXN0IGNhc2VzIGJlY2F1c2UgZW1pdCgpIGl0c2VsZiBvZnRlbiBoYXMgYSB2YXJpYWJsZSBudW1iZXIgb2Zcbi8vIGFyZ3VtZW50cyBhbmQgY2FuIGJlIGRlb3B0aW1pemVkIGJlY2F1c2Ugb2YgdGhhdC4gVGhlc2UgZnVuY3Rpb25zIGFsd2F5cyBoYXZlXG4vLyB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzIGFuZCB0aHVzIGRvIG5vdCBnZXQgZGVvcHRpbWl6ZWQsIHNvIHRoZSBjb2RlXG4vLyBpbnNpZGUgdGhlbSBjYW4gZXhlY3V0ZSBmYXN0ZXIuXG5mdW5jdGlvbiBlbWl0Tm9uZShoYW5kbGVyLCBpc0ZuLCBzZWxmKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRUd28oaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSwgYXJnMikge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSwgYXJnMik7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxLCBhcmcyKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFRocmVlKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJncykge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgZXZlbnRzO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PSBudWxsKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpXG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoIWhhbmRsZXIpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBpc0ZuID0gdHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbic7XG4gIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHN3aXRjaCAobGVuKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgY2FzZSAxOlxuICAgICAgZW1pdE5vbmUoaGFuZGxlciwgaXNGbiwgdGhpcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBlbWl0VHdvKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgNDpcbiAgICAgIGVtaXRUaHJlZShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdKTtcbiAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgZGVmYXVsdDpcbiAgICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmICghZXZlbnRzKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBpZiAoIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgbSA9ICRnZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICAgIGlmIChtICYmIG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0pIHtcbiAgICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnIFwiJyArIFN0cmluZyh0eXBlKSArICdcIiBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0LicpO1xuICAgICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignJXM6ICVzJywgdy5uYW1lLCB3Lm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LCBhcmd1bWVudHNbMF0pO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSk7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgYXJndW1lbnRzWzJdKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpXG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IGJpbmQuY2FsbChvbmNlV3JhcHBlciwgc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmICghbGlzdClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKCFldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBvYmplY3RLZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKCFldmVudHMpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoIWV2bGlzdGVuZXIpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/IHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdC5vd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKS5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpXG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb2JqZWN0Q3JlYXRlUG9seWZpbGwocHJvdG8pIHtcbiAgdmFyIEYgPSBmdW5jdGlvbigpIHt9O1xuICBGLnByb3RvdHlwZSA9IHByb3RvO1xuICByZXR1cm4gbmV3IEY7XG59XG5mdW5jdGlvbiBvYmplY3RLZXlzUG9seWZpbGwob2JqKSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGsgaW4gb2JqKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaykpIHtcbiAgICBrZXlzLnB1c2goayk7XG4gIH1cbiAgcmV0dXJuIGs7XG59XG5mdW5jdGlvbiBmdW5jdGlvbkJpbmRQb2x5ZmlsbChjb250ZXh0KSB7XG4gIHZhciBmbiA9IHRoaXM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4iXX0="}