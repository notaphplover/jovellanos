(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.soraTest = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var cov_gt2jkfq85 = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/collection/token-map.js",
      hash = "2e03599e3471447da1db5df1576946b13fffc9aa",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/collection/token-map.js",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 8
        },
        end: {
          line: 3,
          column: 34
        }
      },
      "1": {
        start: {
          line: 4,
          column: 8
        },
        end: {
          line: 4,
          column: 41
        }
      },
      "2": {
        start: {
          line: 7,
          column: 8
        },
        end: {
          line: 17,
          column: 9
        }
      },
      "3": {
        start: {
          line: 8,
          column: 30
        },
        end: {
          line: 8,
          column: 48
        }
      },
      "4": {
        start: {
          line: 9,
          column: 12
        },
        end: {
          line: 9,
          column: 47
        }
      },
      "5": {
        start: {
          line: 10,
          column: 12
        },
        end: {
          line: 10,
          column: 29
        }
      },
      "6": {
        start: {
          line: 13,
          column: 30
        },
        end: {
          line: 13,
          column: 79
        }
      },
      "7": {
        start: {
          line: 14,
          column: 12
        },
        end: {
          line: 14,
          column: 40
        }
      },
      "8": {
        start: {
          line: 15,
          column: 12
        },
        end: {
          line: 15,
          column: 47
        }
      },
      "9": {
        start: {
          line: 16,
          column: 12
        },
        end: {
          line: 16,
          column: 29
        }
      },
      "10": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 34
        }
      },
      "11": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 25,
          column: 11
        }
      },
      "12": {
        start: {
          line: 24,
          column: 12
        },
        end: {
          line: 24,
          column: 33
        }
      },
      "13": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 40
        }
      },
      "14": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 38,
          column: 9
        }
      },
      "15": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 32,
          column: 40
        }
      },
      "16": {
        start: {
          line: 33,
          column: 12
        },
        end: {
          line: 33,
          column: 66
        }
      },
      "17": {
        start: {
          line: 34,
          column: 12
        },
        end: {
          line: 34,
          column: 24
        }
      },
      "18": {
        start: {
          line: 37,
          column: 12
        },
        end: {
          line: 37,
          column: 25
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 4
          },
          end: {
            line: 2,
            column: 5
          }
        },
        loc: {
          start: {
            line: 2,
            column: 18
          },
          end: {
            line: 5,
            column: 5
          }
        },
        line: 2
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 6,
            column: 4
          },
          end: {
            line: 6,
            column: 5
          }
        },
        loc: {
          start: {
            line: 6,
            column: 14
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 6
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 12
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 22,
            column: 4
          },
          end: {
            line: 22,
            column: 5
          }
        },
        loc: {
          start: {
            line: 22,
            column: 22
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 22
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 23,
            column: 30
          },
          end: {
            line: 23,
            column: 31
          }
        },
        loc: {
          start: {
            line: 23,
            column: 52
          },
          end: {
            line: 25,
            column: 9
          }
        },
        line: 23
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        loc: {
          start: {
            line: 27,
            column: 15
          },
          end: {
            line: 29,
            column: 5
          }
        },
        line: 27
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 18
          },
          end: {
            line: 39,
            column: 5
          }
        },
        line: 30
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 7,
            column: 8
          },
          end: {
            line: 17,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 7,
            column: 8
          },
          end: {
            line: 17,
            column: 9
          }
        }, {
          start: {
            line: 7,
            column: 8
          },
          end: {
            line: 17,
            column: 9
          }
        }],
        line: 7
      },
      "1": {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        }, {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        }],
        line: 31
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["collection/token-map.ts"],
      names: [],
      mappings: "AAAA,MAAM,OAAO,QAAQ;IAejB;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAa,CAAC;QACrC,IAAI,CAAC,aAAa,GAAG,IAAI,KAAK,EAAE,CAAC;IACrC,CAAC;IAOM,GAAG,CAAC,IAAO;QACd,IAAI,CAAC,KAAK,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YACjC,MAAM,SAAS,GAAW,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YAC7C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YACnC,OAAO,SAAS,CAAC;SACpB;aAAM;YACH,MAAM,SAAS,GAAW,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC5E,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YACnC,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAMM,KAAK;QACR,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;IAC9B,CAAC;IAMM,OAAO,CAAC,QAAyC;QACpD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAS,KAAQ,EAAE,GAAW;YAChD,QAAQ,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAOM,GAAG,CAAC,KAAa;QACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAOM,MAAM,CAAC,KAAa;QACvB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YAC1B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;YACtD,OAAO,IAAI,CAAC;SACf;aAAM;YACH,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;CACJ",
      file: "token-map.js",
      sourcesContent: ["export class TokenMap<T> {\r\n    //#region Properties\r\n\r\n    /**\r\n     * Inner map.\r\n     */\r\n    protected innerMap: Map<number, T>;\r\n\r\n    /**\r\n     * List of unused indexed bellow the maximun used index.\r\n     */\r\n    protected unusedIndexes: number[];\r\n\r\n    //#endregion\r\n\r\n    public constructor() {\r\n        this.innerMap = new Map<number, T>();\r\n        this.unusedIndexes = new Array();\r\n    }\r\n\r\n    /**\r\n     * Adds an element to the array collection.\r\n     * @param elem Element to be added to the array.\r\n     * @returns index in which the element is located.\r\n     */\r\n    public add(elem: T): number {\r\n        if (0 === this.unusedIndexes.length) {\r\n            const lastIndex: number = this.innerMap.size;\r\n            this.innerMap.set(lastIndex, elem);\r\n            return lastIndex;\r\n        } else {\r\n            const lastIndex: number = this.unusedIndexes[this.unusedIndexes.length - 1];\r\n            --this.unusedIndexes.length;\r\n            this.innerMap.set(lastIndex, elem);\r\n            return lastIndex;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtains the amount of elements inside the array.\r\n     * @returns Amount of elements inside the array.\r\n     */\r\n    public count(): number {\r\n        return this.innerMap.size;\r\n    }\r\n\r\n    /**\r\n     * Iterates over the array and applies a function.\r\n     * @param consumer Function to apply to any pair of index-element found (undefined values are discarted).\r\n     */\r\n    public foreach(consumer: (value: T, key: number) => void): void {\r\n        this.innerMap.forEach(function(value: T, key: number) {\r\n            consumer(value, key);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Obtains an element at the specified index.\r\n     * @param index Index of the element to obtaint.\r\n     * @returns Element obtianed at the specified index.\r\n     */\r\n    public get(index: number): T {\r\n        return this.innerMap.get(index);\r\n    }\r\n\r\n    /**\r\n     * Removes an element at the position specified.\r\n     * @param index Index of the element to be removed.\r\n     * @returns Result of the operation.\r\n     */\r\n    public remove(index: number): boolean {\r\n        if (this.innerMap.has(index)) {\r\n            this.innerMap.delete(index);\r\n            this.unusedIndexes[this.unusedIndexes.length] = index;\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TokenMap = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var TokenMap =
/*#__PURE__*/
function () {
  function TokenMap() {
    (0, _classCallCheck2.default)(this, TokenMap);
    cov_gt2jkfq85.f[0]++;
    cov_gt2jkfq85.s[0]++;
    this.innerMap = new Map();
    cov_gt2jkfq85.s[1]++;
    this.unusedIndexes = new Array();
  }

  (0, _createClass2.default)(TokenMap, [{
    key: "add",
    value: function add(elem) {
      cov_gt2jkfq85.f[1]++;
      cov_gt2jkfq85.s[2]++;

      if (0 === this.unusedIndexes.length) {
        cov_gt2jkfq85.b[0][0]++;
        var lastIndex = (cov_gt2jkfq85.s[3]++, this.innerMap.size);
        cov_gt2jkfq85.s[4]++;
        this.innerMap.set(lastIndex, elem);
        cov_gt2jkfq85.s[5]++;
        return lastIndex;
      } else {
        cov_gt2jkfq85.b[0][1]++;

        var _lastIndex = (cov_gt2jkfq85.s[6]++, this.unusedIndexes[this.unusedIndexes.length - 1]);

        cov_gt2jkfq85.s[7]++;
        --this.unusedIndexes.length;
        cov_gt2jkfq85.s[8]++;
        this.innerMap.set(_lastIndex, elem);
        cov_gt2jkfq85.s[9]++;
        return _lastIndex;
      }
    }
  }, {
    key: "count",
    value: function count() {
      cov_gt2jkfq85.f[2]++;
      cov_gt2jkfq85.s[10]++;
      return this.innerMap.size;
    }
  }, {
    key: "foreach",
    value: function foreach(consumer) {
      cov_gt2jkfq85.f[3]++;
      cov_gt2jkfq85.s[11]++;
      this.innerMap.forEach(function (value, key) {
        cov_gt2jkfq85.f[4]++;
        cov_gt2jkfq85.s[12]++;
        consumer(value, key);
      });
    }
  }, {
    key: "get",
    value: function get(index) {
      cov_gt2jkfq85.f[5]++;
      cov_gt2jkfq85.s[13]++;
      return this.innerMap.get(index);
    }
  }, {
    key: "remove",
    value: function remove(index) {
      cov_gt2jkfq85.f[6]++;
      cov_gt2jkfq85.s[14]++;

      if (this.innerMap.has(index)) {
        cov_gt2jkfq85.b[1][0]++;
        cov_gt2jkfq85.s[15]++;
        this.innerMap.delete(index);
        cov_gt2jkfq85.s[16]++;
        this.unusedIndexes[this.unusedIndexes.length] = index;
        cov_gt2jkfq85.s[17]++;
        return true;
      } else {
        cov_gt2jkfq85.b[1][1]++;
        cov_gt2jkfq85.s[18]++;
        return false;
      }
    }
  }]);
  return TokenMap;
}();

exports.TokenMap = TokenMap;

},{"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/interopRequireDefault":24}],2:[function(require,module,exports){
"use strict";

var _tokenMap = require("./test/collection/token-map.test");

var _logTaskEngine = require("./test/task/log-task-engine.test");

var _operationManager = require("./test/task/operation/operation-manager.test");

(function () {
  new _logTaskEngine.LogTaskEngineTests().performTests();
  new _operationManager.OperationManagerTests().performTests();
  new _tokenMap.TokenMapTests().performTests();
})();

},{"./test/collection/token-map.test":13,"./test/task/log-task-engine.test":17,"./test/task/operation/operation-manager.test":18}],3:[function(require,module,exports){
"use strict";

var cov_29nxnjf68 = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-flow-when.js",
      hash = "606188b43fd3cc499372ee6f4143b8d29d51729b",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-flow-when.js",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 8
        },
        end: {
          line: 3,
          column: 27
        }
      },
      "1": {
        start: {
          line: 4,
          column: 8
        },
        end: {
          line: 4,
          column: 45
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 4
          },
          end: {
            line: 2,
            column: 5
          }
        },
        loc: {
          start: {
            line: 2,
            column: 39
          },
          end: {
            line: 5,
            column: 5
          }
        },
        line: 2
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["task/flow/task-flow-when.ts"],
      names: [],
      mappings: "AAiBA,MAAM,OAAgB,sBAAsB;IAexC,YAAmB,KAA8B,EAAE,cAAsB;QACrE,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACzC,CAAC;CACJ",
      file: "task-flow-when.js",
      sourcesContent: ["/**\r\n * Constraint that determines the start of the task part.\r\n */\r\nexport interface ITaskPartWhenConstraint {\r\n    /**\r\n     * When entity to check once this constraint is ensured.\r\n     */\r\n    after: ITaskPartWhenConstraint;\r\n    /**\r\n     * Type of this constraint.\r\n     */\r\n    constraintType: string;\r\n}\r\n\r\n/**\r\n * Constraint that determines the start of the task part.\r\n */\r\nexport abstract class TaskPartWhenConstraint implements ITaskPartWhenConstraint {\r\n    /**\r\n     * When entity to check once this constraint is ensured.\r\n     */\r\n    public after: ITaskPartWhenConstraint;\r\n    /**\r\n     * Type of this constraint.\r\n     */\r\n    public constraintType: string;\r\n\r\n    /**\r\n     * Creates a new task part constraint.\r\n     * @param after Constraint to apply after this constraint is checked.\r\n     * @param constraintType Constraint type.\r\n     */\r\n    public constructor(after: ITaskPartWhenConstraint, constraintType: string) {\r\n        this.after = after;\r\n        this.constraintType = constraintType;\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskPartWhenConstraint = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var TaskPartWhenConstraint = function TaskPartWhenConstraint(after, constraintType) {
  (0, _classCallCheck2.default)(this, TaskPartWhenConstraint);
  cov_29nxnjf68.f[0]++;
  cov_29nxnjf68.s[0]++;
  this.after = after;
  cov_29nxnjf68.s[1]++;
  this.constraintType = constraintType;
};

exports.TaskPartWhenConstraint = TaskPartWhenConstraint;

},{"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/interopRequireDefault":24}],4:[function(require,module,exports){
"use strict";

var cov_6ayqa3z6f = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-begin-constraint.js",
      hash = "11ee893f8180ba18211c3ee64d6a25799e138de3",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-begin-constraint.js",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 8
        },
        end: {
          line: 4,
          column: 57
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 3,
            column: 4
          },
          end: {
            line: 3,
            column: 5
          }
        },
        loc: {
          start: {
            line: 3,
            column: 30
          },
          end: {
            line: 5,
            column: 5
          }
        },
        line: 3
      }
    },
    branchMap: {},
    s: {
      "0": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["task/flow/task-part-begin-constraint.ts"],
      names: [],
      mappings: "AACA,OAAO,EACH,qBAAqB,EACrB,kBAAkB,GACrB,MAAM,wBAAwB,CAAC;AAKhC,MAAM,OAAO,uBAAwB,SAAQ,kBAAkB;IAC3D,YAAmB,KAA8B,EAAE,KAAa;QAC5D,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,qBAAqB,CAAC,KAAK,CAAC,CAAC;IACrD,CAAC;CACJ",
      file: "task-part-begin-constraint.js",
      sourcesContent: ["import { ITaskPartWhenConstraint } from './task-flow-when';\r\nimport {\r\n    TASK_CONSTRAINT_TYPES,\r\n    TaskPartConstraint,\r\n} from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once a task part starts.\r\n */\r\nexport class TaskPartBeginConstraint extends TaskPartConstraint {\r\n    public constructor(after: ITaskPartWhenConstraint, alias: string) {\r\n        super(after, alias, TASK_CONSTRAINT_TYPES.START);\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskPartBeginConstraint = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _taskPartConstraint = require("./task-part-constraint");

var TaskPartBeginConstraint =
/*#__PURE__*/
function (_TaskPartConstraint) {
  (0, _inherits2.default)(TaskPartBeginConstraint, _TaskPartConstraint);

  function TaskPartBeginConstraint(after, alias) {
    (0, _classCallCheck2.default)(this, TaskPartBeginConstraint);
    cov_6ayqa3z6f.f[0]++;
    cov_6ayqa3z6f.s[0]++;
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TaskPartBeginConstraint).call(this, after, alias, _taskPartConstraint.TASK_CONSTRAINT_TYPES.START));
  }

  return TaskPartBeginConstraint;
}(_taskPartConstraint.TaskPartConstraint);

exports.TaskPartBeginConstraint = TaskPartBeginConstraint;

},{"./task-part-constraint":5,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],5:[function(require,module,exports){
"use strict";

var cov_16ydl7b50w = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-constraint.js",
      hash = "47dd35f6bdd449b65b9df81202e52a0c9767b575",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-constraint.js",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 37
        },
        end: {
          line: 7,
          column: 1
        }
      },
      "1": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 37
        }
      },
      "2": {
        start: {
          line: 11,
          column: 8
        },
        end: {
          line: 11,
          column: 27
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 5
          }
        },
        loc: {
          start: {
            line: 9,
            column: 46
          },
          end: {
            line: 12,
            column: 5
          }
        },
        line: 9
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["task/flow/task-part-constraint.ts"],
      names: [],
      mappings: "AAAA,OAAO,EAEH,sBAAsB,GACzB,MAAM,kBAAkB,CAAC;AAK1B,MAAM,CAAC,MAAM,qBAAqB,GAAG;IAIjC,GAAG,EAAE,UAAU;IAIf,KAAK,EAAE,OAAO;IAId,KAAK,EAAG,YAAY;IAIpB,QAAQ,EAAE,MAAM;CACnB,CAAC;AAEF,MAAM,OAAgB,kBAAmB,SAAQ,sBAAsB;IAYnE,YAAmB,KAA8B,EAAE,KAAa,EAAE,cAAsB;QACpF,KAAK,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;QAE7B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;CACJ",
      file: "task-part-constraint.js",
      sourcesContent: ["import {\r\n    ITaskPartWhenConstraint,\r\n    TaskPartWhenConstraint,\r\n} from './task-flow-when';\r\n\r\n/**\r\n * Task constraint types\r\n */\r\nexport const TASK_CONSTRAINT_TYPES = {\r\n    /**\r\n     * Requires the end of a task part.\r\n     */\r\n    END: 'anim.end',\r\n    /**\r\n     * Requires a group of constraints.\r\n     */\r\n    GROUP: 'group',\r\n    /**\r\n     * Requires the start of a task part.\r\n     */\r\n    START : 'anim.start',\r\n    /**\r\n     * Requires an amount of time.\r\n     */\r\n    WAIT_FOR: 'wait',\r\n};\r\n\r\nexport abstract class TaskPartConstraint extends TaskPartWhenConstraint {\r\n    /**\r\n     * Alias of the part affected by this constraint.\r\n     */\r\n    public alias: string;\r\n\r\n    /**\r\n     * Creates a new task part constraint.\r\n     * @param after Constraint to apply after this constraint is checked.\r\n     * @param alias Aliases of the parts affected by this constraint.\r\n     * @param constraintType Constraint type.\r\n     */\r\n    public constructor(after: ITaskPartWhenConstraint, alias: string, constraintType: string) {\r\n        super(after, constraintType);\r\n\r\n        this.alias = alias;\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskPartConstraint = exports.TASK_CONSTRAINT_TYPES = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _taskFlowWhen = require("./task-flow-when");

var TASK_CONSTRAINT_TYPES = (cov_16ydl7b50w.s[0]++, {
  END: 'anim.end',
  GROUP: 'group',
  START: 'anim.start',
  WAIT_FOR: 'wait'
});
exports.TASK_CONSTRAINT_TYPES = TASK_CONSTRAINT_TYPES;

var TaskPartConstraint =
/*#__PURE__*/
function (_TaskPartWhenConstrai) {
  (0, _inherits2.default)(TaskPartConstraint, _TaskPartWhenConstrai);

  function TaskPartConstraint(after, alias, constraintType) {
    var _this;

    (0, _classCallCheck2.default)(this, TaskPartConstraint);
    cov_16ydl7b50w.f[0]++;
    cov_16ydl7b50w.s[1]++;
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TaskPartConstraint).call(this, after, constraintType));
    cov_16ydl7b50w.s[2]++;
    _this.alias = alias;
    return _this;
  }

  return TaskPartConstraint;
}(_taskFlowWhen.TaskPartWhenConstraint);

exports.TaskPartConstraint = TaskPartConstraint;

},{"./task-flow-when":3,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],6:[function(require,module,exports){
"use strict";

var cov_5a0g85rgl = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-end-constraint.js",
      hash = "5d8c6c2bd9420c8ac1fa0a8b7418fadb9dc57a9c",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-end-constraint.js",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 8
        },
        end: {
          line: 4,
          column: 55
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 3,
            column: 4
          },
          end: {
            line: 3,
            column: 5
          }
        },
        loc: {
          start: {
            line: 3,
            column: 30
          },
          end: {
            line: 5,
            column: 5
          }
        },
        line: 3
      }
    },
    branchMap: {},
    s: {
      "0": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["task/flow/task-part-end-constraint.ts"],
      names: [],
      mappings: "AACA,OAAO,EACH,qBAAqB,EACrB,kBAAkB,GACrB,MAAM,wBAAwB,CAAC;AAKhC,MAAM,OAAO,qBAAsB,SAAQ,kBAAkB;IACzD,YAAmB,KAA8B,EAAE,KAAa;QAC5D,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,qBAAqB,CAAC,GAAG,CAAC,CAAC;IACnD,CAAC;CACJ",
      file: "task-part-end-constraint.js",
      sourcesContent: ["import { ITaskPartWhenConstraint } from './task-flow-when';\r\nimport {\r\n    TASK_CONSTRAINT_TYPES,\r\n    TaskPartConstraint,\r\n} from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once a task part ends.\r\n */\r\nexport class TaskPartEndConstraint extends TaskPartConstraint {\r\n    public constructor(after: ITaskPartWhenConstraint, alias: string) {\r\n        super(after, alias, TASK_CONSTRAINT_TYPES.END);\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskPartEndConstraint = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _taskPartConstraint = require("./task-part-constraint");

var TaskPartEndConstraint =
/*#__PURE__*/
function (_TaskPartConstraint) {
  (0, _inherits2.default)(TaskPartEndConstraint, _TaskPartConstraint);

  function TaskPartEndConstraint(after, alias) {
    (0, _classCallCheck2.default)(this, TaskPartEndConstraint);
    cov_5a0g85rgl.f[0]++;
    cov_5a0g85rgl.s[0]++;
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TaskPartEndConstraint).call(this, after, alias, _taskPartConstraint.TASK_CONSTRAINT_TYPES.END));
  }

  return TaskPartEndConstraint;
}(_taskPartConstraint.TaskPartConstraint);

exports.TaskPartEndConstraint = TaskPartEndConstraint;

},{"./task-part-constraint":5,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],7:[function(require,module,exports){
"use strict";

var cov_i6j3z86sj = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-group-constraint.js",
      hash = "bfe5353079a2c16fe6894e8c020b334190ebbc5a",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-group-constraint.js",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 8
        },
        end: {
          line: 5,
          column: 50
        }
      },
      "1": {
        start: {
          line: 6,
          column: 8
        },
        end: {
          line: 6,
          column: 39
        }
      },
      "2": {
        start: {
          line: 7,
          column: 8
        },
        end: {
          line: 7,
          column: 33
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 4,
            column: 5
          }
        },
        loc: {
          start: {
            line: 4,
            column: 46
          },
          end: {
            line: 8,
            column: 5
          }
        },
        line: 4
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["task/flow/task-part-group-constraint.ts"],
      names: [],
      mappings: "AACA,OAAO,EAEH,sBAAsB,GACzB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,qBAAqB,EAAE,MAAM,wBAAwB,CAAC;AAK/D,MAAM,OAAO,mBAAoB,SAAQ,sBAAsB;IAiB3D,YACI,KAA8B,EAC9B,WAAsC,EACtC,QAA8B;QAE9B,KAAK,CAAC,KAAK,EAAE,qBAAqB,CAAC,KAAK,CAAC,CAAC;QAE1C,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;CACJ",
      file: "task-part-group-constraint.js",
      sourcesContent: ["import { TaskPartWhenOperator } from '../task-part-when-operator';\r\nimport {\r\n    ITaskPartWhenConstraint,\r\n    TaskPartWhenConstraint,\r\n} from './task-flow-when';\r\nimport { TASK_CONSTRAINT_TYPES } from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once a group of constraints are checked.\r\n */\r\nexport class TaskGroupConstraint extends TaskPartWhenConstraint {\r\n    /**\r\n     * Constraints to ensure\r\n     */\r\n    public constraints: ITaskPartWhenConstraint[];\r\n    /**\r\n     * Logical operator\r\n     */\r\n    public operator: TaskPartWhenOperator;\r\n\r\n    /**\r\n     * Creates a new instance.\r\n     *\r\n     * @param after Constraint to check after all the constraitns of the group have successfully checked.\r\n     * @param constraints Group of constraints to check.\r\n     * @param operator Logical operator to apply.\r\n     */\r\n    public constructor(\r\n        after: ITaskPartWhenConstraint,\r\n        constraints: ITaskPartWhenConstraint[],\r\n        operator: TaskPartWhenOperator,\r\n    ) {\r\n        super(after, TASK_CONSTRAINT_TYPES.GROUP);\r\n\r\n        this.constraints = constraints;\r\n        this.operator = operator;\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskGroupConstraint = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _taskFlowWhen = require("./task-flow-when");

var _taskPartConstraint = require("./task-part-constraint");

var TaskGroupConstraint =
/*#__PURE__*/
function (_TaskPartWhenConstrai) {
  (0, _inherits2.default)(TaskGroupConstraint, _TaskPartWhenConstrai);

  function TaskGroupConstraint(after, constraints, operator) {
    var _this;

    (0, _classCallCheck2.default)(this, TaskGroupConstraint);
    cov_i6j3z86sj.f[0]++;
    cov_i6j3z86sj.s[0]++;
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TaskGroupConstraint).call(this, after, _taskPartConstraint.TASK_CONSTRAINT_TYPES.GROUP));
    cov_i6j3z86sj.s[1]++;
    _this.constraints = constraints;
    cov_i6j3z86sj.s[2]++;
    _this.operator = operator;
    return _this;
  }

  return TaskGroupConstraint;
}(_taskFlowWhen.TaskPartWhenConstraint);

exports.TaskGroupConstraint = TaskGroupConstraint;

},{"./task-flow-when":3,"./task-part-constraint":5,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],8:[function(require,module,exports){
"use strict";

var cov_tpcuavqwq = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-time-constraint.js",
      hash = "76246aa65838a001f21abdab451bb5aa3357ee7b",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/flow/task-part-time-constraint.js",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 8
        },
        end: {
          line: 5,
          column: 53
        }
      },
      "1": {
        start: {
          line: 6,
          column: 8
        },
        end: {
          line: 6,
          column: 29
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 4,
            column: 5
          }
        },
        loc: {
          start: {
            line: 4,
            column: 31
          },
          end: {
            line: 7,
            column: 5
          }
        },
        line: 4
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["task/flow/task-part-time-constraint.ts"],
      names: [],
      mappings: "AAAA,OAAO,EAEH,sBAAsB,GACzB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,qBAAqB,EAAE,MAAM,wBAAwB,CAAC;AAK/D,MAAM,OAAO,kBAAmB,SAAQ,sBAAsB;IAM1D,YAAmB,KAA8B,EAAE,MAAc;QAC7D,KAAK,CAAC,KAAK,EAAE,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;CACJ",
      file: "task-part-time-constraint.js",
      sourcesContent: ["import {\r\n    ITaskPartWhenConstraint,\r\n    TaskPartWhenConstraint,\r\n} from './task-flow-when';\r\nimport { TASK_CONSTRAINT_TYPES } from './task-part-constraint';\r\n\r\n/**\r\n * Represents a when constraint that is checked once an amount of time passes.\r\n */\r\nexport class TaskTimeConstraint extends TaskPartWhenConstraint {\r\n    /**\r\n     * Milliseconds to wait.\r\n     */\r\n    public millis: number;\r\n\r\n    public constructor(after: ITaskPartWhenConstraint, millis: number) {\r\n        super(after, TASK_CONSTRAINT_TYPES.WAIT_FOR);\r\n        this.millis = millis;\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskTimeConstraint = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _taskFlowWhen = require("./task-flow-when");

var _taskPartConstraint = require("./task-part-constraint");

var TaskTimeConstraint =
/*#__PURE__*/
function (_TaskPartWhenConstrai) {
  (0, _inherits2.default)(TaskTimeConstraint, _TaskPartWhenConstrai);

  function TaskTimeConstraint(after, millis) {
    var _this;

    (0, _classCallCheck2.default)(this, TaskTimeConstraint);
    cov_tpcuavqwq.f[0]++;
    cov_tpcuavqwq.s[0]++;
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TaskTimeConstraint).call(this, after, _taskPartConstraint.TASK_CONSTRAINT_TYPES.WAIT_FOR));
    cov_tpcuavqwq.s[1]++;
    _this.millis = millis;
    return _this;
  }

  return TaskTimeConstraint;
}(_taskFlowWhen.TaskPartWhenConstraint);

exports.TaskTimeConstraint = TaskTimeConstraint;

},{"./task-flow-when":3,"./task-part-constraint":5,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],9:[function(require,module,exports){
"use strict";

var cov_85i66das2 = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/operation/operation-manager.js",
      hash = "0c916af8df30a687125c5a4c33f0199189bb9bb4",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/operation/operation-manager.js",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 21
        },
        end: {
          line: 4,
          column: 25
        }
      },
      "1": {
        start: {
          line: 5,
          column: 8
        },
        end: {
          line: 28,
          column: 10
        }
      },
      "2": {
        start: {
          line: 6,
          column: 12
        },
        end: {
          line: 27,
          column: 13
        }
      },
      "3": {
        start: {
          line: 7,
          column: 16
        },
        end: {
          line: 16,
          column: 17
        }
      },
      "4": {
        start: {
          line: 8,
          column: 20
        },
        end: {
          line: 15,
          column: 21
        }
      },
      "5": {
        start: {
          line: 9,
          column: 44
        },
        end: {
          line: 9,
          column: 75
        }
      },
      "6": {
        start: {
          line: 10,
          column: 24
        },
        end: {
          line: 14,
          column: 25
        }
      },
      "7": {
        start: {
          line: 11,
          column: 28
        },
        end: {
          line: 13,
          column: 31
        }
      },
      "8": {
        start: {
          line: 12,
          column: 32
        },
        end: {
          line: 12,
          column: 49
        }
      },
      "9": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 26,
          column: 17
        }
      },
      "10": {
        start: {
          line: 20,
          column: 40
        },
        end: {
          line: 20,
          column: 71
        }
      },
      "11": {
        start: {
          line: 21,
          column: 20
        },
        end: {
          line: 25,
          column: 21
        }
      },
      "12": {
        start: {
          line: 22,
          column: 24
        },
        end: {
          line: 24,
          column: 27
        }
      },
      "13": {
        start: {
          line: 23,
          column: 28
        },
        end: {
          line: 23,
          column: 45
        }
      },
      "14": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 37
        }
      },
      "15": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 30,
          column: 41
        }
      },
      "16": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 38
        }
      },
      "17": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 74
        }
      },
      "18": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 35,
          column: 77
        }
      },
      "19": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 40,
          column: 9
        }
      },
      "20": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 39,
          column: 61
        }
      },
      "21": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 60
        }
      },
      "22": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 49,
          column: 9
        }
      },
      "23": {
        start: {
          line: 45,
          column: 12
        },
        end: {
          line: 45,
          column: 25
        }
      },
      "24": {
        start: {
          line: 48,
          column: 12
        },
        end: {
          line: 48,
          column: 65
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 3,
            column: 4
          },
          end: {
            line: 3,
            column: 5
          }
        },
        loc: {
          start: {
            line: 3,
            column: 42
          },
          end: {
            line: 33,
            column: 5
          }
        },
        line: 3
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 5,
            column: 28
          },
          end: {
            line: 5,
            column: 29
          }
        },
        loc: {
          start: {
            line: 5,
            column: 49
          },
          end: {
            line: 28,
            column: 9
          }
        },
        line: 5
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 11,
            column: 48
          },
          end: {
            line: 11,
            column: 49
          }
        },
        loc: {
          start: {
            line: 11,
            column: 65
          },
          end: {
            line: 13,
            column: 29
          }
        },
        line: 11
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 22,
            column: 44
          },
          end: {
            line: 22,
            column: 45
          }
        },
        loc: {
          start: {
            line: 22,
            column: 61
          },
          end: {
            line: 24,
            column: 25
          }
        },
        line: 22
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 34,
            column: 5
          }
        },
        loc: {
          start: {
            line: 34,
            column: 14
          },
          end: {
            line: 36,
            column: 5
          }
        },
        line: 34
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 37,
            column: 5
          }
        },
        loc: {
          start: {
            line: 37,
            column: 30
          },
          end: {
            line: 42,
            column: 5
          }
        },
        line: 37
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 43,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        },
        loc: {
          start: {
            line: 43,
            column: 30
          },
          end: {
            line: 50,
            column: 5
          }
        },
        line: 43
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 6,
            column: 12
          },
          end: {
            line: 27,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 6,
            column: 12
          },
          end: {
            line: 27,
            column: 13
          }
        }, {
          start: {
            line: 6,
            column: 12
          },
          end: {
            line: 27,
            column: 13
          }
        }],
        line: 6
      },
      "1": {
        loc: {
          start: {
            line: 8,
            column: 20
          },
          end: {
            line: 15,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 8,
            column: 20
          },
          end: {
            line: 15,
            column: 21
          }
        }, {
          start: {
            line: 8,
            column: 20
          },
          end: {
            line: 15,
            column: 21
          }
        }],
        line: 8
      },
      "2": {
        loc: {
          start: {
            line: 10,
            column: 24
          },
          end: {
            line: 14,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 10,
            column: 24
          },
          end: {
            line: 14,
            column: 25
          }
        }, {
          start: {
            line: 10,
            column: 24
          },
          end: {
            line: 14,
            column: 25
          }
        }],
        line: 10
      },
      "3": {
        loc: {
          start: {
            line: 21,
            column: 20
          },
          end: {
            line: 25,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 20
          },
          end: {
            line: 25,
            column: 21
          }
        }, {
          start: {
            line: 21,
            column: 20
          },
          end: {
            line: 25,
            column: 21
          }
        }],
        line: 21
      },
      "4": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        }, {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        }],
        line: 38
      },
      "5": {
        loc: {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        }, {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        }],
        line: 44
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["task/operation/operation-manager.ts"],
      names: [],
      mappings: "AACA,OAAO,EAAE,QAAQ,EAAE,MAAM,4BAA4B,CAAC;AActD,MAAM,OAAO,gBAAgB;IA+BzB,YAAmB,UAAkB,EAAE,YAA0B;QAC7D,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,YAAY,GAAG,UAAS,SAAe;YACxC,IAAI,SAAS,CAAC,OAAO,IAAI,IAAI,EAAE;gBAC3B,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,mBAAmB,EAAE;oBAC1C,IAAI,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;wBAChD,MAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;wBACpD,IAAI,WAAW,IAAI,IAAI,EAAE;4BACrB,WAAW,CAAC,OAAO,CAAC,UAAS,KAAgC;gCACzD,KAAK,CAAC,SAAS,CAAC,CAAC;4BACrB,CAAC,CAAC,CAAC;yBACN;qBACJ;iBACJ;aACJ;iBAAM;gBACH,KAAK,MAAM,KAAK,IAAI,SAAS,CAAC,OAAO,EAAE;oBACnC,MAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;oBACpD,IAAI,WAAW,IAAI,IAAI,EAAE;wBACrB,WAAW,CAAC,OAAO,CAAC,UAAS,KAAgC;4BACzD,KAAK,CAAC,SAAS,CAAC,CAAC;wBACrB,CAAC,CAAC,CAAC;qBACN;iBACJ;aACJ;QACL,CAAC,CAAC;QAEF,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAE9B,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACtE,CAAC;IAKM,OAAO;QACV,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACzE,CAAC;IAOM,SAAS,CAAC,KAAa,EAAE,OAAkC;QAC9D,IAAI,IAAI,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;YACzC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,IAAI,QAAQ,EAAE,CAAC;SACpD;QACD,OAAO,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACxD,CAAC;IAOM,WAAW,CAAC,KAAa,EAAE,KAAa;QAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;YACzC,OAAO,KAAK,CAAC;SAChB;aAAM;YACH,OAAO,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACxD;IACL,CAAC;CACJ",
      file: "operation-manager.js",
      sourcesContent: ["import { EventEmitter } from 'events';\r\nimport { TokenMap } from '../../collection/token-map';\r\nimport { IOperationManagerAccess } from './operation-manager-access';\r\n\r\n/**\r\n * Operation arguments\r\n */\r\nexport interface IOperationArgs {\r\n    aliases: string[];\r\n}\r\n\r\n/**\r\n * Represents an operation manager. The operation is propagated using an event.\r\n * All the subscribers\r\n */\r\nexport class OperationManager<Args extends IOperationArgs> implements IOperationManagerAccess<Args> {\r\n\r\n    //#region Attributes\r\n\r\n    /**\r\n     * Function to be called to handle the event.\r\n     */\r\n    protected callFunction: (eventArgs: Args) => void;\r\n\r\n    /**\r\n     * Alias of the event.\r\n     */\r\n    protected eventAlias: string;\r\n\r\n    /**\r\n     * Event emmitter of the event.\r\n     */\r\n    protected eventEmitter: EventEmitter;\r\n\r\n    /**\r\n     * Object to storage all the functions subscribed.\r\n     */\r\n    protected subscriptionStorage: { [alias: string]: TokenMap<(eventArgs: Args) => void> };\r\n\r\n    //#endregion\r\n\r\n    /**\r\n     * Creates a new operation manager\r\n     * @param eventAlias Event alias.\r\n     * @param eventEmitter Event emitter.\r\n     */\r\n    public constructor(eventAlias: string, eventEmitter: EventEmitter) {\r\n        const that = this;\r\n        this.callFunction = function(eventArgs: Args): void {\r\n            if (eventArgs.aliases == null) {\r\n                for (const alias in that.subscriptionStorage) {\r\n                    if (that.subscriptionStorage.hasOwnProperty(alias)) {\r\n                        const subscribers = that.subscriptionStorage[alias];\r\n                        if (subscribers != null) {\r\n                            subscribers.foreach(function(value: (eventArgs: Args) => void) {\r\n                                value(eventArgs);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                for (const alias of eventArgs.aliases) {\r\n                    const subscribers = that.subscriptionStorage[alias];\r\n                    if (subscribers != null) {\r\n                        subscribers.foreach(function(value: (eventArgs: Args) => void) {\r\n                            value(eventArgs);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        this.eventAlias = eventAlias;\r\n        this.eventEmitter = eventEmitter;\r\n        this.subscriptionStorage = {};\r\n\r\n        this.eventEmitter.addListener(this.eventAlias, this.callFunction);\r\n    }\r\n\r\n    /**\r\n     * Disposes the instance.\r\n     */\r\n    public dispose(): void {\r\n        this.eventEmitter.removeListener(this.eventAlias, this.callFunction);\r\n    }\r\n\r\n    /**\r\n     * Substribes a handler under an alias.\r\n     * @param alias Alias of the handler.\r\n     * @param handler Handler to be subscribed.\r\n     */\r\n    public subscribe(alias: string, handler: (eventArgs: Args) => void): number {\r\n        if (null == this.subscriptionStorage[alias]) {\r\n            this.subscriptionStorage[alias] = new TokenMap();\r\n        }\r\n        return this.subscriptionStorage[alias].add(handler);\r\n    }\r\n\r\n    /**\r\n     * Unsubscribes a handler under an alias.\r\n     * @param alias Alias of the handler.\r\n     * @param index Index of the handler.\r\n     */\r\n    public unsubscribe(alias: string, index: number): boolean {\r\n        if (null == this.subscriptionStorage[alias]) {\r\n            return false;\r\n        } else {\r\n            return this.subscriptionStorage[alias].remove(index);\r\n        }\r\n    }\r\n}\r\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OperationManager = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _tokenMap = require("../../collection/token-map");

var OperationManager =
/*#__PURE__*/
function () {
  function OperationManager(eventAlias, eventEmitter) {
    (0, _classCallCheck2.default)(this, OperationManager);
    cov_85i66das2.f[0]++;
    var that = (cov_85i66das2.s[0]++, this);
    cov_85i66das2.s[1]++;

    this.callFunction = function (eventArgs) {
      cov_85i66das2.f[1]++;
      cov_85i66das2.s[2]++;

      if (eventArgs.aliases == null) {
        cov_85i66das2.b[0][0]++;
        cov_85i66das2.s[3]++;

        for (var alias in that.subscriptionStorage) {
          cov_85i66das2.s[4]++;

          if (that.subscriptionStorage.hasOwnProperty(alias)) {
            cov_85i66das2.b[1][0]++;
            var subscribers = (cov_85i66das2.s[5]++, that.subscriptionStorage[alias]);
            cov_85i66das2.s[6]++;

            if (subscribers != null) {
              cov_85i66das2.b[2][0]++;
              cov_85i66das2.s[7]++;
              subscribers.foreach(function (value) {
                cov_85i66das2.f[2]++;
                cov_85i66das2.s[8]++;
                value(eventArgs);
              });
            } else {
              cov_85i66das2.b[2][1]++;
            }
          } else {
            cov_85i66das2.b[1][1]++;
          }
        }
      } else {
        cov_85i66das2.b[0][1]++;
        cov_85i66das2.s[9]++;
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = eventArgs.aliases[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var _alias = _step.value;

            var _subscribers = (cov_85i66das2.s[10]++, that.subscriptionStorage[_alias]);

            cov_85i66das2.s[11]++;

            if (_subscribers != null) {
              cov_85i66das2.b[3][0]++;
              cov_85i66das2.s[12]++;

              _subscribers.foreach(function (value) {
                cov_85i66das2.f[3]++;
                cov_85i66das2.s[13]++;
                value(eventArgs);
              });
            } else {
              cov_85i66das2.b[3][1]++;
            }
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }
    };

    cov_85i66das2.s[14]++;
    this.eventAlias = eventAlias;
    cov_85i66das2.s[15]++;
    this.eventEmitter = eventEmitter;
    cov_85i66das2.s[16]++;
    this.subscriptionStorage = {};
    cov_85i66das2.s[17]++;
    this.eventEmitter.addListener(this.eventAlias, this.callFunction);
  }

  (0, _createClass2.default)(OperationManager, [{
    key: "dispose",
    value: function dispose() {
      cov_85i66das2.f[4]++;
      cov_85i66das2.s[18]++;
      this.eventEmitter.removeListener(this.eventAlias, this.callFunction);
    }
  }, {
    key: "subscribe",
    value: function subscribe(alias, handler) {
      cov_85i66das2.f[5]++;
      cov_85i66das2.s[19]++;

      if (null == this.subscriptionStorage[alias]) {
        cov_85i66das2.b[4][0]++;
        cov_85i66das2.s[20]++;
        this.subscriptionStorage[alias] = new _tokenMap.TokenMap();
      } else {
        cov_85i66das2.b[4][1]++;
      }

      cov_85i66das2.s[21]++;
      return this.subscriptionStorage[alias].add(handler);
    }
  }, {
    key: "unsubscribe",
    value: function unsubscribe(alias, index) {
      cov_85i66das2.f[6]++;
      cov_85i66das2.s[22]++;

      if (null == this.subscriptionStorage[alias]) {
        cov_85i66das2.b[5][0]++;
        cov_85i66das2.s[23]++;
        return false;
      } else {
        cov_85i66das2.b[5][1]++;
        cov_85i66das2.s[24]++;
        return this.subscriptionStorage[alias].remove(index);
      }
    }
  }]);
  return OperationManager;
}();

exports.OperationManager = OperationManager;

},{"../../collection/token-map":1,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/interopRequireDefault":24}],10:[function(require,module,exports){
"use strict";

var cov_voe4c53pm = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/task-engine.js",
      hash = "de1e9da05c176ed96aff9b0d8f91d3c03a4628d1",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/task-engine.js",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 47
        }
      },
      "1": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 97
        }
      },
      "2": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 101
        }
      },
      "3": {
        start: {
          line: 13,
          column: 21
        },
        end: {
          line: 13,
          column: 25
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 21,
          column: 10
        }
      },
      "5": {
        start: {
          line: 16,
          column: 16
        },
        end: {
          line: 16,
          column: 69
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 69
        }
      },
      "7": {
        start: {
          line: 24,
          column: 21
        },
        end: {
          line: 24,
          column: 25
        }
      },
      "8": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 32,
          column: 10
        }
      },
      "9": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 27,
          column: 71
        }
      },
      "10": {
        start: {
          line: 30,
          column: 16
        },
        end: {
          line: 30,
          column: 71
        }
      },
      "11": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 37,
          column: 9
        }
      },
      "12": {
        start: {
          line: 36,
          column: 12
        },
        end: {
          line: 36,
          column: 59
        }
      },
      "13": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 40,
          column: 9
        }
      },
      "14": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 39,
          column: 70
        }
      },
      "15": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 36
        }
      },
      "16": {
        start: {
          line: 42,
          column: 29
        },
        end: {
          line: 42,
          column: 61
        }
      },
      "17": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 45,
          column: 9
        }
      },
      "18": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 44,
          column: 69
        }
      },
      "19": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 46,
          column: 28
        }
      },
      "20": {
        start: {
          line: 49,
          column: 21
        },
        end: {
          line: 49,
          column: 25
        }
      },
      "21": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 67,
          column: 11
        }
      },
      "22": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 66,
          column: 15
        }
      },
      "23": {
        start: {
          line: 52,
          column: 16
        },
        end: {
          line: 55,
          column: 19
        }
      },
      "24": {
        start: {
          line: 56,
          column: 32
        },
        end: {
          line: 56,
          column: 54
        }
      },
      "25": {
        start: {
          line: 57,
          column: 16
        },
        end: {
          line: 63,
          column: 19
        }
      },
      "26": {
        start: {
          line: 58,
          column: 20
        },
        end: {
          line: 61,
          column: 23
        }
      },
      "27": {
        start: {
          line: 62,
          column: 20
        },
        end: {
          line: 62,
          column: 30
        }
      },
      "28": {
        start: {
          line: 65,
          column: 16
        },
        end: {
          line: 65,
          column: 28
        }
      },
      "29": {
        start: {
          line: 70,
          column: 21
        },
        end: {
          line: 70,
          column: 25
        }
      },
      "30": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 97,
          column: 11
        }
      },
      "31": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 96,
          column: 13
        }
      },
      "32": {
        start: {
          line: 73,
          column: 16
        },
        end: {
          line: 73,
          column: 26
        }
      },
      "33": {
        start: {
          line: 76,
          column: 16
        },
        end: {
          line: 95,
          column: 17
        }
      },
      "34": {
        start: {
          line: 78,
          column: 24
        },
        end: {
          line: 79,
          column: 43
        }
      },
      "35": {
        start: {
          line: 80,
          column: 24
        },
        end: {
          line: 80,
          column: 30
        }
      },
      "36": {
        start: {
          line: 82,
          column: 24
        },
        end: {
          line: 83,
          column: 43
        }
      },
      "37": {
        start: {
          line: 84,
          column: 24
        },
        end: {
          line: 84,
          column: 30
        }
      },
      "38": {
        start: {
          line: 86,
          column: 24
        },
        end: {
          line: 87,
          column: 43
        }
      },
      "39": {
        start: {
          line: 88,
          column: 24
        },
        end: {
          line: 88,
          column: 30
        }
      },
      "40": {
        start: {
          line: 90,
          column: 24
        },
        end: {
          line: 91,
          column: 43
        }
      },
      "41": {
        start: {
          line: 92,
          column: 24
        },
        end: {
          line: 92,
          column: 30
        }
      },
      "42": {
        start: {
          line: 94,
          column: 24
        },
        end: {
          line: 94,
          column: 74
        }
      },
      "43": {
        start: {
          line: 100,
          column: 21
        },
        end: {
          line: 100,
          column: 25
        }
      },
      "44": {
        start: {
          line: 101,
          column: 8
        },
        end: {
          line: 113,
          column: 11
        }
      },
      "45": {
        start: {
          line: 102,
          column: 33
        },
        end: {
          line: 111,
          column: 13
        }
      },
      "46": {
        start: {
          line: 103,
          column: 16
        },
        end: {
          line: 103,
          column: 75
        }
      },
      "47": {
        start: {
          line: 104,
          column: 16
        },
        end: {
          line: 110,
          column: 17
        }
      },
      "48": {
        start: {
          line: 105,
          column: 20
        },
        end: {
          line: 105,
          column: 30
        }
      },
      "49": {
        start: {
          line: 108,
          column: 20
        },
        end: {
          line: 109,
          column: 39
        }
      },
      "50": {
        start: {
          line: 112,
          column: 26
        },
        end: {
          line: 112,
          column: 89
        }
      },
      "51": {
        start: {
          line: 116,
          column: 21
        },
        end: {
          line: 116,
          column: 25
        }
      },
      "52": {
        start: {
          line: 117,
          column: 8
        },
        end: {
          line: 129,
          column: 11
        }
      },
      "53": {
        start: {
          line: 118,
          column: 33
        },
        end: {
          line: 127,
          column: 13
        }
      },
      "54": {
        start: {
          line: 119,
          column: 16
        },
        end: {
          line: 119,
          column: 73
        }
      },
      "55": {
        start: {
          line: 120,
          column: 16
        },
        end: {
          line: 126,
          column: 17
        }
      },
      "56": {
        start: {
          line: 121,
          column: 20
        },
        end: {
          line: 121,
          column: 30
        }
      },
      "57": {
        start: {
          line: 124,
          column: 20
        },
        end: {
          line: 125,
          column: 39
        }
      },
      "58": {
        start: {
          line: 128,
          column: 26
        },
        end: {
          line: 128,
          column: 87
        }
      },
      "59": {
        start: {
          line: 132,
          column: 21
        },
        end: {
          line: 132,
          column: 25
        }
      },
      "60": {
        start: {
          line: 133,
          column: 8
        },
        end: {
          line: 156,
          column: 11
        }
      },
      "61": {
        start: {
          line: 134,
          column: 34
        },
        end: {
          line: 134,
          column: 74
        }
      },
      "62": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 140,
          column: 13
        }
      },
      "63": {
        start: {
          line: 136,
          column: 16
        },
        end: {
          line: 139,
          column: 19
        }
      },
      "64": {
        start: {
          line: 137,
          column: 20
        },
        end: {
          line: 138,
          column: 39
        }
      },
      "65": {
        start: {
          line: 141,
          column: 12
        },
        end: {
          line: 155,
          column: 13
        }
      },
      "66": {
        start: {
          line: 142,
          column: 16
        },
        end: {
          line: 145,
          column: 19
        }
      },
      "67": {
        start: {
          line: 144,
          column: 20
        },
        end: {
          line: 144,
          column: 30
        }
      },
      "68": {
        start: {
          line: 147,
          column: 17
        },
        end: {
          line: 155,
          column: 13
        }
      },
      "69": {
        start: {
          line: 148,
          column: 16
        },
        end: {
          line: 151,
          column: 19
        }
      },
      "70": {
        start: {
          line: 150,
          column: 20
        },
        end: {
          line: 150,
          column: 30
        }
      },
      "71": {
        start: {
          line: 154,
          column: 16
        },
        end: {
          line: 154,
          column: 47
        }
      },
      "72": {
        start: {
          line: 159,
          column: 21
        },
        end: {
          line: 159,
          column: 25
        }
      },
      "73": {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 170,
          column: 11
        }
      },
      "74": {
        start: {
          line: 161,
          column: 12
        },
        end: {
          line: 169,
          column: 34
        }
      },
      "75": {
        start: {
          line: 162,
          column: 16
        },
        end: {
          line: 168,
          column: 17
        }
      },
      "76": {
        start: {
          line: 163,
          column: 20
        },
        end: {
          line: 163,
          column: 30
        }
      },
      "77": {
        start: {
          line: 166,
          column: 20
        },
        end: {
          line: 167,
          column: 39
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 4
          },
          end: {
            line: 7,
            column: 5
          }
        },
        loc: {
          start: {
            line: 7,
            column: 18
          },
          end: {
            line: 11,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 31
          },
          end: {
            line: 22,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 23
          },
          end: {
            line: 15,
            column: 24
          }
        },
        loc: {
          start: {
            line: 15,
            column: 49
          },
          end: {
            line: 17,
            column: 13
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 25
          },
          end: {
            line: 18,
            column: 26
          }
        },
        loc: {
          start: {
            line: 18,
            column: 49
          },
          end: {
            line: 20,
            column: 13
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 23,
            column: 5
          }
        },
        loc: {
          start: {
            line: 23,
            column: 33
          },
          end: {
            line: 33,
            column: 5
          }
        },
        line: 23
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 26,
            column: 23
          },
          end: {
            line: 26,
            column: 24
          }
        },
        loc: {
          start: {
            line: 26,
            column: 49
          },
          end: {
            line: 28,
            column: 13
          }
        },
        line: 26
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 29,
            column: 25
          },
          end: {
            line: 29,
            column: 26
          }
        },
        loc: {
          start: {
            line: 29,
            column: 49
          },
          end: {
            line: 31,
            column: 13
          }
        },
        line: 29
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 34,
            column: 5
          }
        },
        loc: {
          start: {
            line: 34,
            column: 21
          },
          end: {
            line: 47,
            column: 5
          }
        },
        line: 34
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 48,
            column: 5
          }
        },
        loc: {
          start: {
            line: 48,
            column: 25
          },
          end: {
            line: 68,
            column: 5
          }
        },
        line: 48
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 50,
            column: 27
          },
          end: {
            line: 50,
            column: 28
          }
        },
        loc: {
          start: {
            line: 50,
            column: 54
          },
          end: {
            line: 67,
            column: 9
          }
        },
        line: 50
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 51,
            column: 52
          },
          end: {
            line: 51,
            column: 53
          }
        },
        loc: {
          start: {
            line: 51,
            column: 64
          },
          end: {
            line: 64,
            column: 13
          }
        },
        line: 51
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 57,
            column: 29
          },
          end: {
            line: 57,
            column: 30
          }
        },
        loc: {
          start: {
            line: 57,
            column: 41
          },
          end: {
            line: 63,
            column: 17
          }
        },
        line: 57
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 64,
            column: 21
          },
          end: {
            line: 64,
            column: 22
          }
        },
        loc: {
          start: {
            line: 64,
            column: 36
          },
          end: {
            line: 66,
            column: 13
          }
        },
        line: 64
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 69,
            column: 4
          },
          end: {
            line: 69,
            column: 5
          }
        },
        loc: {
          start: {
            line: 69,
            column: 35
          },
          end: {
            line: 98,
            column: 5
          }
        },
        line: 69
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 71,
            column: 27
          },
          end: {
            line: 71,
            column: 28
          }
        },
        loc: {
          start: {
            line: 71,
            column: 54
          },
          end: {
            line: 97,
            column: 9
          }
        },
        line: 71
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 99,
            column: 5
          }
        },
        loc: {
          start: {
            line: 99,
            column: 45
          },
          end: {
            line: 114,
            column: 5
          }
        },
        line: 99
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 101,
            column: 27
          },
          end: {
            line: 101,
            column: 28
          }
        },
        loc: {
          start: {
            line: 101,
            column: 54
          },
          end: {
            line: 113,
            column: 9
          }
        },
        line: 101
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 102,
            column: 33
          },
          end: {
            line: 102,
            column: 34
          }
        },
        loc: {
          start: {
            line: 102,
            column: 45
          },
          end: {
            line: 111,
            column: 13
          }
        },
        line: 102
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 115,
            column: 4
          },
          end: {
            line: 115,
            column: 5
          }
        },
        loc: {
          start: {
            line: 115,
            column: 43
          },
          end: {
            line: 130,
            column: 5
          }
        },
        line: 115
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 117,
            column: 27
          },
          end: {
            line: 117,
            column: 28
          }
        },
        loc: {
          start: {
            line: 117,
            column: 54
          },
          end: {
            line: 129,
            column: 9
          }
        },
        line: 117
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 118,
            column: 33
          },
          end: {
            line: 118,
            column: 34
          }
        },
        loc: {
          start: {
            line: 118,
            column: 45
          },
          end: {
            line: 127,
            column: 13
          }
        },
        line: 118
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 131,
            column: 4
          },
          end: {
            line: 131,
            column: 5
          }
        },
        loc: {
          start: {
            line: 131,
            column: 44
          },
          end: {
            line: 157,
            column: 5
          }
        },
        line: 131
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 133,
            column: 27
          },
          end: {
            line: 133,
            column: 28
          }
        },
        loc: {
          start: {
            line: 133,
            column: 54
          },
          end: {
            line: 156,
            column: 9
          }
        },
        line: 133
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 136,
            column: 47
          },
          end: {
            line: 136,
            column: 48
          }
        },
        loc: {
          start: {
            line: 136,
            column: 74
          },
          end: {
            line: 139,
            column: 17
          }
        },
        line: 136
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 143,
            column: 26
          },
          end: {
            line: 143,
            column: 27
          }
        },
        loc: {
          start: {
            line: 143,
            column: 38
          },
          end: {
            line: 145,
            column: 17
          }
        },
        line: 143
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 149,
            column: 26
          },
          end: {
            line: 149,
            column: 27
          }
        },
        loc: {
          start: {
            line: 149,
            column: 38
          },
          end: {
            line: 151,
            column: 17
          }
        },
        line: 149
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 158,
            column: 4
          },
          end: {
            line: 158,
            column: 5
          }
        },
        loc: {
          start: {
            line: 158,
            column: 42
          },
          end: {
            line: 171,
            column: 5
          }
        },
        line: 158
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 160,
            column: 27
          },
          end: {
            line: 160,
            column: 28
          }
        },
        loc: {
          start: {
            line: 160,
            column: 54
          },
          end: {
            line: 170,
            column: 9
          }
        },
        line: 160
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 161,
            column: 23
          },
          end: {
            line: 161,
            column: 24
          }
        },
        loc: {
          start: {
            line: 161,
            column: 35
          },
          end: {
            line: 169,
            column: 13
          }
        },
        line: 161
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 37,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 37,
            column: 9
          }
        }, {
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 37,
            column: 9
          }
        }],
        line: 35
      },
      "1": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        }, {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        }],
        line: 38
      },
      "2": {
        loc: {
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 96,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 96,
            column: 13
          }
        }, {
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 96,
            column: 13
          }
        }],
        line: 72
      },
      "3": {
        loc: {
          start: {
            line: 76,
            column: 16
          },
          end: {
            line: 95,
            column: 17
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 77,
            column: 20
          },
          end: {
            line: 80,
            column: 30
          }
        }, {
          start: {
            line: 81,
            column: 20
          },
          end: {
            line: 84,
            column: 30
          }
        }, {
          start: {
            line: 85,
            column: 20
          },
          end: {
            line: 88,
            column: 30
          }
        }, {
          start: {
            line: 89,
            column: 20
          },
          end: {
            line: 92,
            column: 30
          }
        }, {
          start: {
            line: 93,
            column: 20
          },
          end: {
            line: 94,
            column: 74
          }
        }],
        line: 76
      },
      "4": {
        loc: {
          start: {
            line: 104,
            column: 16
          },
          end: {
            line: 110,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 104,
            column: 16
          },
          end: {
            line: 110,
            column: 17
          }
        }, {
          start: {
            line: 104,
            column: 16
          },
          end: {
            line: 110,
            column: 17
          }
        }],
        line: 104
      },
      "5": {
        loc: {
          start: {
            line: 120,
            column: 16
          },
          end: {
            line: 126,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 120,
            column: 16
          },
          end: {
            line: 126,
            column: 17
          }
        }, {
          start: {
            line: 120,
            column: 16
          },
          end: {
            line: 126,
            column: 17
          }
        }],
        line: 120
      },
      "6": {
        loc: {
          start: {
            line: 141,
            column: 12
          },
          end: {
            line: 155,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 141,
            column: 12
          },
          end: {
            line: 155,
            column: 13
          }
        }, {
          start: {
            line: 141,
            column: 12
          },
          end: {
            line: 155,
            column: 13
          }
        }],
        line: 141
      },
      "7": {
        loc: {
          start: {
            line: 147,
            column: 17
          },
          end: {
            line: 155,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 147,
            column: 17
          },
          end: {
            line: 155,
            column: 13
          }
        }, {
          start: {
            line: 147,
            column: 17
          },
          end: {
            line: 155,
            column: 13
          }
        }],
        line: 147
      },
      "8": {
        loc: {
          start: {
            line: 162,
            column: 16
          },
          end: {
            line: 168,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 162,
            column: 16
          },
          end: {
            line: 168,
            column: 17
          }
        }, {
          start: {
            line: 162,
            column: 16
          },
          end: {
            line: 168,
            column: 17
          }
        }],
        line: 162
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0, 0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["task/task-engine.ts"],
      names: [],
      mappings: "AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,QAAQ,CAAC;AAStC,OAAO,EAAE,qBAAqB,EAAE,MAAM,6BAA6B,CAAC;AAIpE,OAAO,EAAE,gBAAgB,EAAE,MAAM,+BAA+B,CAAC;AAEjE,OAAO,EAAE,qBAAqB,EAAE,MAAM,yBAAyB,CAAC;AAChE,OAAO,EAAE,oBAAoB,EAAE,MAAM,2BAA2B,CAAC;AAKjE,MAAM,OAAgB,UAAU;IAkC5B;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;QAEvC,IAAI,CAAC,cAAc,GAAG,IAAI,gBAAgB,CACtC,qBAAqB,CAAC,GAAG,EACzB,IAAI,CAAC,YAAY,CACpB,CAAC;QACF,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CACxC,qBAAqB,CAAC,KAAK,EAC3B,IAAI,CAAC,YAAY,CACpB,CAAC;IACN,CAAC;IAMM,wBAAwB;QAC3B,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO;YACH,SAAS,EAAE,UACP,KAAa,EACb,OAAyD;gBAEzD,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACzD,CAAC;YACD,WAAW,EAAE,UAAS,KAAa,EAAE,KAAa;gBAC9C,OAAO,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACzD,CAAC;SACJ,CAAC;IACN,CAAC;IAMM,0BAA0B;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO;YACH,SAAS,EAAE,UACP,KAAa,EACb,OAA2D;gBAE3D,OAAO,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YAC3D,CAAC;YACD,WAAW,EAAE,UAAS,KAAa,EAAE,KAAa;gBAC9C,OAAO,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC3D,CAAC;SACJ,CAAC;IACN,CAAC;IAOM,MAAM,CAAC,QAA0B;QACpC,IAAI,QAAQ,IAAI,IAAI,EAAE;YAClB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;SAClD;QACD,IAAI,QAAQ,CAAC,KAAK,IAAI,IAAI,EAAE;YACxB,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;SAC7D;QAED,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;QAC5B,MAAM,YAAY,GAAyB,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAE5E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC5C,YAAY,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5D;QAED,OAAO,YAAY,CAAC;IACxB,CAAC;IAWS,cAAc,CAAC,IAAW;QAChC,MAAM,IAAI,GAAG,IAAI,CAAC;QAElB,OAAO,IAAI,OAAO,CAAO,UAAS,OAAO,EAAE,MAAM;YAC7C,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;gBAEpC,IAAI,CAAC,YAAY,CAAC,IAAI,CAClB,qBAAqB,CAAC,KAAK,EAC3B;oBACI,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;oBACrB,IAAI,EAAE,IAAI;iBACoB,CACrC,CAAC;gBAEF,MAAM,OAAO,GAA2B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAE/D,OAAO,CAAC,IAAI,CAAC;oBAET,IAAI,CAAC,YAAY,CAAC,IAAI,CAClB,qBAAqB,CAAC,GAAG,EACzB;wBACI,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;wBACrB,IAAI,EAAE,IAAI;qBACkB,CACnC,CAAC;oBACF,OAAO,EAAE,CAAC;gBACd,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC,KAAK,CAAC,UAAS,GAAQ;gBACtB,MAAM,CAAC,GAAG,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAkBS,kBAAkB,CAAC,UAAmC;QAC5D,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,OAAO,CAAO,UAAS,OAAO,EAAE,MAAM;YAC7C,IAAI,IAAI,IAAI,UAAU,EAAE;gBACpB,OAAO,EAAE,CAAC;aACb;iBAAM;gBACH,QAAQ,UAAU,CAAC,cAAc,EAAE;oBAC/B,KAAK,qBAAqB,CAAC,KAAK;wBAC5B,IAAI,CAAC,4BAA4B,CAAC,UAAqC,CAAC;6BACnE,IAAI,CAAC,OAAO,CAAC,CAAC;wBACnB,MAAM;oBACV,KAAK,qBAAqB,CAAC,GAAG;wBAC1B,IAAI,CAAC,0BAA0B,CAAC,UAAmC,CAAC;6BAC/D,IAAI,CAAC,OAAO,CAAC,CAAC;wBACnB,MAAM;oBACV,KAAK,qBAAqB,CAAC,KAAK;wBAC5B,IAAI,CAAC,2BAA2B,CAAC,UAAiC,CAAC;6BAC9D,IAAI,CAAC,OAAO,CAAC,CAAC;wBACnB,MAAM;oBACV,KAAK,qBAAqB,CAAC,QAAQ;wBAC/B,IAAI,CAAC,yBAAyB,CAAC,UAAgC,CAAC;6BAC3D,IAAI,CAAC,OAAO,CAAC,CAAC;wBACnB,MAAM;oBACV;wBACI,MAAM,CAAC,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC,CAAC;iBACzD;aACJ;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAQS,4BAA4B,CAAC,UAAmC;QACtE,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,OAAO,CAAO,UAAS,OAAO,EAAE,MAAM;YAC7C,MAAM,YAAY,GAAG;gBACjB,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBAC3D,IAAI,IAAI,IAAI,UAAU,CAAC,KAAK,EAAE;oBAC1B,OAAO,EAAE,CAAC;iBACb;qBAAM;oBACH,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC;yBACpC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACtB;YACL,CAAC,CAAC;YACF,MAAM,KAAK,GAAW,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;QAC1F,CAAC,CAAC,CAAC;IACP,CAAC;IAQS,0BAA0B,CAAC,UAAiC;QAClE,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,OAAO,CAAO,UAAS,OAAO,EAAE,MAAM;YAC7C,MAAM,YAAY,GAAG;gBACjB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBACzD,IAAI,IAAI,IAAI,UAAU,CAAC,KAAK,EAAE;oBAC1B,OAAO,EAAE,CAAC;iBACb;qBAAM;oBACH,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC;yBACpC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACtB;YACL,CAAC,CAAC;YACF,MAAM,KAAK,GAAW,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;QACxF,CAAC,CAAC,CAAC;IACP,CAAC;IASS,2BAA2B,CAAC,UAA+B;QACjE,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,OAAO,CAAO,UAAS,OAAO,EAAE,MAAM;YAC7C,MAAM,aAAa,GAAyB,IAAI,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAErF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBACpD,aAAa,CAAC,CAAC,CAAC,GAAG,IAAI,OAAO,CAAO,UAAS,OAAO,EAAE,MAAM;oBACzD,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;yBAC7C,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvB,CAAC,CAAC,CAAC;aACN;YAED,IAAI,oBAAoB,CAAC,GAAG,KAAK,UAAU,CAAC,QAAQ,EAAE;gBAClD,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC;qBACrB,IAAI,CAAC;oBACF,OAAO,EAAE,CAAC;gBACd,CAAC,CAAC,CAAC;aACV;iBAAM,IAAI,oBAAoB,CAAC,EAAE,KAAK,UAAU,CAAC,QAAQ,EAAE;gBACxD,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;qBAC1B,IAAI,CAAC;oBACF,OAAO,EAAE,CAAC;gBACd,CAAC,CAAC,CAAC;aACN;iBAAM;gBACH,MAAM,CAAC,sBAAsB,CAAC,CAAC;aAClC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IASS,yBAAyB,CAAC,UAA8B;QAC9D,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,OAAO,CAAO,UAAS,OAAO,EAAE,MAAM;YAC7C,UAAU,CAAC;gBACP,IAAI,UAAU,CAAC,KAAK,IAAI,IAAI,EAAE;oBAC1B,OAAO,EAAE,CAAC;iBACb;qBAAM;oBACH,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC;yBACpC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACtB;YACL,CAAC,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;IACP,CAAC;CAGJ",
      file: "task-engine.js",
      sourcesContent: ["import { EventEmitter } from 'events';\r\nimport { ITaskFlow } from './flow/task-flow';\r\nimport { ITaskFlowPart } from './flow/task-flow-part';\r\nimport {\r\n    ITaskFlowPartEndArgs,\r\n    ITaskFlowPartStartArgs,\r\n} from './flow/task-flow-part-event-args';\r\nimport { ITaskPartWhenConstraint } from './flow/task-flow-when';\r\nimport { TaskPartBeginConstraint } from './flow/task-part-begin-constraint';\r\nimport { TASK_CONSTRAINT_TYPES } from './flow/task-part-constraint';\r\nimport { TaskPartEndConstraint } from './flow/task-part-end-constraint';\r\nimport { TaskGroupConstraint } from './flow/task-part-group-constraint';\r\nimport { TaskTimeConstraint } from './flow/task-part-time-constraint';\r\nimport { OperationManager } from './operation/operation-manager';\r\nimport { IOperationManagerAccess } from './operation/operation-manager-access';\r\nimport { TASK_PART_WHEN_EVENTS } from './task-part-when-events';\r\nimport { TaskPartWhenOperator } from './task-part-when-operator';\r\n\r\n/**\r\n * Represents a task engine.\r\n */\r\nexport abstract class TaskEngine<TPart extends ITaskFlowPart> {\r\n    //#region Attributes\r\n\r\n    /**\r\n     * Task currently managed.\r\n     */\r\n    protected currentTask: ITaskFlow<TPart>;\r\n\r\n    /**\r\n     * Event emitter to use\r\n     */\r\n    protected eventEmitter: EventEmitter;\r\n\r\n    //#region Operations\r\n\r\n    /**\r\n     * Manager that handles the part end event.\r\n     */\r\n    protected partEndManager: OperationManager<ITaskFlowPartEndArgs<TPart>>;\r\n\r\n    /**\r\n     * Manager that handles the part start event.\r\n     */\r\n    protected partStartManager: OperationManager<ITaskFlowPartStartArgs<TPart>>;\r\n\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region Public\r\n\r\n    /**\r\n     * Creates a new instance.\r\n     */\r\n    public constructor() {\r\n        this.eventEmitter = new EventEmitter();\r\n\r\n        this.partEndManager = new OperationManager<ITaskFlowPartEndArgs<TPart>>(\r\n            TASK_PART_WHEN_EVENTS.END,\r\n            this.eventEmitter,\r\n        );\r\n        this.partStartManager = new OperationManager<ITaskFlowPartStartArgs<TPart>>(\r\n            TASK_PART_WHEN_EVENTS.START,\r\n            this.eventEmitter,\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Obtains the access of the part end event.\r\n     * @returns Access of the part end event.\r\n     */\r\n    public getPartEndListenerAccess(): IOperationManagerAccess<ITaskFlowPartEndArgs<TPart>> {\r\n        const that = this;\r\n        return {\r\n            subscribe: function(\r\n                alias: string,\r\n                handler: (eventArgs: ITaskFlowPartEndArgs<TPart>) => void,\r\n            ): number {\r\n                return that.partEndManager.subscribe(alias, handler);\r\n            },\r\n            unsubscribe: function(alias: string, index: number): boolean {\r\n                return that.partEndManager.unsubscribe(alias, index);\r\n            },\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Obtains the access of the part start event.\r\n     * @returns Access of the part start event.\r\n     */\r\n    public getPartStartListenerAccess(): IOperationManagerAccess<ITaskFlowPartStartArgs<TPart>> {\r\n        const that = this;\r\n        return {\r\n            subscribe: function(\r\n                alias: string,\r\n                handler: (eventArgs: ITaskFlowPartStartArgs<TPart>) => void,\r\n            ): number {\r\n                return that.partStartManager.subscribe(alias, handler);\r\n            },\r\n            unsubscribe: function(alias: string, index: number): boolean {\r\n                return that.partStartManager.unsubscribe(alias, index);\r\n            },\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Handles a task flow.\r\n     * @param taskFlow Task flow to be managed.\r\n     * @returns Task part promises.\r\n     */\r\n    public handle(taskFlow: ITaskFlow<TPart>): Array<Promise<void>> {\r\n        if (taskFlow == null) {\r\n            throw new Error('It\\'s required a task flow.');\r\n        }\r\n        if (taskFlow.parts == null) {\r\n            throw new Error('It\\'s required a task flow with parts.');\r\n        }\r\n\r\n        this.currentTask = taskFlow;\r\n        const partPromises: Array<Promise<void>> = new Array(taskFlow.parts.length);\r\n\r\n        for (var i = 0; i < taskFlow.parts.length; ++i) {\r\n            partPromises[i] = this.handleTaskPart(taskFlow.parts[i]);\r\n        }\r\n\r\n        return partPromises;\r\n    }\r\n\r\n    //#endregion\r\n\r\n    /**\r\n     * Handles a task part.\r\n     *\r\n     * @param part Task part to handle.\r\n     *\r\n     * @returns Promise resolved once the part of the task is finished.\r\n     */\r\n    protected handleTaskPart(part: TPart): Promise<void> {\r\n        const that = this;\r\n\r\n        return new Promise<void>(function(resolve, reject) {\r\n            that.handleTaskPartWhen(part.when).then(function() {\r\n                // 1. Emit the start of task part.\r\n                that.eventEmitter.emit(\r\n                    TASK_PART_WHEN_EVENTS.START,\r\n                    {\r\n                        aliases: [part.alias],\r\n                        part: part,\r\n                    } as ITaskFlowPartStartArgs<TPart>,\r\n                );\r\n\r\n                const promise: PromiseLike<{} | void> = that.performTask(part);\r\n\r\n                promise.then(function() {\r\n                    // 3. Emit the end of the task part and resolve the promise.\r\n                    that.eventEmitter.emit(\r\n                        TASK_PART_WHEN_EVENTS.END,\r\n                        {\r\n                            aliases: [part.alias],\r\n                            part: part,\r\n                        } as ITaskFlowPartEndArgs<TPart>,\r\n                    );\r\n                    resolve();\r\n                });\r\n            }).catch(function(err: any) {\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Performs a task part.\r\n     * @param part Task part to be performed.\r\n     * @returns Promise resolved once the part task is performed.\r\n     */\r\n    protected abstract performTask(part: TPart): PromiseLike<{} | void>;\r\n\r\n    //#region TaskPartWhenconstraint\r\n\r\n    /**\r\n     * Handles the when entity of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     *\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhen(whenEntity: ITaskPartWhenConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            if (null == whenEntity) {\r\n                resolve();\r\n            } else {\r\n                switch (whenEntity.constraintType) {\r\n                    case TASK_CONSTRAINT_TYPES.START:\r\n                        that.handleTaskPartWhenPartBegins(whenEntity as TaskPartBeginConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    case TASK_CONSTRAINT_TYPES.END:\r\n                        that.handleTaskPartWhenPartEnds(whenEntity as TaskPartEndConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    case TASK_CONSTRAINT_TYPES.GROUP:\r\n                        that.handleTaskPartWhenPartGroup(whenEntity as TaskGroupConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    case TASK_CONSTRAINT_TYPES.WAIT_FOR:\r\n                        that.handleTaskPartWhenWaitFor(whenEntity as TaskTimeConstraint)\r\n                            .then(resolve);\r\n                        break;\r\n                    default:\r\n                        reject(new Error('Unexpected when entity type.'));\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskPartBeginConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenPartBegins(whenEntity: TaskPartBeginConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            const eventHandler = function() {\r\n                that.partStartManager.unsubscribe(whenEntity.alias, token);\r\n                if (null == whenEntity.after) {\r\n                    resolve();\r\n                } else {\r\n                    that.handleTaskPartWhen(whenEntity.after)\r\n                        .then(resolve);\r\n                }\r\n            };\r\n            const token: number = that.partStartManager.subscribe(whenEntity.alias, eventHandler);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskPartEndConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenPartEnds(whenEntity: TaskPartEndConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            const eventHandler = function() {\r\n                that.partEndManager.unsubscribe(whenEntity.alias, token);\r\n                if (null == whenEntity.after) {\r\n                    resolve();\r\n                } else {\r\n                    that.handleTaskPartWhen(whenEntity.after)\r\n                        .then(resolve);\r\n                }\r\n            };\r\n            const token: number = that.partEndManager.subscribe(whenEntity.alias, eventHandler);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskGroupConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     *\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenPartGroup(whenEntity: TaskGroupConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            const childPromises: Array<Promise<void>> = new Array(whenEntity.constraints.length);\r\n\r\n            for (var i = 0; i < whenEntity.constraints.length; ++i) {\r\n                childPromises[i] = new Promise<void>(function(resolve, reject) {\r\n                    that.handleTaskPartWhen(whenEntity.constraints[i])\r\n                        .then(resolve);\r\n                });\r\n            }\r\n\r\n            if (TaskPartWhenOperator.AND === whenEntity.operator) {\r\n                Promise.all(childPromises)\r\n                    .then(function() {\r\n                        resolve();\r\n                    });\r\n            } else if (TaskPartWhenOperator.OR === whenEntity.operator) {\r\n                Promise.race(childPromises)\r\n                .then(function() {\r\n                    resolve();\r\n                });\r\n            } else {\r\n                reject('Unexpected operator.');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles the when entity (TaskTimeConstraint) of a task part.\r\n     *\r\n     * @param whenEntity When entity to handle.\r\n     *\r\n     * @returns Promise resolved once the when entity is checked.\r\n     */\r\n    protected handleTaskPartWhenWaitFor(whenEntity: TaskTimeConstraint): Promise<void> {\r\n        const that = this;\r\n        return new Promise<void>(function(resolve, reject) {\r\n            setTimeout(function() {\r\n                if (whenEntity.after == null) {\r\n                    resolve();\r\n                } else {\r\n                    that.handleTaskPartWhen(whenEntity.after)\r\n                        .then(resolve);\r\n                }\r\n            }, whenEntity.millis);\r\n        });\r\n    }\r\n\r\n    //#endregion\r\n}\r\n"],
      sourceRoot: "../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskEngine = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _events = require("events");

var _taskPartConstraint = require("./flow/task-part-constraint");

var _operationManager = require("./operation/operation-manager");

var _taskPartWhenEvents = require("./task-part-when-events");

var _taskPartWhenOperator = require("./task-part-when-operator");

var TaskEngine =
/*#__PURE__*/
function () {
  function TaskEngine() {
    (0, _classCallCheck2.default)(this, TaskEngine);
    cov_voe4c53pm.f[0]++;
    cov_voe4c53pm.s[0]++;
    this.eventEmitter = new _events.EventEmitter();
    cov_voe4c53pm.s[1]++;
    this.partEndManager = new _operationManager.OperationManager(_taskPartWhenEvents.TASK_PART_WHEN_EVENTS.END, this.eventEmitter);
    cov_voe4c53pm.s[2]++;
    this.partStartManager = new _operationManager.OperationManager(_taskPartWhenEvents.TASK_PART_WHEN_EVENTS.START, this.eventEmitter);
  }

  (0, _createClass2.default)(TaskEngine, [{
    key: "getPartEndListenerAccess",
    value: function getPartEndListenerAccess() {
      cov_voe4c53pm.f[1]++;
      var that = (cov_voe4c53pm.s[3]++, this);
      cov_voe4c53pm.s[4]++;
      return {
        subscribe: function subscribe(alias, handler) {
          cov_voe4c53pm.f[2]++;
          cov_voe4c53pm.s[5]++;
          return that.partEndManager.subscribe(alias, handler);
        },
        unsubscribe: function unsubscribe(alias, index) {
          cov_voe4c53pm.f[3]++;
          cov_voe4c53pm.s[6]++;
          return that.partEndManager.unsubscribe(alias, index);
        }
      };
    }
  }, {
    key: "getPartStartListenerAccess",
    value: function getPartStartListenerAccess() {
      cov_voe4c53pm.f[4]++;
      var that = (cov_voe4c53pm.s[7]++, this);
      cov_voe4c53pm.s[8]++;
      return {
        subscribe: function subscribe(alias, handler) {
          cov_voe4c53pm.f[5]++;
          cov_voe4c53pm.s[9]++;
          return that.partStartManager.subscribe(alias, handler);
        },
        unsubscribe: function unsubscribe(alias, index) {
          cov_voe4c53pm.f[6]++;
          cov_voe4c53pm.s[10]++;
          return that.partStartManager.unsubscribe(alias, index);
        }
      };
    }
  }, {
    key: "handle",
    value: function handle(taskFlow) {
      cov_voe4c53pm.f[7]++;
      cov_voe4c53pm.s[11]++;

      if (taskFlow == null) {
        cov_voe4c53pm.b[0][0]++;
        cov_voe4c53pm.s[12]++;
        throw new Error('It\'s required a task flow.');
      } else {
        cov_voe4c53pm.b[0][1]++;
      }

      cov_voe4c53pm.s[13]++;

      if (taskFlow.parts == null) {
        cov_voe4c53pm.b[1][0]++;
        cov_voe4c53pm.s[14]++;
        throw new Error('It\'s required a task flow with parts.');
      } else {
        cov_voe4c53pm.b[1][1]++;
      }

      cov_voe4c53pm.s[15]++;
      this.currentTask = taskFlow;
      var partPromises = (cov_voe4c53pm.s[16]++, new Array(taskFlow.parts.length));
      cov_voe4c53pm.s[17]++;

      for (var i = 0; i < taskFlow.parts.length; ++i) {
        cov_voe4c53pm.s[18]++;
        partPromises[i] = this.handleTaskPart(taskFlow.parts[i]);
      }

      cov_voe4c53pm.s[19]++;
      return partPromises;
    }
  }, {
    key: "handleTaskPart",
    value: function handleTaskPart(part) {
      cov_voe4c53pm.f[8]++;
      var that = (cov_voe4c53pm.s[20]++, this);
      cov_voe4c53pm.s[21]++;
      return new Promise(function (resolve, reject) {
        cov_voe4c53pm.f[9]++;
        cov_voe4c53pm.s[22]++;
        that.handleTaskPartWhen(part.when).then(function () {
          cov_voe4c53pm.f[10]++;
          cov_voe4c53pm.s[23]++;
          that.eventEmitter.emit(_taskPartWhenEvents.TASK_PART_WHEN_EVENTS.START, {
            aliases: [part.alias],
            part: part
          });
          var promise = (cov_voe4c53pm.s[24]++, that.performTask(part));
          cov_voe4c53pm.s[25]++;
          promise.then(function () {
            cov_voe4c53pm.f[11]++;
            cov_voe4c53pm.s[26]++;
            that.eventEmitter.emit(_taskPartWhenEvents.TASK_PART_WHEN_EVENTS.END, {
              aliases: [part.alias],
              part: part
            });
            cov_voe4c53pm.s[27]++;
            resolve();
          });
        }).catch(function (err) {
          cov_voe4c53pm.f[12]++;
          cov_voe4c53pm.s[28]++;
          reject(err);
        });
      });
    }
  }, {
    key: "handleTaskPartWhen",
    value: function handleTaskPartWhen(whenEntity) {
      cov_voe4c53pm.f[13]++;
      var that = (cov_voe4c53pm.s[29]++, this);
      cov_voe4c53pm.s[30]++;
      return new Promise(function (resolve, reject) {
        cov_voe4c53pm.f[14]++;
        cov_voe4c53pm.s[31]++;

        if (null == whenEntity) {
          cov_voe4c53pm.b[2][0]++;
          cov_voe4c53pm.s[32]++;
          resolve();
        } else {
          cov_voe4c53pm.b[2][1]++;
          cov_voe4c53pm.s[33]++;

          switch (whenEntity.constraintType) {
            case _taskPartConstraint.TASK_CONSTRAINT_TYPES.START:
              cov_voe4c53pm.b[3][0]++;
              cov_voe4c53pm.s[34]++;
              that.handleTaskPartWhenPartBegins(whenEntity).then(resolve);
              cov_voe4c53pm.s[35]++;
              break;

            case _taskPartConstraint.TASK_CONSTRAINT_TYPES.END:
              cov_voe4c53pm.b[3][1]++;
              cov_voe4c53pm.s[36]++;
              that.handleTaskPartWhenPartEnds(whenEntity).then(resolve);
              cov_voe4c53pm.s[37]++;
              break;

            case _taskPartConstraint.TASK_CONSTRAINT_TYPES.GROUP:
              cov_voe4c53pm.b[3][2]++;
              cov_voe4c53pm.s[38]++;
              that.handleTaskPartWhenPartGroup(whenEntity).then(resolve);
              cov_voe4c53pm.s[39]++;
              break;

            case _taskPartConstraint.TASK_CONSTRAINT_TYPES.WAIT_FOR:
              cov_voe4c53pm.b[3][3]++;
              cov_voe4c53pm.s[40]++;
              that.handleTaskPartWhenWaitFor(whenEntity).then(resolve);
              cov_voe4c53pm.s[41]++;
              break;

            default:
              cov_voe4c53pm.b[3][4]++;
              cov_voe4c53pm.s[42]++;
              reject(new Error('Unexpected when entity type.'));
          }
        }
      });
    }
  }, {
    key: "handleTaskPartWhenPartBegins",
    value: function handleTaskPartWhenPartBegins(whenEntity) {
      cov_voe4c53pm.f[15]++;
      var that = (cov_voe4c53pm.s[43]++, this);
      cov_voe4c53pm.s[44]++;
      return new Promise(function (resolve, reject) {
        cov_voe4c53pm.f[16]++;
        cov_voe4c53pm.s[45]++;

        var eventHandler = function eventHandler() {
          cov_voe4c53pm.f[17]++;
          cov_voe4c53pm.s[46]++;
          that.partStartManager.unsubscribe(whenEntity.alias, token);
          cov_voe4c53pm.s[47]++;

          if (null == whenEntity.after) {
            cov_voe4c53pm.b[4][0]++;
            cov_voe4c53pm.s[48]++;
            resolve();
          } else {
            cov_voe4c53pm.b[4][1]++;
            cov_voe4c53pm.s[49]++;
            that.handleTaskPartWhen(whenEntity.after).then(resolve);
          }
        };

        var token = (cov_voe4c53pm.s[50]++, that.partStartManager.subscribe(whenEntity.alias, eventHandler));
      });
    }
  }, {
    key: "handleTaskPartWhenPartEnds",
    value: function handleTaskPartWhenPartEnds(whenEntity) {
      cov_voe4c53pm.f[18]++;
      var that = (cov_voe4c53pm.s[51]++, this);
      cov_voe4c53pm.s[52]++;
      return new Promise(function (resolve, reject) {
        cov_voe4c53pm.f[19]++;
        cov_voe4c53pm.s[53]++;

        var eventHandler = function eventHandler() {
          cov_voe4c53pm.f[20]++;
          cov_voe4c53pm.s[54]++;
          that.partEndManager.unsubscribe(whenEntity.alias, token);
          cov_voe4c53pm.s[55]++;

          if (null == whenEntity.after) {
            cov_voe4c53pm.b[5][0]++;
            cov_voe4c53pm.s[56]++;
            resolve();
          } else {
            cov_voe4c53pm.b[5][1]++;
            cov_voe4c53pm.s[57]++;
            that.handleTaskPartWhen(whenEntity.after).then(resolve);
          }
        };

        var token = (cov_voe4c53pm.s[58]++, that.partEndManager.subscribe(whenEntity.alias, eventHandler));
      });
    }
  }, {
    key: "handleTaskPartWhenPartGroup",
    value: function handleTaskPartWhenPartGroup(whenEntity) {
      cov_voe4c53pm.f[21]++;
      var that = (cov_voe4c53pm.s[59]++, this);
      cov_voe4c53pm.s[60]++;
      return new Promise(function (resolve, reject) {
        cov_voe4c53pm.f[22]++;
        var childPromises = (cov_voe4c53pm.s[61]++, new Array(whenEntity.constraints.length));
        cov_voe4c53pm.s[62]++;

        for (var i = 0; i < whenEntity.constraints.length; ++i) {
          cov_voe4c53pm.s[63]++;
          childPromises[i] = new Promise(function (resolve, reject) {
            cov_voe4c53pm.f[23]++;
            cov_voe4c53pm.s[64]++;
            that.handleTaskPartWhen(whenEntity.constraints[i]).then(resolve);
          });
        }

        cov_voe4c53pm.s[65]++;

        if (_taskPartWhenOperator.TaskPartWhenOperator.AND === whenEntity.operator) {
          cov_voe4c53pm.b[6][0]++;
          cov_voe4c53pm.s[66]++;
          Promise.all(childPromises).then(function () {
            cov_voe4c53pm.f[24]++;
            cov_voe4c53pm.s[67]++;
            resolve();
          });
        } else {
          cov_voe4c53pm.b[6][1]++;
          cov_voe4c53pm.s[68]++;

          if (_taskPartWhenOperator.TaskPartWhenOperator.OR === whenEntity.operator) {
            cov_voe4c53pm.b[7][0]++;
            cov_voe4c53pm.s[69]++;
            Promise.race(childPromises).then(function () {
              cov_voe4c53pm.f[25]++;
              cov_voe4c53pm.s[70]++;
              resolve();
            });
          } else {
            cov_voe4c53pm.b[7][1]++;
            cov_voe4c53pm.s[71]++;
            reject('Unexpected operator.');
          }
        }
      });
    }
  }, {
    key: "handleTaskPartWhenWaitFor",
    value: function handleTaskPartWhenWaitFor(whenEntity) {
      cov_voe4c53pm.f[26]++;
      var that = (cov_voe4c53pm.s[72]++, this);
      cov_voe4c53pm.s[73]++;
      return new Promise(function (resolve, reject) {
        cov_voe4c53pm.f[27]++;
        cov_voe4c53pm.s[74]++;
        setTimeout(function () {
          cov_voe4c53pm.f[28]++;
          cov_voe4c53pm.s[75]++;

          if (whenEntity.after == null) {
            cov_voe4c53pm.b[8][0]++;
            cov_voe4c53pm.s[76]++;
            resolve();
          } else {
            cov_voe4c53pm.b[8][1]++;
            cov_voe4c53pm.s[77]++;
            that.handleTaskPartWhen(whenEntity.after).then(resolve);
          }
        }, whenEntity.millis);
      });
    }
  }]);
  return TaskEngine;
}();

exports.TaskEngine = TaskEngine;

},{"./flow/task-part-constraint":5,"./operation/operation-manager":9,"./task-part-when-events":11,"./task-part-when-operator":12,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/interopRequireDefault":24,"events":28}],11:[function(require,module,exports){
"use strict";

var cov_1h9xaot06c = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/task-part-when-events.js",
      hash = "8fef83dde1c978a72a721cdc42d1a5b96fba8e4c",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/task-part-when-events.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 37
        },
        end: {
          line: 4,
          column: 1
        }
      }
    },
    fnMap: {},
    branchMap: {},
    s: {
      "0": 0
    },
    f: {},
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["task/task-part-when-events.ts"],
      names: [],
      mappings: "AAGA,MAAM,CAAC,MAAM,qBAAqB,GAAG;IAIjC,GAAG,EAAE,UAAU;IAIf,KAAK,EAAE,YAAY;CACtB,CAAC",
      file: "task-part-when-events.js",
      sourcesContent: ["/**\r\n * Prefixes used to ganerate alias for events over task parts.\r\n */\r\nexport const TASK_PART_WHEN_EVENTS = {\r\n    /**\r\n     * Prefix for any event raised once a task part is ended.\r\n     */\r\n    END: 'part.end',\r\n    /**\r\n     * Prefix for any event raised once a task part is started.\r\n     */\r\n    START: 'part.start',\r\n};\r\n"],
      sourceRoot: "../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TASK_PART_WHEN_EVENTS = void 0;
var TASK_PART_WHEN_EVENTS = (cov_1h9xaot06c.s[0]++, {
  END: 'part.end',
  START: 'part.start'
});
exports.TASK_PART_WHEN_EVENTS = TASK_PART_WHEN_EVENTS;

},{}],12:[function(require,module,exports){
"use strict";

var cov_2pppxfifo9 = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/task-part-when-operator.js",
      hash = "d61133b244ebba61ac5c95fd958e91ce844cc2cf",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/task/task-part-when-operator.js",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 5,
          column: 56
        }
      },
      "1": {
        start: {
          line: 3,
          column: 4
        },
        end: {
          line: 3,
          column: 66
        }
      },
      "2": {
        start: {
          line: 4,
          column: 4
        },
        end: {
          line: 4,
          column: 64
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 1
          },
          end: {
            line: 2,
            column: 2
          }
        },
        loc: {
          start: {
            line: 2,
            column: 33
          },
          end: {
            line: 5,
            column: 1
          }
        },
        line: 2
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 5,
            column: 3
          },
          end: {
            line: 5,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 5,
            column: 3
          },
          end: {
            line: 5,
            column: 23
          }
        }, {
          start: {
            line: 5,
            column: 28
          },
          end: {
            line: 5,
            column: 53
          }
        }],
        line: 5
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["task/task-part-when-operator.ts"],
      names: [],
      mappings: "AAGA,MAAM,CAAN,IAAY,oBASX;AATD,WAAY,oBAAoB;IAI5B,6DAAG,CAAA;IAIH,2DAAE,CAAA;AACN,CAAC,EATW,oBAAoB,KAApB,oBAAoB,QAS/B",
      file: "task-part-when-operator.js",
      sourcesContent: ["/**\r\n * Logical operator to apply.\r\n */\r\nexport enum TaskPartWhenOperator {\r\n    /**\r\n     * And operator.\r\n     */\r\n    AND,\r\n    /**\r\n     * Or operator.\r\n     */\r\n    OR,\r\n}\r\n"],
      sourceRoot: "../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TaskPartWhenOperator = void 0;
var TaskPartWhenOperator;
exports.TaskPartWhenOperator = TaskPartWhenOperator;
cov_2pppxfifo9.s[0]++;

(function (TaskPartWhenOperator) {
  cov_2pppxfifo9.f[0]++;
  cov_2pppxfifo9.s[1]++;
  TaskPartWhenOperator[TaskPartWhenOperator["AND"] = 0] = "AND";
  cov_2pppxfifo9.s[2]++;
  TaskPartWhenOperator[TaskPartWhenOperator["OR"] = 1] = "OR";
})((cov_2pppxfifo9.b[0][0]++, TaskPartWhenOperator) || (cov_2pppxfifo9.b[0][1]++, exports.TaskPartWhenOperator = TaskPartWhenOperator = {}));

},{}],13:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TokenMapTests = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _tokenMap = require("../../collection/token-map");

var TokenMapTests =
/*#__PURE__*/
function () {
  function TokenMapTests() {
    (0, _classCallCheck2.default)(this, TokenMapTests);
  }

  (0, _createClass2.default)(TokenMapTests, [{
    key: "performTests",
    value: function performTests() {
      var _this = this;

      describe('Token Map Tests', function () {
        _this.itMustBeInitializable();

        _this.itMustBeAbleToAddElements();

        _this.itMustBeAbleToAddAndRemoveElements();

        _this.itMustBeAbleToIterateOverElements();

        _this.itMustBeAbleToReuseUnusedIndexes();

        _this.itMustNotBeAbleToRemoveUnusedIndexes();
      });
    }
  }, {
    key: "itMustBeInitializable",
    value: function itMustBeInitializable() {
      it('mustBeInitializable', function () {
        var map = new _tokenMap.TokenMap();
        expect(map).not.toBe(null);
        expect(map.count()).toBe(0);
      });
    }
  }, {
    key: "itMustBeAbleToAddElements",
    value: function itMustBeAbleToAddElements() {
      it('mustBeAbleToAddElements', function () {
        var map = new _tokenMap.TokenMap();
        var elementsToAdd = 64;

        for (var i = 0; i < elementsToAdd; ++i) {
          expect(map.add(i)).toBe(i);
        }

        for (var i = 0; i < elementsToAdd; ++i) {
          expect(map.get(i)).toBe(i);
        }

        expect(map.count()).toBe(elementsToAdd);
      });
    }
  }, {
    key: "itMustBeAbleToAddAndRemoveElements",
    value: function itMustBeAbleToAddAndRemoveElements() {
      it('mustBeAbleToAddAndRemoveElements', function () {
        var map = new _tokenMap.TokenMap();
        var elementsToAdd = 64;
        var elementsToRemove = 32;

        for (var i = 0; i < elementsToAdd; ++i) {
          expect(map.add(i)).toBe(i);
        }

        for (var i = 0; i < elementsToAdd; ++i) {
          expect(map.get(i)).toBe(i);
        }

        for (var i = 0; i < elementsToRemove; ++i) {
          expect(map.remove(i)).toBe(true);
        }

        expect(map.count()).toBe(elementsToAdd - elementsToRemove);
      });
    }
  }, {
    key: "itMustBeAbleToIterateOverElements",
    value: function itMustBeAbleToIterateOverElements() {
      it('mustBeAbleToIterateOverElements', function () {
        var map = new _tokenMap.TokenMap();
        var elementsToAdd = 8;

        for (var i = 0; i < elementsToAdd; ++i) {
          var power = Math.pow(2, i);
          map.add(power);
        }

        var sum = 0;
        map.foreach(function (value, key) {
          sum = sum + value;
        });
        var expectedValue = Math.pow(2, elementsToAdd) - 1;
        expect(sum).toBe(expectedValue);
      });
    }
  }, {
    key: "itMustBeAbleToReuseUnusedIndexes",
    value: function itMustBeAbleToReuseUnusedIndexes() {
      it('mustBeAbleToReuseUnusedIndexes', function () {
        var map = new _tokenMap.TokenMap();
        var elementsToAdd = 64;
        var elementsToRemove = 32;

        for (var i = 0; i < elementsToAdd; ++i) {
          expect(map.add(i)).toBe(i);
        }

        for (var i = 0; i < elementsToAdd; ++i) {
          expect(map.get(i)).toBe(i);
        }

        for (var i = 0; i < elementsToRemove; ++i) {
          expect(map.remove(i)).toBe(true);
        }

        for (var i = 0; i < elementsToRemove; ++i) {
          expect(map.add(i)).toBeLessThan(elementsToRemove);
        }

        expect(map.count()).toBe(elementsToAdd);
      });
    }
  }, {
    key: "itMustNotBeAbleToRemoveUnusedIndexes",
    value: function itMustNotBeAbleToRemoveUnusedIndexes() {
      it('mustNotBeAbleToRemoveUnusedIndexes', function () {
        var map = new _tokenMap.TokenMap();
        expect(map.remove(0)).toBe(false);
      });
    }
  }]);
  return TokenMapTests;
}();

exports.TokenMapTests = TokenMapTests;

},{"../../collection/token-map":1,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/interopRequireDefault":24}],14:[function(require,module,exports){
"use strict";

var cov_yhsarlch5 = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/test/logic/flow/log-message-task-flow-part.js",
      hash = "8bc96439fb5998ac0cd4fd03f9fe9e5f24235ad6",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/test/logic/flow/log-message-task-flow-part.js",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 8
        },
        end: {
          line: 3,
          column: 27
        }
      },
      "1": {
        start: {
          line: 4,
          column: 8
        },
        end: {
          line: 4,
          column: 31
        }
      },
      "2": {
        start: {
          line: 5,
          column: 8
        },
        end: {
          line: 5,
          column: 45
        }
      },
      "3": {
        start: {
          line: 6,
          column: 8
        },
        end: {
          line: 6,
          column: 25
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 4
          },
          end: {
            line: 2,
            column: 5
          }
        },
        loc: {
          start: {
            line: 2,
            column: 68
          },
          end: {
            line: 7,
            column: 5
          }
        },
        line: 2
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 2,
            column: 32
          },
          end: {
            line: 2,
            column: 53
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 2,
            column: 49
          },
          end: {
            line: 2,
            column: 53
          }
        }],
        line: 2
      },
      "1": {
        loc: {
          start: {
            line: 2,
            column: 55
          },
          end: {
            line: 2,
            column: 66
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 2,
            column: 62
          },
          end: {
            line: 2,
            column: 66
          }
        }],
        line: 2
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0],
      "1": [0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["test/logic/flow/log-message-task-flow-part.ts"],
      names: [],
      mappings: "AAGA,MAAM,OAAO,sBAAsB;IA0B/B,YACI,KAAa,EACb,OAAe,EACf,iBAAyC,IAAI,EAC7C,OAAgC,IAAI;QAEpC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;CACJ",
      file: "log-message-task-flow-part.js",
      sourcesContent: ["import { ITaskFlowPart } from '../../../task/flow/task-flow-part';\nimport { ITaskPartWhenConstraint } from '../../../task/flow/task-flow-when';\n\nexport class LogMessageTaskFlowPart implements ITaskFlowPart {\n    /**\n     * Alias of the part\n     */\n    public alias: string;\n    /**\n     * Message to log.\n     */\n    public message: string;\n    /**\n     * The message won't be log until the promise is fullfilled.\n     */\n    public waitForPromise: PromiseLike<{} | void>;\n    /**\n     * Constraints to ensure before applying the styles.\n     */\n    public when: ITaskPartWhenConstraint;\n\n    /**\n     * Creates a new instance of this class.\n     *\n     * @param alias alias of the part.\n     * @param message message to log.\n     * @param waitForPromise Promise that must be fullfilled before loging the message.\n     * @param when When constraint of the task.\n     */\n    public constructor(\n        alias: string,\n        message: string,\n        waitForPromise: PromiseLike<{} | void> = null,\n        when: ITaskPartWhenConstraint = null,\n    ) {\n        this.alias = alias;\n        this.message = message;\n        this.waitForPromise = waitForPromise;\n        this.when = when;\n    }\n}\n"],
      sourceRoot: "../../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LogMessageTaskFlowPart = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var LogMessageTaskFlowPart = function LogMessageTaskFlowPart(alias, message) {
  var waitForPromise = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (cov_yhsarlch5.b[0][0]++, null);
  var when = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : (cov_yhsarlch5.b[1][0]++, null);
  (0, _classCallCheck2.default)(this, LogMessageTaskFlowPart);
  cov_yhsarlch5.f[0]++;
  cov_yhsarlch5.s[0]++;
  this.alias = alias;
  cov_yhsarlch5.s[1]++;
  this.message = message;
  cov_yhsarlch5.s[2]++;
  this.waitForPromise = waitForPromise;
  cov_yhsarlch5.s[3]++;
  this.when = when;
};

exports.LogMessageTaskFlowPart = LogMessageTaskFlowPart;

},{"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/interopRequireDefault":24}],15:[function(require,module,exports){
"use strict";

var cov_1pibcsdynx = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/test/logic/log-task-engine.js",
      hash = "375053d3b1f801ad907b00f757000db6af416347",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/test/logic/log-task-engine.js",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 8
        },
        end: {
          line: 5,
          column: 16
        }
      },
      "1": {
        start: {
          line: 6,
          column: 8
        },
        end: {
          line: 8,
          column: 9
        }
      },
      "2": {
        start: {
          line: 7,
          column: 12
        },
        end: {
          line: 7,
          column: 34
        }
      },
      "3": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 23
        }
      },
      "4": {
        start: {
          line: 12,
          column: 8
        },
        end: {
          line: 12,
          column: 24
        }
      },
      "5": {
        start: {
          line: 15,
          column: 21
        },
        end: {
          line: 15,
          column: 25
        }
      },
      "6": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 27,
          column: 11
        }
      },
      "7": {
        start: {
          line: 17,
          column: 30
        },
        end: {
          line: 20,
          column: 13
        }
      },
      "8": {
        start: {
          line: 18,
          column: 16
        },
        end: {
          line: 18,
          column: 50
        }
      },
      "9": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 26
        }
      },
      "10": {
        start: {
          line: 21,
          column: 12
        },
        end: {
          line: 26,
          column: 13
        }
      },
      "11": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 28
        }
      },
      "12": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 52
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 4,
            column: 5
          }
        },
        loc: {
          start: {
            line: 4,
            column: 28
          },
          end: {
            line: 10,
            column: 5
          }
        },
        line: 4
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 11,
            column: 4
          },
          end: {
            line: 11,
            column: 5
          }
        },
        loc: {
          start: {
            line: 11,
            column: 13
          },
          end: {
            line: 13,
            column: 5
          }
        },
        line: 11
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 14,
            column: 4
          },
          end: {
            line: 14,
            column: 5
          }
        },
        loc: {
          start: {
            line: 14,
            column: 22
          },
          end: {
            line: 28,
            column: 5
          }
        },
        line: 14
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 16,
            column: 27
          },
          end: {
            line: 16,
            column: 28
          }
        },
        loc: {
          start: {
            line: 16,
            column: 48
          },
          end: {
            line: 27,
            column: 9
          }
        },
        line: 16
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 17,
            column: 30
          },
          end: {
            line: 17,
            column: 31
          }
        },
        loc: {
          start: {
            line: 17,
            column: 36
          },
          end: {
            line: 20,
            column: 13
          }
        },
        line: 17
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 4,
            column: 16
          },
          end: {
            line: 4,
            column: 26
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 4,
            column: 22
          },
          end: {
            line: 4,
            column: 26
          }
        }],
        line: 4
      },
      "1": {
        loc: {
          start: {
            line: 6,
            column: 8
          },
          end: {
            line: 8,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 6,
            column: 8
          },
          end: {
            line: 8,
            column: 9
          }
        }, {
          start: {
            line: 6,
            column: 8
          },
          end: {
            line: 8,
            column: 9
          }
        }],
        line: 6
      },
      "2": {
        loc: {
          start: {
            line: 21,
            column: 12
          },
          end: {
            line: 26,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 12
          },
          end: {
            line: 26,
            column: 13
          }
        }, {
          start: {
            line: 21,
            column: 12
          },
          end: {
            line: 26,
            column: 13
          }
        }],
        line: 21
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["test/logic/log-task-engine.ts"],
      names: [],
      mappings: "AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,wBAAwB,CAAC;AAEpD,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AAEzC,MAAM,OAAO,aAAc,SAAQ,UAAkC;IAWjE,YAAmB,MAAiB,IAAI;QACpC,KAAK,EAAE,CAAC;QAER,IAAI,IAAI,IAAI,GAAG,EAAE;YACb,GAAG,GAAG,IAAI,SAAS,EAAE,CAAC;SACzB;QAED,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACnB,CAAC;IAKM,MAAM;QACT,OAAO,IAAI,CAAC,GAAG,CAAC;IACpB,CAAC;IAMS,WAAW,CACjB,IAA4B;QAE5B,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACnC,MAAM,SAAS,GAAG,GAAG,EAAE;gBACnB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAClC,OAAO,EAAE,CAAC;YACd,CAAC,CAAC;YACF,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;gBAC7B,SAAS,EAAE,CAAC;aACf;iBAAM;gBACH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aACvC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;CACJ",
      file: "log-task-engine.js",
      sourcesContent: ["import { TaskEngine } from '../../task/task-engine';\nimport { LogMessageTaskFlowPart } from './flow/log-message-task-flow-part';\nimport { SampleLog } from './sample-log';\n\nexport class LogTaskEngine extends TaskEngine<LogMessageTaskFlowPart> {\n\n    /**\n     * Engine's log used to store messages.\n     */\n    protected log: SampleLog;\n\n    /**\n     * Creates a new engine.\n     * @param log Engine's log. If null is passed, the engine will create a new log.\n     */\n    public constructor(log: SampleLog = null) {\n        super();\n\n        if (null == log) {\n            log = new SampleLog();\n        }\n\n        this.log = log;\n    }\n\n    /**\n     * Obtains the engine's log.\n     */\n    public getLog(): SampleLog {\n        return this.log;\n    }\n\n    /**\n     * Performs a task flow part.\n     * @param part Task flow part.\n     */\n    protected performTask(\n        part: LogMessageTaskFlowPart,\n    ): PromiseLike<{} | void> {\n        const that = this;\n        return new Promise((resolve, reject) => {\n            const logAction = () => {\n                that.log.logMessage(part.message);\n                resolve();\n            };\n            if (null == part.waitForPromise) {\n                logAction();\n            } else {\n                part.waitForPromise.then(logAction);\n            }\n        });\n    }\n}\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LogTaskEngine = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _taskEngine = require("../../task/task-engine");

var _sampleLog = require("./sample-log");

var LogTaskEngine =
/*#__PURE__*/
function (_TaskEngine) {
  (0, _inherits2.default)(LogTaskEngine, _TaskEngine);

  function LogTaskEngine() {
    var _this;

    var log = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (cov_1pibcsdynx.b[0][0]++, null);
    (0, _classCallCheck2.default)(this, LogTaskEngine);
    cov_1pibcsdynx.f[0]++;
    cov_1pibcsdynx.s[0]++;
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(LogTaskEngine).call(this));
    cov_1pibcsdynx.s[1]++;

    if (null == log) {
      cov_1pibcsdynx.b[1][0]++;
      cov_1pibcsdynx.s[2]++;
      log = new _sampleLog.SampleLog();
    } else {
      cov_1pibcsdynx.b[1][1]++;
    }

    cov_1pibcsdynx.s[3]++;
    _this.log = log;
    return _this;
  }

  (0, _createClass2.default)(LogTaskEngine, [{
    key: "getLog",
    value: function getLog() {
      cov_1pibcsdynx.f[1]++;
      cov_1pibcsdynx.s[4]++;
      return this.log;
    }
  }, {
    key: "performTask",
    value: function performTask(part) {
      cov_1pibcsdynx.f[2]++;
      var that = (cov_1pibcsdynx.s[5]++, this);
      cov_1pibcsdynx.s[6]++;
      return new Promise(function (resolve, reject) {
        cov_1pibcsdynx.f[3]++;
        cov_1pibcsdynx.s[7]++;

        var logAction = function logAction() {
          cov_1pibcsdynx.f[4]++;
          cov_1pibcsdynx.s[8]++;
          that.log.logMessage(part.message);
          cov_1pibcsdynx.s[9]++;
          resolve();
        };

        cov_1pibcsdynx.s[10]++;

        if (null == part.waitForPromise) {
          cov_1pibcsdynx.b[2][0]++;
          cov_1pibcsdynx.s[11]++;
          logAction();
        } else {
          cov_1pibcsdynx.b[2][1]++;
          cov_1pibcsdynx.s[12]++;
          part.waitForPromise.then(logAction);
        }
      });
    }
  }]);
  return LogTaskEngine;
}(_taskEngine.TaskEngine);

exports.LogTaskEngine = LogTaskEngine;

},{"../../task/task-engine":10,"./sample-log":16,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/getPrototypeOf":22,"@babel/runtime/helpers/inherits":23,"@babel/runtime/helpers/interopRequireDefault":24,"@babel/runtime/helpers/possibleConstructorReturn":25}],16:[function(require,module,exports){
"use strict";

var cov_1ystm84odk = function () {
  var path = "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/test/logic/sample-log.js",
      hash = "fe49b097864f5c792e189471839e396b88a53117",
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = "__coverage__",
      coverageData = {
    path: "/Users/robertopintoslopez/Documents/Repositorios/jovellanos/dist/js/module/src/test/logic/sample-log.js",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 8
        },
        end: {
          line: 3,
          column: 28
        }
      },
      "1": {
        start: {
          line: 4,
          column: 8
        },
        end: {
          line: 4,
          column: 40
        }
      },
      "2": {
        start: {
          line: 5,
          column: 8
        },
        end: {
          line: 5,
          column: 33
        }
      },
      "3": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 40
        }
      },
      "4": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 55
        }
      },
      "5": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 26
        }
      },
      "6": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 40
        }
      },
      "7": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 44
        }
      },
      "8": {
        start: {
          line: 19,
          column: 29
        },
        end: {
          line: 19,
          column: 40
        }
      },
      "9": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 22,
          column: 9
        }
      },
      "10": {
        start: {
          line: 21,
          column: 12
        },
        end: {
          line: 21,
          column: 39
        }
      },
      "11": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 28
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 4
          },
          end: {
            line: 2,
            column: 5
          }
        },
        loc: {
          start: {
            line: 2,
            column: 18
          },
          end: {
            line: 6,
            column: 5
          }
        },
        line: 2
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 7,
            column: 4
          },
          end: {
            line: 7,
            column: 5
          }
        },
        loc: {
          start: {
            line: 7,
            column: 24
          },
          end: {
            line: 11,
            column: 5
          }
        },
        line: 7
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 22
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 29
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 18
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 18
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["test/logic/sample-log.ts"],
      names: [],
      mappings: "AAAA,MAAM,OAAO,SAAS;IAoBlB;QACI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,IAAI,KAAK,EAAE,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC7B,CAAC;IAMM,UAAU,CAAC,OAAe;QAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAChC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QAC/C,EAAE,IAAI,CAAC,UAAU,CAAC;IACtB,CAAC;IAMM,UAAU,CAAC,KAAa;QAC3B,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAMM,eAAe,CAAC,OAAe;QAClC,OAAO,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC;IAMM,WAAW;QACd,MAAM,YAAY,GAAG,IAAI,KAAK,EAAE,CAAC;QACjC,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,YAAY,EAAE;YACrC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC9B;QACD,OAAO,YAAY,CAAC;IACxB,CAAC;CACJ",
      file: "sample-log.js",
      sourcesContent: ["export class SampleLog {\n\n    /**\n     * Log counter. The log has as many entries as the value of this counter.\n     */\n    protected logCounter: number;\n\n    /**\n     * Messages array\n     */\n    protected messageArray: string[];\n\n    /**\n     * Messages indexes.\n     */\n    protected messageIndexes: {[key: string]: number};\n\n    /**\n     * Creates a new sample log.\n     */\n    public constructor() {\n        this.logCounter = 0;\n        this.messageArray = new Array();\n        this.messageIndexes = {};\n    }\n\n    /**\n     * Logs a message.\n     * @param message Message to be logged.\n     */\n    public logMessage(message: string) {\n        this.messageArray.push(message);\n        this.messageIndexes[message] = this.logCounter;\n        ++this.logCounter;\n    }\n\n    /**\n     * Returns the message at the specified index.\n     * @param index index of the message.\n     */\n    public getMessage(index: number): string {\n        return this.messageArray[index];\n    }\n\n    /**\n     * Returns the index of a message.\n     * @param message Message whose index is searched.\n     */\n    public getMessageIndex(message: string): number {\n        return this.messageIndexes[message];\n    }\n\n    /**\n     * Returns a copy of the messages in the log.\n     * @returns Log array.\n     */\n    public getMessages(): string[] {\n        const messagesCopy = new Array();\n        for (const message of this.messageArray) {\n            messagesCopy.push(message);\n        }\n        return messagesCopy;\n    }\n}\n"],
      sourceRoot: "../../../../../../src"
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184"
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SampleLog = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var SampleLog =
/*#__PURE__*/
function () {
  function SampleLog() {
    (0, _classCallCheck2.default)(this, SampleLog);
    cov_1ystm84odk.f[0]++;
    cov_1ystm84odk.s[0]++;
    this.logCounter = 0;
    cov_1ystm84odk.s[1]++;
    this.messageArray = new Array();
    cov_1ystm84odk.s[2]++;
    this.messageIndexes = {};
  }

  (0, _createClass2.default)(SampleLog, [{
    key: "logMessage",
    value: function logMessage(message) {
      cov_1ystm84odk.f[1]++;
      cov_1ystm84odk.s[3]++;
      this.messageArray.push(message);
      cov_1ystm84odk.s[4]++;
      this.messageIndexes[message] = this.logCounter;
      cov_1ystm84odk.s[5]++;
      ++this.logCounter;
    }
  }, {
    key: "getMessage",
    value: function getMessage(index) {
      cov_1ystm84odk.f[2]++;
      cov_1ystm84odk.s[6]++;
      return this.messageArray[index];
    }
  }, {
    key: "getMessageIndex",
    value: function getMessageIndex(message) {
      cov_1ystm84odk.f[3]++;
      cov_1ystm84odk.s[7]++;
      return this.messageIndexes[message];
    }
  }, {
    key: "getMessages",
    value: function getMessages() {
      cov_1ystm84odk.f[4]++;
      var messagesCopy = (cov_1ystm84odk.s[8]++, new Array());
      cov_1ystm84odk.s[9]++;
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this.messageArray[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var message = _step.value;
          cov_1ystm84odk.s[10]++;
          messagesCopy.push(message);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      cov_1ystm84odk.s[11]++;
      return messagesCopy;
    }
  }]);
  return SampleLog;
}();

exports.SampleLog = SampleLog;

},{"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/interopRequireDefault":24}],17:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LogTaskEngineTests = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _taskPartBeginConstraint = require("../../task/flow/task-part-begin-constraint");

var _taskPartEndConstraint = require("../../task/flow/task-part-end-constraint");

var _taskPartGroupConstraint = require("../../task/flow/task-part-group-constraint");

var _taskPartTimeConstraint = require("../../task/flow/task-part-time-constraint");

var _taskPartWhenOperator = require("../../task/task-part-when-operator");

var _logMessageTaskFlowPart = require("../logic/flow/log-message-task-flow-part");

var _logTaskEngine = require("../logic/log-task-engine");

var _sampleLog = require("../logic/sample-log");

var LogMessageTaskFlowPartAliasPrefix = 'jovellanos/test/LogMessageTaskFlowPart/';

var LogTaskEngineTests =
/*#__PURE__*/
function () {
  function LogTaskEngineTests() {
    (0, _classCallCheck2.default)(this, LogTaskEngineTests);
  }

  (0, _createClass2.default)(LogTaskEngineTests, [{
    key: "performTests",
    value: function performTests() {
      var _this = this;

      describe('Log Task Engine Tests', function () {
        _this.itMustBeAbleToPerformASimpleTask();

        _this.itMustBeAbleToPerformATaskAfterACertainAmountOfTime();

        _this.itMustBeAbleToPerformATaskAfterTheEndOfAllTasksOfATaskGroup();

        _this.itMustBeAbleToPerformATaskAfterTheEndOfAnotherOne();

        _this.itMustBeAbleToPerformATaskAfterTheStartOfAnotherOne();

        _this.itMustBeAbleToPerformATaskAfterTheStartOfAnyTaskOfATaskGroup();

        _this.itMustBeAbleToSubscribeAPartEndEventListener();

        _this.itMustBeAbleToSubscribeAPartStartEventListener();

        _this.itMustBeAbleToUnsubscribeAPartEndEventListener();

        _this.itMustBeAbleToUnsubscribeAPartStartEventListener();

        _this.itMustBeInitializable();

        _this.itMustNotAllowToHandleANullInstance();

        _this.itMustNotAllowToHandleAnInstanceWithNoParts();

        _this.itMustNotBeAbleToHandleAnInvalidTask();

        _this.itMustStartWithALog();

        _this.itMustStartWithNoMessages();
      });
    }
  }, {
    key: "itMustBeAbleToPerformASimpleTask",
    value: function itMustBeAbleToPerformASimpleTask() {
      it('mustBeAbleToPerformASimpleTask', function () {
        var engine = new _logTaskEngine.LogTaskEngine();
        var simpleTaskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(LogMessageTaskFlowPartAliasPrefix + 'sample', 'test')]
        };
        Promise.all(engine.handle(simpleTaskFlow)).then(function () {
          expect(engine.getLog().getMessages()).toEqual(['test']);
        });
      });
    }
  }, {
    key: "itMustBeAbleToPerformATaskAfterACertainAmountOfTime",
    value: function itMustBeAbleToPerformATaskAfterACertainAmountOfTime() {
      it('mustBeAbleToPerformATaskAfterACertainAmountOfTime', function () {
        var partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';
        var partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';
        var partAlias3 = LogMessageTaskFlowPartAliasPrefix + 'sample-3';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        var taskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias1, 'test-1', new Promise(function (resolve) {
            return setTimeout(resolve, 200);
          })), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias2, 'test-2', null, new _taskPartTimeConstraint.TaskTimeConstraint(null, 250)), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias3, 'test-3', new Promise(function (resolve) {
            return setTimeout(resolve, 300);
          }))]
        };
        Promise.all(engine.handle(taskFlow)).then(function () {
          expect(engine.getLog().getMessages()).toEqual(['test-1', 'test-2', 'test-3']);
        });
      });
    }
  }, {
    key: "itMustBeAbleToPerformATaskAfterTheEndOfAllTasksOfATaskGroup",
    value: function itMustBeAbleToPerformATaskAfterTheEndOfAllTasksOfATaskGroup() {
      it('mustBeAbleToPerformATaskAfterTheEndOfAllTasksOfATaskGroup', function () {
        var partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';
        var partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';
        var partAlias3 = LogMessageTaskFlowPartAliasPrefix + 'sample-3';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        var taskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias1, 'test-1', null, new _taskPartGroupConstraint.TaskGroupConstraint(null, [new _taskPartEndConstraint.TaskPartEndConstraint(null, partAlias2), new _taskPartEndConstraint.TaskPartEndConstraint(null, partAlias3)], _taskPartWhenOperator.TaskPartWhenOperator.AND)), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias2, 'test-2', null), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias3, 'test-3', null)]
        };
        Promise.all(engine.handle(taskFlow)).then(function () {
          var logMessages = engine.getLog().getMessages();
          var firstOnes = ['test-2', 'test-3'];
          expect(firstOnes).toContain(logMessages[0]);
          expect(firstOnes).toContain(logMessages[1]);
          expect(logMessages[0]).not.toBe(logMessages[1]);
          expect(logMessages[2]).toBe('test-1');
        });
      });
    }
  }, {
    key: "itMustBeAbleToPerformATaskAfterTheEndOfAnotherOne",
    value: function itMustBeAbleToPerformATaskAfterTheEndOfAnotherOne() {
      it('mustBeAbleToPerformATaskAfterTheEndOfAnotherOne', function () {
        var partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';
        var partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        var taskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias1, 'test1', null, new _taskPartEndConstraint.TaskPartEndConstraint(null, partAlias2)), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias2, 'test2')]
        };
        Promise.all(engine.handle(taskFlow)).then(function () {
          expect(engine.getLog().getMessages()).toEqual(['test2', 'test1']);
        });
      });
    }
  }, {
    key: "itMustBeAbleToPerformATaskAfterTheStartOfAnotherOne",
    value: function itMustBeAbleToPerformATaskAfterTheStartOfAnotherOne() {
      it('mustBeAbleToPerformATaskAfterTheStartOfAnotherOne', function () {
        var partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';
        var partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        var part1SubscriberIsRegistered = new Promise(function (resolve) {
          var part1IsDone = new Promise(function (resolveCh) {
            var token = engine.getPartEndListenerAccess().subscribe(partAlias1, function () {
              resolveCh(token);
            });
          });
          resolve({
            donePromise: part1IsDone
          });
        });
        part1SubscriberIsRegistered.then(function (promiseResult) {
          var taskFlow = {
            parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias1, 'test1', null, new _taskPartBeginConstraint.TaskPartBeginConstraint(null, partAlias2)), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias2, 'test2', promiseResult.donePromise)]
          };
          Promise.all(engine.handle(taskFlow)).then(function () {
            expect(engine.getLog().getMessages()).toEqual(['test1', 'test2']);
          });
        });
      });
    }
  }, {
    key: "itMustBeAbleToPerformATaskAfterTheStartOfAnyTaskOfATaskGroup",
    value: function itMustBeAbleToPerformATaskAfterTheStartOfAnyTaskOfATaskGroup() {
      it('mustBeAbleToPerformATaskAfterTheStartOfAnyTaskOfATaskGroup', function () {
        var partAlias1 = LogMessageTaskFlowPartAliasPrefix + 'sample-1';
        var partAlias2 = LogMessageTaskFlowPartAliasPrefix + 'sample-2';
        var partAlias3 = LogMessageTaskFlowPartAliasPrefix + 'sample-3';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        var part1SubscriberIsRegistered = new Promise(function (resolve) {
          var part1IsDone = new Promise(function (resolveCh) {
            var token = engine.getPartEndListenerAccess().subscribe(partAlias1, function () {
              resolveCh(token);
            });
          });
          resolve({
            donePromise: part1IsDone
          });
        });
        part1SubscriberIsRegistered.then(function (promiseResult) {
          var taskFlow = {
            parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias1, 'test-1', null, new _taskPartGroupConstraint.TaskGroupConstraint(null, [new _taskPartBeginConstraint.TaskPartBeginConstraint(null, partAlias2), new _taskPartBeginConstraint.TaskPartBeginConstraint(null, partAlias3)], _taskPartWhenOperator.TaskPartWhenOperator.OR)), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias2, 'test-2', promiseResult.donePromise), new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias3, 'test-3', promiseResult.donePromise)]
          };
          Promise.all(engine.handle(taskFlow)).then(function () {
            var logMessages = engine.getLog().getMessages();
            var lastOnes = ['test-2', 'test-3'];
            expect(lastOnes).toContain(logMessages[1]);
            expect(lastOnes).toContain(logMessages[2]);
            expect(logMessages[1]).not.toBe(logMessages[2]);
            expect(logMessages[0]).toBe('test-1');
          });
        });
      });
    }
  }, {
    key: "itMustBeAbleToSubscribeAPartEndEventListener",
    value: function itMustBeAbleToSubscribeAPartEndEventListener() {
      it('mustBeAbleToSubscribeAPartEndEventListener', function () {
        var partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        engine.getPartEndListenerAccess().subscribe(partAlias, function (eventArgs) {
          log.logMessage('end.' + eventArgs.part.message);
        });
        var simpleTaskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias, 'test')]
        };
        Promise.all(engine.handle(simpleTaskFlow)).then(function () {
          expect(engine.getLog().getMessages()).toEqual(['test', 'end.test']);
        });
      });
    }
  }, {
    key: "itMustBeAbleToSubscribeAPartStartEventListener",
    value: function itMustBeAbleToSubscribeAPartStartEventListener() {
      it('mustBeAbleToSubscribeAPartStartEventListener', function () {
        var partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        engine.getPartStartListenerAccess().subscribe(partAlias, function (eventArgs) {
          log.logMessage('start.' + eventArgs.part.message);
        });
        var simpleTaskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias, 'test')]
        };
        Promise.all(engine.handle(simpleTaskFlow)).then(function () {
          expect(engine.getLog().getMessages()).toEqual(['start.test', 'test']);
        });
      });
    }
  }, {
    key: "itMustBeAbleToUnsubscribeAPartEndEventListener",
    value: function itMustBeAbleToUnsubscribeAPartEndEventListener() {
      it('mustBeAbleToUnsubscribeAPartEndEventListener', function () {
        var partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        var token = engine.getPartEndListenerAccess().subscribe(partAlias, function (eventArgs) {
          log.logMessage('end.' + eventArgs.part.message);
        });
        var result = engine.getPartEndListenerAccess().unsubscribe(partAlias, token);
        var simpleTaskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias, 'test')]
        };
        expect(result).toBe(true);
        Promise.all(engine.handle(simpleTaskFlow)).then(function () {
          expect(engine.getLog().getMessages()).toEqual(['test']);
        });
      });
    }
  }, {
    key: "itMustBeAbleToUnsubscribeAPartStartEventListener",
    value: function itMustBeAbleToUnsubscribeAPartStartEventListener() {
      it('mustBeAbleToUnsubscribeAPartStartEventListener', function () {
        var partAlias = LogMessageTaskFlowPartAliasPrefix + 'sample';
        var log = new _sampleLog.SampleLog();
        var engine = new _logTaskEngine.LogTaskEngine(log);
        var token = engine.getPartStartListenerAccess().subscribe(partAlias, function (eventArgs) {
          log.logMessage('end.' + eventArgs.part.message);
        });
        var result = engine.getPartStartListenerAccess().unsubscribe(partAlias, token);
        var simpleTaskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(partAlias, 'test')]
        };
        expect(result).toBe(true);
        Promise.all(engine.handle(simpleTaskFlow)).then(function () {
          expect(engine.getLog().getMessages()).toEqual(['test']);
        });
      });
    }
  }, {
    key: "itMustBeInitializable",
    value: function itMustBeInitializable() {
      it('mustBeInitializable', function () {
        var engine = new _logTaskEngine.LogTaskEngine();
        expect(engine).not.toBeNull();
      });
    }
  }, {
    key: "itMustNotAllowToHandleANullInstance",
    value: function itMustNotAllowToHandleANullInstance() {
      it('mustNotAllowToHandleANullInstance', function () {
        var engine = new _logTaskEngine.LogTaskEngine();
        expect(function () {
          engine.handle(null);
        }).toThrowError();
      });
    }
  }, {
    key: "itMustNotAllowToHandleAnInstanceWithNoParts",
    value: function itMustNotAllowToHandleAnInstanceWithNoParts() {
      it('mustNotAllowToHandleAnInstanceWithNoParts', function () {
        var engine = new _logTaskEngine.LogTaskEngine();
        expect(function () {
          engine.handle({});
        }).toThrowError();
        expect(function () {
          engine.handle({
            parts: null
          });
        }).toThrowError();
      });
    }
  }, {
    key: "itMustNotBeAbleToHandleAnInvalidTask",
    value: function itMustNotBeAbleToHandleAnInvalidTask() {
      it('mustNotBeAbleToHandleAnInvalidTask', function () {
        var engine = new _logTaskEngine.LogTaskEngine();
        var simpleTaskFlow = {
          parts: [new _logMessageTaskFlowPart.LogMessageTaskFlowPart(LogMessageTaskFlowPartAliasPrefix + 'sample', 'test', null, {
            after: null,
            constraintType: 'invalidType'
          })]
        };
        Promise.all(engine.handle(simpleTaskFlow)).then(fail).catch(function (err) {
          return expect(err instanceof Error).toBe(true);
        });
      });
    }
  }, {
    key: "itMustStartWithALog",
    value: function itMustStartWithALog() {
      it('mustStartWithALog', function () {
        var engine = new _logTaskEngine.LogTaskEngine();
        expect(engine.getLog()).not.toBeNull();
      });
    }
  }, {
    key: "itMustStartWithNoMessages",
    value: function itMustStartWithNoMessages() {
      it('mustStartWithNoMessages', function () {
        var engine = new _logTaskEngine.LogTaskEngine();
        expect(engine.getLog().getMessages().length).toBe(0);
      });
    }
  }]);
  return LogTaskEngineTests;
}();

exports.LogTaskEngineTests = LogTaskEngineTests;

},{"../../task/flow/task-part-begin-constraint":4,"../../task/flow/task-part-end-constraint":6,"../../task/flow/task-part-group-constraint":7,"../../task/flow/task-part-time-constraint":8,"../../task/task-part-when-operator":12,"../logic/flow/log-message-task-flow-part":14,"../logic/log-task-engine":15,"../logic/sample-log":16,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/interopRequireDefault":24}],18:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OperationManagerTests = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _events = require("events");

var _operationManager = require("../../../task/operation/operation-manager");

var _logMessageTaskFlowPart = require("../../logic/flow/log-message-task-flow-part");

var _sampleLog = require("../../logic/sample-log");

var operationManagerTestEventAlias = 'test-alias';

var OperationManagerTests =
/*#__PURE__*/
function () {
  function OperationManagerTests() {
    (0, _classCallCheck2.default)(this, OperationManagerTests);
  }

  (0, _createClass2.default)(OperationManagerTests, [{
    key: "performTests",
    value: function performTests() {
      var _this = this;

      describe('Operation Manager Tests', function () {
        _this.itMustBeToBeAbleToBeDisposed();

        _this.itMustBeInitializable();

        _this.itMustBeAbleToRaiseAnEventListeners();

        _this.itMustBeAbleToRaiseMultipleEventListeners();

        _this.itMustNotBeAbleToUnsuscribeByAnUnregisteredAlias();
      });
    }
  }, {
    key: "itMustBeToBeAbleToBeDisposed",
    value: function itMustBeToBeAbleToBeDisposed() {
      it('mustBeToBeAbleToBeDisposed', function () {
        var eventEmitter = new _events.EventEmitter();
        var operationManager = new _operationManager.OperationManager(operationManagerTestEventAlias, eventEmitter);
        var log = new _sampleLog.SampleLog();
        operationManager.subscribe('sample-alias', function (eventArgs) {
          return log.logMessage(eventArgs.part.message);
        });
        operationManager.dispose();
        eventEmitter.emit(operationManagerTestEventAlias, {
          aliases: ['sample-alias'],
          part: new _logMessageTaskFlowPart.LogMessageTaskFlowPart('sample-task-alias', 'sample-message-text')
        });
        expect(log.getMessages()).toEqual([]);
      });
    }
  }, {
    key: "itMustBeAbleToRaiseAnEventListeners",
    value: function itMustBeAbleToRaiseAnEventListeners() {
      it('mustBeAbleToRaiseAnEventListeners', function () {
        var eventEmitter = new _events.EventEmitter();
        var operationManager = new _operationManager.OperationManager(operationManagerTestEventAlias, eventEmitter);
        var log = new _sampleLog.SampleLog();
        operationManager.subscribe('sample-alias', function (eventArgs) {
          return log.logMessage(eventArgs.part.message);
        });
        eventEmitter.emit(operationManagerTestEventAlias, {
          aliases: ['sample-alias'],
          part: new _logMessageTaskFlowPart.LogMessageTaskFlowPart('sample-task-alias', 'sample-message-text')
        });
        expect(log.getMessages()).toEqual(['sample-message-text']);
      });
    }
  }, {
    key: "itMustBeAbleToRaiseMultipleEventListeners",
    value: function itMustBeAbleToRaiseMultipleEventListeners() {
      it('mustBeAbleToRaiseMultipleEventListeners', function () {
        var eventEmitter = new _events.EventEmitter();
        var operationManager = new _operationManager.OperationManager(operationManagerTestEventAlias, eventEmitter);
        var log = new _sampleLog.SampleLog();
        operationManager.subscribe('sample-alias', function (eventArgs) {
          return log.logMessage(eventArgs.part.message);
        });
        operationManager.subscribe('sample-alias-2', function (eventArgs) {
          return log.logMessage(eventArgs.part.message);
        });
        eventEmitter.emit(operationManagerTestEventAlias, {
          aliases: null,
          part: new _logMessageTaskFlowPart.LogMessageTaskFlowPart('sample-task-alias', 'sample-message-text')
        });
        expect(log.getMessages()).toEqual(['sample-message-text', 'sample-message-text']);
      });
    }
  }, {
    key: "itMustBeInitializable",
    value: function itMustBeInitializable() {
      it('mustBeInitializable', function () {
        var eventEmitter = new _events.EventEmitter();
        var operationManager = new _operationManager.OperationManager(operationManagerTestEventAlias, eventEmitter);
        expect(operationManager).not.toBeNull();
      });
    }
  }, {
    key: "itMustNotBeAbleToUnsuscribeByAnUnregisteredAlias",
    value: function itMustNotBeAbleToUnsuscribeByAnUnregisteredAlias() {
      it('mustNotBeAbleToUnsuscribeByAnUnregisteredAlias', function () {
        var eventEmitter = new _events.EventEmitter();
        var operationManager = new _operationManager.OperationManager(operationManagerTestEventAlias, eventEmitter);
        expect(operationManager.unsubscribe('unexisting-alias', 0)).toBe(false);
      });
    }
  }]);
  return OperationManagerTests;
}();

exports.OperationManagerTests = OperationManagerTests;

},{"../../../task/operation/operation-manager":9,"../../logic/flow/log-message-task-flow-part":14,"../../logic/sample-log":16,"@babel/runtime/helpers/classCallCheck":20,"@babel/runtime/helpers/createClass":21,"@babel/runtime/helpers/interopRequireDefault":24,"events":28}],19:[function(require,module,exports){
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

module.exports = _assertThisInitialized;
},{}],20:[function(require,module,exports){
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

module.exports = _classCallCheck;
},{}],21:[function(require,module,exports){
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

module.exports = _createClass;
},{}],22:[function(require,module,exports){
function _getPrototypeOf(o) {
  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

module.exports = _getPrototypeOf;
},{}],23:[function(require,module,exports){
var setPrototypeOf = require("./setPrototypeOf");

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) setPrototypeOf(subClass, superClass);
}

module.exports = _inherits;
},{"./setPrototypeOf":26}],24:[function(require,module,exports){
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

module.exports = _interopRequireDefault;
},{}],25:[function(require,module,exports){
var _typeof = require("../helpers/typeof");

var assertThisInitialized = require("./assertThisInitialized");

function _possibleConstructorReturn(self, call) {
  if (call && (_typeof(call) === "object" || typeof call === "function")) {
    return call;
  }

  return assertThisInitialized(self);
}

module.exports = _possibleConstructorReturn;
},{"../helpers/typeof":27,"./assertThisInitialized":19}],26:[function(require,module,exports){
function _setPrototypeOf(o, p) {
  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

module.exports = _setPrototypeOf;
},{}],27:[function(require,module,exports){
function _typeof2(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof2(obj); }

function _typeof(obj) {
  if (typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol") {
    module.exports = _typeof = function _typeof(obj) {
      return _typeof2(obj);
    };
  } else {
    module.exports = _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : _typeof2(obj);
    };
  }

  return _typeof(obj);
}

module.exports = _typeof;
},{}],28:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var objectCreate = Object.create || objectCreatePolyfill
var objectKeys = Object.keys || objectKeysPolyfill
var bind = Function.prototype.bind || functionBindPolyfill

function EventEmitter() {
  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {
    this._events = objectCreate(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

var hasDefineProperty;
try {
  var o = {};
  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });
  hasDefineProperty = o.x === 0;
} catch (err) { hasDefineProperty = false }
if (hasDefineProperty) {
  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
    enumerable: true,
    get: function() {
      return defaultMaxListeners;
    },
    set: function(arg) {
      // check whether the input is a positive number (whose value is zero or
      // greater and not a NaN).
      if (typeof arg !== 'number' || arg < 0 || arg !== arg)
        throw new TypeError('"defaultMaxListeners" must be a positive number');
      defaultMaxListeners = arg;
    }
  });
} else {
  EventEmitter.defaultMaxListeners = defaultMaxListeners;
}

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || isNaN(n))
    throw new TypeError('"n" argument must be a positive number');
  this._maxListeners = n;
  return this;
};

function $getMaxListeners(that) {
  if (that._maxListeners === undefined)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return $getMaxListeners(this);
};

// These standalone emit* functions are used to optimize calling of event
// handlers for fast cases because emit() itself often has a variable number of
// arguments and can be deoptimized because of that. These functions always have
// the same number of arguments and thus do not get deoptimized, so the code
// inside them can execute faster.
function emitNone(handler, isFn, self) {
  if (isFn)
    handler.call(self);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self);
  }
}
function emitOne(handler, isFn, self, arg1) {
  if (isFn)
    handler.call(self, arg1);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self, arg1);
  }
}
function emitTwo(handler, isFn, self, arg1, arg2) {
  if (isFn)
    handler.call(self, arg1, arg2);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self, arg1, arg2);
  }
}
function emitThree(handler, isFn, self, arg1, arg2, arg3) {
  if (isFn)
    handler.call(self, arg1, arg2, arg3);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self, arg1, arg2, arg3);
  }
}

function emitMany(handler, isFn, self, args) {
  if (isFn)
    handler.apply(self, args);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].apply(self, args);
  }
}

EventEmitter.prototype.emit = function emit(type) {
  var er, handler, len, args, i, events;
  var doError = (type === 'error');

  events = this._events;
  if (events)
    doError = (doError && events.error == null);
  else if (!doError)
    return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    if (arguments.length > 1)
      er = arguments[1];
    if (er instanceof Error) {
      throw er; // Unhandled 'error' event
    } else {
      // At least give some kind of context to the user
      var err = new Error('Unhandled "error" event. (' + er + ')');
      err.context = er;
      throw err;
    }
    return false;
  }

  handler = events[type];

  if (!handler)
    return false;

  var isFn = typeof handler === 'function';
  len = arguments.length;
  switch (len) {
      // fast cases
    case 1:
      emitNone(handler, isFn, this);
      break;
    case 2:
      emitOne(handler, isFn, this, arguments[1]);
      break;
    case 3:
      emitTwo(handler, isFn, this, arguments[1], arguments[2]);
      break;
    case 4:
      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);
      break;
      // slower
    default:
      args = new Array(len - 1);
      for (i = 1; i < len; i++)
        args[i - 1] = arguments[i];
      emitMany(handler, isFn, this, args);
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  if (typeof listener !== 'function')
    throw new TypeError('"listener" argument must be a function');

  events = target._events;
  if (!events) {
    events = target._events = objectCreate(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener) {
      target.emit('newListener', type,
          listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (!existing) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] =
          prepend ? [listener, existing] : [existing, listener];
    } else {
      // If we've already got an array, just append.
      if (prepend) {
        existing.unshift(listener);
      } else {
        existing.push(listener);
      }
    }

    // Check for listener leak
    if (!existing.warned) {
      m = $getMaxListeners(target);
      if (m && m > 0 && existing.length > m) {
        existing.warned = true;
        var w = new Error('Possible EventEmitter memory leak detected. ' +
            existing.length + ' "' + String(type) + '" listeners ' +
            'added. Use emitter.setMaxListeners() to ' +
            'increase limit.');
        w.name = 'MaxListenersExceededWarning';
        w.emitter = target;
        w.type = type;
        w.count = existing.length;
        if (typeof console === 'object' && console.warn) {
          console.warn('%s: %s', w.name, w.message);
        }
      }
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener =
    function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    switch (arguments.length) {
      case 0:
        return this.listener.call(this.target);
      case 1:
        return this.listener.call(this.target, arguments[0]);
      case 2:
        return this.listener.call(this.target, arguments[0], arguments[1]);
      case 3:
        return this.listener.call(this.target, arguments[0], arguments[1],
            arguments[2]);
      default:
        var args = new Array(arguments.length);
        for (var i = 0; i < args.length; ++i)
          args[i] = arguments[i];
        this.listener.apply(this.target, args);
    }
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = bind.call(onceWrapper, state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  if (typeof listener !== 'function')
    throw new TypeError('"listener" argument must be a function');
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener =
    function prependOnceListener(type, listener) {
      if (typeof listener !== 'function')
        throw new TypeError('"listener" argument must be a function');
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener =
    function removeListener(type, listener) {
      var list, events, position, i, originalListener;

      if (typeof listener !== 'function')
        throw new TypeError('"listener" argument must be a function');

      events = this._events;
      if (!events)
        return this;

      list = events[type];
      if (!list)
        return this;

      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = objectCreate(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit('removeListener', type, list.listener || listener);
        }
      } else if (typeof list !== 'function') {
        position = -1;

        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }

        if (position < 0)
          return this;

        if (position === 0)
          list.shift();
        else
          spliceOne(list, position);

        if (list.length === 1)
          events[type] = list[0];

        if (events.removeListener)
          this.emit('removeListener', type, originalListener || listener);
      }

      return this;
    };

EventEmitter.prototype.removeAllListeners =
    function removeAllListeners(type) {
      var listeners, events, i;

      events = this._events;
      if (!events)
        return this;

      // not listening for removeListener, no need to emit
      if (!events.removeListener) {
        if (arguments.length === 0) {
          this._events = objectCreate(null);
          this._eventsCount = 0;
        } else if (events[type]) {
          if (--this._eventsCount === 0)
            this._events = objectCreate(null);
          else
            delete events[type];
        }
        return this;
      }

      // emit removeListener for all listeners on all events
      if (arguments.length === 0) {
        var keys = objectKeys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === 'removeListener') continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = objectCreate(null);
        this._eventsCount = 0;
        return this;
      }

      listeners = events[type];

      if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
      } else if (listeners) {
        // LIFO order
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }

      return this;
    };

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (!events)
    return [];

  var evlistener = events[type];
  if (!evlistener)
    return [];

  if (typeof evlistener === 'function')
    return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
};

// About 1.5x faster than the two-arg version of Array#splice().
function spliceOne(list, index) {
  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)
    list[i] = list[k];
  list.pop();
}

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i)
    copy[i] = arr[i];
  return copy;
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function objectCreatePolyfill(proto) {
  var F = function() {};
  F.prototype = proto;
  return new F;
}
function objectKeysPolyfill(obj) {
  var keys = [];
  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {
    keys.push(k);
  }
  return k;
}
function functionBindPolyfill(context) {
  var fn = this;
  return function () {
    return fn.apply(context, arguments);
  };
}

},{}]},{},[2])(2)
});

//# sourceMappingURL=bundle.test.js.map
